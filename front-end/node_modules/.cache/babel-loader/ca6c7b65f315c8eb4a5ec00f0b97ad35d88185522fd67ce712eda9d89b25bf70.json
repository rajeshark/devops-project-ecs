{"ast":null,"code":"import _objectSpread from\"D:/raju new 1/front-end/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"D:/raju new 1/front-end/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8;import React,{useState,useEffect}from\"react\";import{useLocation}from\"react-router-dom\";import styled from\"styled-components\";import axios from\"axios\";import Products from\"../components/Products\";// FIXED: Import Products component\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 20px;\\n\"])));const Title=styled.h1(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  margin: 20px;\\n  text-align: center;\\n  text-transform: capitalize;\\n\"])));const FilterContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  margin: 20px;\\n  flex-wrap: wrap;\\n  gap: 15px;\\n\"])));const Filter=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  gap: 15px;\\n  flex-wrap: wrap;\\n\"])));const FilterText=styled.span(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  font-size: 18px;\\n  font-weight: 600;\\n\"])));const Select=styled.select(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  padding: 8px 12px;\\n  border: 1px solid #ddd;\\n  border-radius: 4px;\\n  min-width: 120px;\\n\"])));const Option=styled.option(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\"])));const Loading=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  padding: 50px;\\n  font-size: 18px;\\n\"])));const ProductList=()=>{const location=useLocation();const category=location.pathname.split(\"/\")[2];// Gets 'men', 'women', 'accessories'\nconst[products,setProducts]=useState([]);const[filteredProducts,setFilteredProducts]=useState([]);const[loading,setLoading]=useState(true);const[filters,setFilters]=useState({size:\"\",color:\"\"});// Fetch all products from your backend\nuseEffect(()=>{const fetchProducts=async()=>{try{setLoading(true);const response=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products\"));setProducts(response.data);}catch(error){console.error(\"Error fetching products:\",error);}finally{setLoading(false);}};fetchProducts();},[]);// Filter products based on category\nuseEffect(()=>{if(products.length===0)return;let filtered=products.filter(product=>{// If no category selected or 'all', show all products\nif(!category||category===\"all\")return true;// Use the existing categories array from your product data\nswitch(category){case\"men\":return product.categories.includes(\"men's clothing\");case\"women\":return product.categories.includes(\"jewelery\");case\"accessories\":return product.categories.includes(\"electronics\")||product.categories.includes(\"jewelery\");default:return true;}});// Apply additional filters (size, color)\nif(filters.size){filtered=filtered.filter(product=>product.size.includes(filters.size));}if(filters.color){filtered=filtered.filter(product=>product.color.includes(filters.color));}setFilteredProducts(filtered);},[products,category,filters]);const handleFilters=e=>{const value=e.target.value;setFilters(_objectSpread(_objectSpread({},filters),{},{[e.target.name]:value}));};if(loading){return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Loading,{children:\"Loading products...\"})});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Title,{children:category?\"\".concat(category,\" Products\"):\"All Products\"}),/*#__PURE__*/_jsx(FilterContainer,{children:/*#__PURE__*/_jsxs(Filter,{children:[/*#__PURE__*/_jsx(FilterText,{children:\"Filter Products:\"}),/*#__PURE__*/_jsxs(Select,{name:\"size\",onChange:handleFilters,value:filters.size,children:[/*#__PURE__*/_jsx(Option,{value:\"\",children:\"All Sizes\"}),/*#__PURE__*/_jsx(Option,{value:\"S\",children:\"Small (S)\"}),/*#__PURE__*/_jsx(Option,{value:\"M\",children:\"Medium (M)\"}),/*#__PURE__*/_jsx(Option,{value:\"L\",children:\"Large (L)\"}),/*#__PURE__*/_jsx(Option,{value:\"XL\",children:\"XL\"}),/*#__PURE__*/_jsx(Option,{value:\"XXL\",children:\"XXL\"}),/*#__PURE__*/_jsx(Option,{value:\"One Size\",children:\"One Size\"})]}),/*#__PURE__*/_jsxs(Select,{name:\"color\",onChange:handleFilters,value:filters.color,children:[/*#__PURE__*/_jsx(Option,{value:\"\",children:\"All Colors\"}),/*#__PURE__*/_jsx(Option,{value:\"black\",children:\"Black\"}),/*#__PURE__*/_jsx(Option,{value:\"white\",children:\"White\"}),/*#__PURE__*/_jsx(Option,{value:\"blue\",children:\"Blue\"}),/*#__PURE__*/_jsx(Option,{value:\"red\",children:\"Red\"}),/*#__PURE__*/_jsx(Option,{value:\"navy\",children:\"Navy\"}),/*#__PURE__*/_jsx(Option,{value:\"gray\",children:\"Gray\"}),/*#__PURE__*/_jsx(Option,{value:\"gold\",children:\"Gold\"}),/*#__PURE__*/_jsx(Option,{value:\"silver\",children:\"Silver\"})]})]})}),/*#__PURE__*/_jsx(Products,{products:filteredProducts,loading:false})]});};export default ProductList;","map":{"version":3,"names":["React","useState","useEffect","useLocation","styled","axios","Products","jsx","_jsx","jsxs","_jsxs","Container","div","_templateObject","_taggedTemplateLiteral","Title","h1","_templateObject2","FilterContainer","_templateObject3","Filter","_templateObject4","FilterText","span","_templateObject5","Select","select","_templateObject6","Option","option","_templateObject7","Loading","_templateObject8","ProductList","location","category","pathname","split","products","setProducts","filteredProducts","setFilteredProducts","loading","setLoading","filters","setFilters","size","color","fetchProducts","response","get","concat","process","env","REACT_APP_API_URL","data","error","console","length","filtered","filter","product","categories","includes","handleFilters","e","value","target","_objectSpread","name","children","onChange"],"sources":["D:/raju new 1/front-end/src/pages/ProductList.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\nimport Products from \"../components/Products\"; // FIXED: Import Products component\r\n\r\nconst Container = styled.div`\r\n  padding: 20px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  margin: 20px;\r\n  text-align: center;\r\n  text-transform: capitalize;\r\n`;\r\n\r\nconst FilterContainer = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin: 20px;\r\n  flex-wrap: wrap;\r\n  gap: 15px;\r\n`;\r\n\r\nconst Filter = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst FilterText = styled.span`\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst Select = styled.select`\r\n  padding: 8px 12px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  min-width: 120px;\r\n`;\r\n\r\nconst Option = styled.option``;\r\n\r\nconst Loading = styled.div`\r\n  text-align: center;\r\n  padding: 50px;\r\n  font-size: 18px;\r\n`;\r\n\r\nconst ProductList = () => {\r\n  const location = useLocation();\r\n  const category = location.pathname.split(\"/\")[2]; // Gets 'men', 'women', 'accessories'\r\n  const [products, setProducts] = useState([]);\r\n  const [filteredProducts, setFilteredProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filters, setFilters] = useState({\r\n    size: \"\",\r\n    color: \"\"\r\n  });\r\n\r\n  // Fetch all products from your backend\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/products`);\r\n        setProducts(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching products:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  // Filter products based on category\r\n  useEffect(() => {\r\n    if (products.length === 0) return;\r\n\r\n    let filtered = products.filter((product) => {\r\n      // If no category selected or 'all', show all products\r\n      if (!category || category === \"all\") return true;\r\n\r\n      // Use the existing categories array from your product data\r\n      switch(category) {\r\n        case \"men\":\r\n          return product.categories.includes(\"men's clothing\");\r\n        case \"women\":\r\n          return product.categories.includes(\"jewelery\");\r\n        case \"accessories\":\r\n          return product.categories.includes(\"electronics\") || \r\n                 product.categories.includes(\"jewelery\");\r\n        default:\r\n          return true;\r\n      }\r\n    });\r\n\r\n    // Apply additional filters (size, color)\r\n    if (filters.size) {\r\n      filtered = filtered.filter(product => \r\n        product.size.includes(filters.size)\r\n      );\r\n    }\r\n\r\n    if (filters.color) {\r\n      filtered = filtered.filter(product => \r\n        product.color.includes(filters.color)\r\n      );\r\n    }\r\n\r\n    setFilteredProducts(filtered);\r\n  }, [products, category, filters]);\r\n\r\n  const handleFilters = (e) => {\r\n    const value = e.target.value;\r\n    setFilters({\r\n      ...filters,\r\n      [e.target.name]: value,\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container>\r\n        <Loading>Loading products...</Loading>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Title>{category ? `${category} Products` : \"All Products\"}</Title>\r\n      \r\n      <FilterContainer>\r\n        <Filter>\r\n          <FilterText>Filter Products:</FilterText>\r\n          <Select name=\"size\" onChange={handleFilters} value={filters.size}>\r\n            <Option value=\"\">All Sizes</Option>\r\n            <Option value=\"S\">Small (S)</Option>\r\n            <Option value=\"M\">Medium (M)</Option>\r\n            <Option value=\"L\">Large (L)</Option>\r\n            <Option value=\"XL\">XL</Option>\r\n            <Option value=\"XXL\">XXL</Option>\r\n            <Option value=\"One Size\">One Size</Option>\r\n          </Select>\r\n          \r\n          <Select name=\"color\" onChange={handleFilters} value={filters.color}>\r\n            <Option value=\"\">All Colors</Option>\r\n            <Option value=\"black\">Black</Option>\r\n            <Option value=\"white\">White</Option>\r\n            <Option value=\"blue\">Blue</Option>\r\n            <Option value=\"red\">Red</Option>\r\n            <Option value=\"navy\">Navy</Option>\r\n            <Option value=\"gray\">Gray</Option>\r\n            <Option value=\"gold\">Gold</Option>\r\n            <Option value=\"silver\">Silver</Option>\r\n          </Select>\r\n        </Filter>\r\n      </FilterContainer>\r\n\r\n      {/* Use the Products component instead of manual mapping */}\r\n      <Products products={filteredProducts} loading={false} />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ProductList;"],"mappings":"oXAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,SAAS,CAAGP,MAAM,CAACQ,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,4BAE3B,CAED,KAAM,CAAAC,KAAK,CAAGX,MAAM,CAACY,EAAE,CAAAC,gBAAA,GAAAA,gBAAA,CAAAH,sBAAA,iFAItB,CAED,KAAM,CAAAI,eAAe,CAAGd,MAAM,CAACQ,GAAG,CAAAO,gBAAA,GAAAA,gBAAA,CAAAL,sBAAA,kHAMjC,CAED,KAAM,CAAAM,MAAM,CAAGhB,MAAM,CAACQ,GAAG,CAAAS,gBAAA,GAAAA,gBAAA,CAAAP,sBAAA,sFAKxB,CAED,KAAM,CAAAQ,UAAU,CAAGlB,MAAM,CAACmB,IAAI,CAAAC,gBAAA,GAAAA,gBAAA,CAAAV,sBAAA,mDAG7B,CAED,KAAM,CAAAW,MAAM,CAAGrB,MAAM,CAACsB,MAAM,CAAAC,gBAAA,GAAAA,gBAAA,CAAAb,sBAAA,uGAK3B,CAED,KAAM,CAAAc,MAAM,CAAGxB,MAAM,CAACyB,MAAM,CAAAC,gBAAA,GAAAA,gBAAA,CAAAhB,sBAAA,QAAE,CAE9B,KAAM,CAAAiB,OAAO,CAAG3B,MAAM,CAACQ,GAAG,CAAAoB,gBAAA,GAAAA,gBAAA,CAAAlB,sBAAA,uEAIzB,CAED,KAAM,CAAAmB,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAAC,QAAQ,CAAG/B,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAgC,QAAQ,CAAGD,QAAQ,CAACE,QAAQ,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAE;AAClD,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGtC,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACuC,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGxC,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACyC,OAAO,CAAEC,UAAU,CAAC,CAAG1C,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAAC2C,OAAO,CAAEC,UAAU,CAAC,CAAG5C,QAAQ,CAAC,CACrC6C,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EACT,CAAC,CAAC,CAEF;AACA7C,SAAS,CAAC,IAAM,CACd,KAAM,CAAA8C,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACFL,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAM,QAAQ,CAAG,KAAM,CAAA5C,KAAK,CAAC6C,GAAG,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,iBAAiB,iBAAe,CAAC,CACjFf,WAAW,CAACU,QAAQ,CAACM,IAAI,CAAC,CAC5B,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAClD,CAAC,OAAS,CACRb,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CACDK,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN;AACA9C,SAAS,CAAC,IAAM,CACd,GAAIoC,QAAQ,CAACoB,MAAM,GAAK,CAAC,CAAE,OAE3B,GAAI,CAAAC,QAAQ,CAAGrB,QAAQ,CAACsB,MAAM,CAAEC,OAAO,EAAK,CAC1C;AACA,GAAI,CAAC1B,QAAQ,EAAIA,QAAQ,GAAK,KAAK,CAAE,MAAO,KAAI,CAEhD;AACA,OAAOA,QAAQ,EACb,IAAK,KAAK,CACR,MAAO,CAAA0B,OAAO,CAACC,UAAU,CAACC,QAAQ,CAAC,gBAAgB,CAAC,CACtD,IAAK,OAAO,CACV,MAAO,CAAAF,OAAO,CAACC,UAAU,CAACC,QAAQ,CAAC,UAAU,CAAC,CAChD,IAAK,aAAa,CAChB,MAAO,CAAAF,OAAO,CAACC,UAAU,CAACC,QAAQ,CAAC,aAAa,CAAC,EAC1CF,OAAO,CAACC,UAAU,CAACC,QAAQ,CAAC,UAAU,CAAC,CAChD,QACE,MAAO,KAAI,CACf,CACF,CAAC,CAAC,CAEF;AACA,GAAInB,OAAO,CAACE,IAAI,CAAE,CAChBa,QAAQ,CAAGA,QAAQ,CAACC,MAAM,CAACC,OAAO,EAChCA,OAAO,CAACf,IAAI,CAACiB,QAAQ,CAACnB,OAAO,CAACE,IAAI,CACpC,CAAC,CACH,CAEA,GAAIF,OAAO,CAACG,KAAK,CAAE,CACjBY,QAAQ,CAAGA,QAAQ,CAACC,MAAM,CAACC,OAAO,EAChCA,OAAO,CAACd,KAAK,CAACgB,QAAQ,CAACnB,OAAO,CAACG,KAAK,CACtC,CAAC,CACH,CAEAN,mBAAmB,CAACkB,QAAQ,CAAC,CAC/B,CAAC,CAAE,CAACrB,QAAQ,CAAEH,QAAQ,CAAES,OAAO,CAAC,CAAC,CAEjC,KAAM,CAAAoB,aAAa,CAAIC,CAAC,EAAK,CAC3B,KAAM,CAAAC,KAAK,CAAGD,CAAC,CAACE,MAAM,CAACD,KAAK,CAC5BrB,UAAU,CAAAuB,aAAA,CAAAA,aAAA,IACLxB,OAAO,MACV,CAACqB,CAAC,CAACE,MAAM,CAACE,IAAI,EAAGH,KAAK,EACvB,CAAC,CACJ,CAAC,CAED,GAAIxB,OAAO,CAAE,CACX,mBACElC,IAAA,CAACG,SAAS,EAAA2D,QAAA,cACR9D,IAAA,CAACuB,OAAO,EAAAuC,QAAA,CAAC,qBAAmB,CAAS,CAAC,CAC7B,CAAC,CAEhB,CAEA,mBACE5D,KAAA,CAACC,SAAS,EAAA2D,QAAA,eACR9D,IAAA,CAACO,KAAK,EAAAuD,QAAA,CAAEnC,QAAQ,IAAAgB,MAAA,CAAMhB,QAAQ,cAAc,cAAc,CAAQ,CAAC,cAEnE3B,IAAA,CAACU,eAAe,EAAAoD,QAAA,cACd5D,KAAA,CAACU,MAAM,EAAAkD,QAAA,eACL9D,IAAA,CAACc,UAAU,EAAAgD,QAAA,CAAC,kBAAgB,CAAY,CAAC,cACzC5D,KAAA,CAACe,MAAM,EAAC4C,IAAI,CAAC,MAAM,CAACE,QAAQ,CAAEP,aAAc,CAACE,KAAK,CAAEtB,OAAO,CAACE,IAAK,CAAAwB,QAAA,eAC/D9D,IAAA,CAACoB,MAAM,EAACsC,KAAK,CAAC,EAAE,CAAAI,QAAA,CAAC,WAAS,CAAQ,CAAC,cACnC9D,IAAA,CAACoB,MAAM,EAACsC,KAAK,CAAC,GAAG,CAAAI,QAAA,CAAC,WAAS,CAAQ,CAAC,cACpC9D,IAAA,CAACoB,MAAM,EAACsC,KAAK,CAAC,GAAG,CAAAI,QAAA,CAAC,YAAU,CAAQ,CAAC,cACrC9D,IAAA,CAACoB,MAAM,EAACsC,KAAK,CAAC,GAAG,CAAAI,QAAA,CAAC,WAAS,CAAQ,CAAC,cACpC9D,IAAA,CAACoB,MAAM,EAACsC,KAAK,CAAC,IAAI,CAAAI,QAAA,CAAC,IAAE,CAAQ,CAAC,cAC9B9D,IAAA,CAACoB,MAAM,EAACsC,KAAK,CAAC,KAAK,CAAAI,QAAA,CAAC,KAAG,CAAQ,CAAC,cAChC9D,IAAA,CAACoB,MAAM,EAACsC,KAAK,CAAC,UAAU,CAAAI,QAAA,CAAC,UAAQ,CAAQ,CAAC,EACpC,CAAC,cAET5D,KAAA,CAACe,MAAM,EAAC4C,IAAI,CAAC,OAAO,CAACE,QAAQ,CAAEP,aAAc,CAACE,KAAK,CAAEtB,OAAO,CAACG,KAAM,CAAAuB,QAAA,eACjE9D,IAAA,CAACoB,MAAM,EAACsC,KAAK,CAAC,EAAE,CAAAI,QAAA,CAAC,YAAU,CAAQ,CAAC,cACpC9D,IAAA,CAACoB,MAAM,EAACsC,KAAK,CAAC,OAAO,CAAAI,QAAA,CAAC,OAAK,CAAQ,CAAC,cACpC9D,IAAA,CAACoB,MAAM,EAACsC,KAAK,CAAC,OAAO,CAAAI,QAAA,CAAC,OAAK,CAAQ,CAAC,cACpC9D,IAAA,CAACoB,MAAM,EAACsC,KAAK,CAAC,MAAM,CAAAI,QAAA,CAAC,MAAI,CAAQ,CAAC,cAClC9D,IAAA,CAACoB,MAAM,EAACsC,KAAK,CAAC,KAAK,CAAAI,QAAA,CAAC,KAAG,CAAQ,CAAC,cAChC9D,IAAA,CAACoB,MAAM,EAACsC,KAAK,CAAC,MAAM,CAAAI,QAAA,CAAC,MAAI,CAAQ,CAAC,cAClC9D,IAAA,CAACoB,MAAM,EAACsC,KAAK,CAAC,MAAM,CAAAI,QAAA,CAAC,MAAI,CAAQ,CAAC,cAClC9D,IAAA,CAACoB,MAAM,EAACsC,KAAK,CAAC,MAAM,CAAAI,QAAA,CAAC,MAAI,CAAQ,CAAC,cAClC9D,IAAA,CAACoB,MAAM,EAACsC,KAAK,CAAC,QAAQ,CAAAI,QAAA,CAAC,QAAM,CAAQ,CAAC,EAChC,CAAC,EACH,CAAC,CACM,CAAC,cAGlB9D,IAAA,CAACF,QAAQ,EAACgC,QAAQ,CAAEE,gBAAiB,CAACE,OAAO,CAAE,KAAM,CAAE,CAAC,EAC/C,CAAC,CAEhB,CAAC,CAED,cAAe,CAAAT,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}