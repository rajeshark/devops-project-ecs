{"ast":null,"code":"import _taggedTemplateLiteral from\"D:/raju new 1/front-end/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0;import React,{useState,useEffect}from\"react\";import styled from\"styled-components\";import axios from\"axios\";import{useParams}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\"])));const Wrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  padding: 50px;\\n  display: flex;\\n\"])));const ImgContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  flex: 1;\\n\"])));const Image=styled.img(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 90vh;\\n  object-fit: cover;\\n\"])));const InfoContainer=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  padding: 0px 50px;\\n\"])));const Title=styled.h1(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  font-weight: 200;\\n\"])));const Desc=styled.p(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  margin: 20px 0px;\\n\"])));const Price=styled.span(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  font-weight: 100;\\n  font-size: 40px;\\n\"])));const AddContainer=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  width: 50%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n\"])));const Button=styled.button(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  padding: 15px;\\n  border: 2px solid teal;\\n  background-color: white;\\n  cursor: pointer;\\n  font-weight: 500;\\n  &:hover {\\n    background-color: #f8f4f4;\\n  }\\n\"])));const ProductPage=()=>{const{id}=useParams();const[product,setProduct]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchProduct=async()=>{try{const response=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/\").concat(id));setProduct(response.data);}catch(error){console.error(\"Error fetching product:\",error);}finally{setLoading(false);}};fetchProduct();},[id]);const addToCart=async()=>{const token=localStorage.getItem('token');if(!token){alert('Please login to add items to cart');return;}try{const base64Payload=token.split('.')[1];const payload=JSON.parse(atob(base64Payload));const userId=payload.userId;const cartItem={productId:product.id,quantity:1,price:product.price,title:product.title,img:product.img};await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/cart/\").concat(userId),cartItem,{headers:{Authorization:\"Bearer \".concat(token)}});alert('Product added to cart!');}catch(error){console.error('Error adding to cart:',error);alert('Failed to add product to cart');}};if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading product...\"});}if(!product){return/*#__PURE__*/_jsx(\"div\",{children:\"Product not found\"});}return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(ImgContainer,{children:/*#__PURE__*/_jsx(Image,{src:product.img})}),/*#__PURE__*/_jsxs(InfoContainer,{children:[/*#__PURE__*/_jsx(Title,{children:product.title}),/*#__PURE__*/_jsx(Desc,{children:product.desc}),/*#__PURE__*/_jsxs(Price,{children:[\"$ \",product.price]}),/*#__PURE__*/_jsx(AddContainer,{children:/*#__PURE__*/_jsx(Button,{onClick:addToCart,children:\"ADD TO CART\"})})]})]})});};export default ProductPage;","map":{"version":3,"names":["React","useState","useEffect","styled","axios","useParams","jsx","_jsx","jsxs","_jsxs","Container","div","_templateObject","_taggedTemplateLiteral","Wrapper","_templateObject2","ImgContainer","_templateObject3","Image","img","_templateObject4","InfoContainer","_templateObject5","Title","h1","_templateObject6","Desc","p","_templateObject7","Price","span","_templateObject8","AddContainer","_templateObject9","Button","button","_templateObject0","ProductPage","id","product","setProduct","loading","setLoading","fetchProduct","response","get","concat","process","env","REACT_APP_API_URL","data","error","console","addToCart","token","localStorage","getItem","alert","base64Payload","split","payload","JSON","parse","atob","userId","cartItem","productId","quantity","price","title","post","headers","Authorization","children","src","desc","onClick"],"sources":["D:/raju new 1/front-end/src/pages/ProductPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst Container = styled.div``;\r\n\r\nconst Wrapper = styled.div`\r\n  padding: 50px;\r\n  display: flex;\r\n`;\r\n\r\nconst ImgContainer = styled.div`\r\n  flex: 1;\r\n`;\r\n\r\nconst Image = styled.img`\r\n  width: 100%;\r\n  height: 90vh;\r\n  object-fit: cover;\r\n`;\r\n\r\nconst InfoContainer = styled.div`\r\n  flex: 1;\r\n  padding: 0px 50px;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-weight: 200;\r\n`;\r\n\r\nconst Desc = styled.p`\r\n  margin: 20px 0px;\r\n`;\r\n\r\nconst Price = styled.span`\r\n  font-weight: 100;\r\n  font-size: 40px;\r\n`;\r\n\r\nconst AddContainer = styled.div`\r\n  width: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 15px;\r\n  border: 2px solid teal;\r\n  background-color: white;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  &:hover {\r\n    background-color: #f8f4f4;\r\n  }\r\n`;\r\n\r\nconst ProductPage = () => {\r\n  const { id } = useParams();\r\n  const [product, setProduct] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchProduct = async () => {\r\n      try {\r\n        const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/products/${id}`);\r\n        setProduct(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching product:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProduct();\r\n  }, [id]);\r\n\r\n  const addToCart = async () => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      alert('Please login to add items to cart');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const base64Payload = token.split('.')[1];\r\n      const payload = JSON.parse(atob(base64Payload));\r\n      const userId = payload.userId;\r\n\r\n      const cartItem = {\r\n        productId: product.id,\r\n        quantity: 1,\r\n        price: product.price,\r\n        title: product.title,\r\n        img: product.img\r\n      };\r\n\r\n      await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/cart/${userId}`,\r\n        cartItem,\r\n        { \r\n          headers: { \r\n            Authorization: `Bearer ${token}` \r\n          } \r\n        }\r\n      );\r\n      \r\n      alert('Product added to cart!');\r\n    } catch (error) {\r\n      console.error('Error adding to cart:', error);\r\n      alert('Failed to add product to cart');\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <div>Loading product...</div>;\r\n  }\r\n\r\n  if (!product) {\r\n    return <div>Product not found</div>;\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Wrapper>\r\n        <ImgContainer>\r\n          <Image src={product.img} />\r\n        </ImgContainer>\r\n        <InfoContainer>\r\n          <Title>{product.title}</Title>\r\n          <Desc>{product.desc}</Desc>\r\n          <Price>$ {product.price}</Price>\r\n          <AddContainer>\r\n            <Button onClick={addToCart}>ADD TO CART</Button>\r\n          </AddContainer>\r\n        </InfoContainer>\r\n      </Wrapper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ProductPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}