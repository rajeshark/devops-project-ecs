{"ast":null,"code":"import React,{createContext,useContext}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";const ApiContext=/*#__PURE__*/createContext();export const useApi=()=>{return useContext(ApiContext);};export const ApiProvider=_ref=>{let{children}=_ref;// Axios interceptor for adding auth token\naxios.interceptors.request.use(config=>{const token=localStorage.getItem('token');if(token){config.headers.Authorization=\"Bearer \".concat(token);}return config;},error=>{return Promise.reject(error);});// Axios interceptor for handling responses\naxios.interceptors.response.use(response=>response,error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){localStorage.removeItem('token');window.location.href='/login';}return Promise.reject(error);});const value={// API utility functions can be added here\n};return/*#__PURE__*/_jsx(ApiContext.Provider,{value:value,children:children});};","map":{"version":3,"names":["React","createContext","useContext","axios","jsx","_jsx","ApiContext","useApi","ApiProvider","_ref","children","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","concat","error","Promise","reject","response","_error$response","status","removeItem","window","location","href","value","Provider"],"sources":["D:/raju new 1/front-end/src/context/ApiContext.js"],"sourcesContent":["import React, { createContext, useContext } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ApiContext = createContext();\r\n\r\nexport const useApi = () => {\r\n  return useContext(ApiContext);\r\n};\r\n\r\nexport const ApiProvider = ({ children }) => {\r\n  \r\n  // Axios interceptor for adding auth token\r\n  axios.interceptors.request.use(\r\n    (config) => {\r\n      const token = localStorage.getItem('token');\r\n      if (token) {\r\n        config.headers.Authorization = `Bearer ${token}`;\r\n      }\r\n      return config;\r\n    },\r\n    (error) => {\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n\r\n  // Axios interceptor for handling responses\r\n  axios.interceptors.response.use(\r\n    (response) => response,\r\n    (error) => {\r\n      if (error.response?.status === 401) {\r\n        localStorage.removeItem('token');\r\n        window.location.href = '/login';\r\n      }\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n\r\n  const value = {\r\n    // API utility functions can be added here\r\n  };\r\n\r\n  return (\r\n    <ApiContext.Provider value={value}>\r\n      {children}\r\n    </ApiContext.Provider>\r\n  );\r\n};"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,KAAQ,OAAO,CACxD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE1B,KAAM,CAAAC,UAAU,cAAGL,aAAa,CAAC,CAAC,CAElC,MAAO,MAAM,CAAAM,MAAM,CAAGA,CAAA,GAAM,CAC1B,MAAO,CAAAL,UAAU,CAACI,UAAU,CAAC,CAC/B,CAAC,CAED,MAAO,MAAM,CAAAE,WAAW,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAEtC;AACAN,KAAK,CAACQ,YAAY,CAACC,OAAO,CAACC,GAAG,CAC3BC,MAAM,EAAK,CACV,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAIF,KAAK,CAAE,CACTD,MAAM,CAACI,OAAO,CAACC,aAAa,WAAAC,MAAA,CAAaL,KAAK,CAAE,CAClD,CACA,MAAO,CAAAD,MAAM,CACf,CAAC,CACAO,KAAK,EAAK,CACT,MAAO,CAAAC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CAC9B,CACF,CAAC,CAED;AACAlB,KAAK,CAACQ,YAAY,CAACa,QAAQ,CAACX,GAAG,CAC5BW,QAAQ,EAAKA,QAAQ,CACrBH,KAAK,EAAK,KAAAI,eAAA,CACT,GAAI,EAAAA,eAAA,CAAAJ,KAAK,CAACG,QAAQ,UAAAC,eAAA,iBAAdA,eAAA,CAAgBC,MAAM,IAAK,GAAG,CAAE,CAClCV,YAAY,CAACW,UAAU,CAAC,OAAO,CAAC,CAChCC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAQ,CACjC,CACA,MAAO,CAAAR,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CAC9B,CACF,CAAC,CAED,KAAM,CAAAU,KAAK,CAAG,CACZ;AAAA,CACD,CAED,mBACE1B,IAAA,CAACC,UAAU,CAAC0B,QAAQ,EAACD,KAAK,CAAEA,KAAM,CAAArB,QAAA,CAC/BA,QAAQ,CACU,CAAC,CAE1B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}