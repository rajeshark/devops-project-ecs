{"ast":null,"code":"import _objectSpread from\"D:/raju new 1/front-end/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"D:/raju new 1/front-end/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0,_templateObject1,_templateObject10,_templateObject11,_templateObject12,_templateObject13;import React,{useState,useEffect}from'react';import styled from'styled-components';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 20px;\\n  background: #f8f9fa;\\n  min-height: 100vh;\\n\"])));const Header=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  background: white;\\n  padding: 20px;\\n  border-radius: 10px;\\n  margin-bottom: 20px;\\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n\"])));const Button=styled.button(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  padding: 12px 24px;\\n  background: #667eea;\\n  color: white;\\n  border: none;\\n  border-radius: 6px;\\n  cursor: pointer;\\n  font-weight: 600;\\n  \\n  &:hover {\\n    background: #764ba2;\\n  }\\n  \\n  &:disabled {\\n    background: #6c757d;\\n    cursor: not-allowed;\\n  }\\n\"])));const UsersTable=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  background: white;\\n  border-radius: 10px;\\n  overflow: hidden;\\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\\n\"])));const TableHeader=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr;\\n  padding: 15px 20px;\\n  background: #f8f9fa;\\n  font-weight: 600;\\n  border-bottom: 1px solid #e9ecef;\\n\"])));const TableRow=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr;\\n  padding: 15px 20px;\\n  border-bottom: 1px solid #e9ecef;\\n  align-items: center;\\n  \\n  &:hover {\\n    background: #f8f9fa;\\n  }\\n  \\n  &:last-child {\\n    border-bottom: none;\\n  }\\n\"])));const RoleBadge=styled.span(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  padding: 4px 12px;\\n  border-radius: 20px;\\n  font-size: 12px;\\n  font-weight: 600;\\n  \\n  &.admin { \\n    background: #667eea; \\n    color: white; \\n  }\\n  &.customer { \\n    background: #e9ecef; \\n    color: #495057; \\n  }\\n\"])));const Loading=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  padding: 50px;\\n  font-size: 18px;\\n  color: #666;\\n\"])));const EmptyState=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  padding: 50px;\\n  color: #666;\\n\"])));const ErrorMessage=styled.div(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  background: #f8d7da;\\n  color: #721c24;\\n  padding: 15px;\\n  border-radius: 6px;\\n  margin-bottom: 20px;\\n  border: 1px solid #f5c6cb;\\n\"])));const SearchContainer=styled.div(_templateObject1||(_templateObject1=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 15px;\\n  margin-bottom: 20px;\\n  align-items: center;\\n\"])));const SearchInput=styled.input(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  padding: 12px;\\n  border: 1px solid #ddd;\\n  border-radius: 6px;\\n  font-size: 14px;\\n  flex: 1;\\n  max-width: 400px;\\n  \\n  &:focus {\\n    outline: none;\\n    border-color: #667eea;\\n  }\\n\"])));const StatsBar=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 20px;\\n  margin-bottom: 20px;\\n  padding: 15px;\\n  background: white;\\n  border-radius: 8px;\\n  box-shadow: 0 2px 5px rgba(0,0,0,0.1);\\n\"])));const StatItem=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  \\n  .number {\\n    font-size: 1.5em;\\n    font-weight: bold;\\n    color: #667eea;\\n  }\\n  \\n  .label {\\n    font-size: 12px;\\n    color: #666;\\n    margin-top: 5px;\\n  }\\n\"])));const ActionButton=styled.button(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  padding: 6px 12px;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  font-size: 12px;\\n  font-weight: 600;\\n  margin-right: 5px;\\n  \\n  &.make-admin {\\n    background: #28a745;\\n    color: white;\\n    \\n    &:hover {\\n      background: #218838;\\n    }\\n  }\\n  \\n  &.remove-admin {\\n    background: #dc3545;\\n    color: white;\\n    \\n    &:hover {\\n      background: #c82333;\\n    }\\n  }\\n  \\n  &.delete {\\n    background: #6c757d;\\n    color: white;\\n    \\n    &:hover {\\n      background: #5a6268;\\n    }\\n  }\\n  \\n  &:disabled {\\n    opacity: 0.6;\\n    cursor: not-allowed;\\n  }\\n\"])));const AdminUsers=()=>{const[users,setUsers]=useState([]);const[filteredUsers,setFilteredUsers]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[searchTerm,setSearchTerm]=useState('');const[actionLoading,setActionLoading]=useState(null);const navigate=useNavigate();const getAuthHeader=()=>{const token=localStorage.getItem('adminToken');return token?{Authorization:\"Bearer \".concat(token)}:{};};const fetchUsers=async()=>{try{setLoading(true);setError('');// Try multiple possible user endpoints\nconst endpoints=['/api/users','/api/user','/api/auth/users'];let usersResponse;for(const endpoint of endpoints){try{usersResponse=await axios.get(\"\".concat(process.env.REACT_APP_API_URL).concat(endpoint),{headers:getAuthHeader()});if(usersResponse.data){console.log(\"\\u2705 Successfully fetched users from \".concat(endpoint));break;}}catch(err){console.log(\"\\u274C Endpoint \".concat(endpoint,\" failed:\"),err.message);}}if(!usersResponse||!usersResponse.data){throw new Error('No user data found from any endpoint');}const usersData=usersResponse.data.users||usersResponse.data||[];if(Array.isArray(usersData)){setUsers(usersData);setFilteredUsers(usersData);}else{// If it's an object, convert to array\nconst usersArray=Object.values(usersData);setUsers(usersArray);setFilteredUsers(usersArray);}}catch(error){console.error('Error fetching users:',error);setError(\"Failed to load users: \".concat(error.message));// Set demo data for development\nconst demoUsers=[{id:'1',username:'johndoe',email:'john@example.com',name:'John Doe',role:'customer',isAdmin:false,createdAt:'2024-01-15T10:30:00Z'},{id:'2',username:'janesmith',email:'jane@example.com',name:'Jane Smith',role:'customer',isAdmin:false,createdAt:'2024-01-20T14:45:00Z'},{id:'3',username:'admin',email:'admin@example.com',name:'Admin User',role:'admin',isAdmin:true,createdAt:'2024-01-10T09:15:00Z'}];setUsers(demoUsers);setFilteredUsers(demoUsers);}finally{setLoading(false);}};useEffect(()=>{fetchUsers();},[]);// Filter users based on search term\nuseEffect(()=>{if(searchTerm.trim()===''){setFilteredUsers(users);}else{const filtered=users.filter(user=>{var _user$username,_user$email,_user$name;return((_user$username=user.username)===null||_user$username===void 0?void 0:_user$username.toLowerCase().includes(searchTerm.toLowerCase()))||((_user$email=user.email)===null||_user$email===void 0?void 0:_user$email.toLowerCase().includes(searchTerm.toLowerCase()))||((_user$name=user.name)===null||_user$name===void 0?void 0:_user$name.toLowerCase().includes(searchTerm.toLowerCase()));});setFilteredUsers(filtered);}},[searchTerm,users]);const toggleAdminStatus=async(userId,currentUser)=>{const currentRole=currentUser.role||(currentUser.isAdmin?'admin':'customer');const newRole=currentRole==='admin'?'customer':'admin';if(!window.confirm(\"Are you sure you want to \".concat(newRole==='admin'?'make this user an admin':'remove admin privileges',\" from \").concat(currentUser.name||currentUser.username,\"?\"))){return;}setActionLoading(userId);try{// Try different API endpoints for updating user role\nconst updateEndpoints=[\"/api/users/\".concat(userId,\"/role\"),\"/api/users/\".concat(userId,\"/admin\"),\"/api/auth/users/\".concat(userId,\"/role\")];let updateSuccess=false;for(const endpoint of updateEndpoints){try{await axios.put(\"\".concat(process.env.REACT_APP_API_URL).concat(endpoint),{role:newRole,isAdmin:newRole==='admin'},{headers:getAuthHeader()});updateSuccess=true;console.log(\"\\u2705 User role updated via \".concat(endpoint));break;}catch(err){console.log(\"\\u274C Endpoint \".concat(endpoint,\" failed:\"),err.message);}}if(!updateSuccess){throw new Error('No update endpoint worked');}// Update local state\nsetUsers(prev=>prev.map(user=>user.id===userId?_objectSpread(_objectSpread({},user),{},{role:newRole,isAdmin:newRole==='admin'}):user));alert(\"\\u2705 User role updated successfully! \".concat(currentUser.name||currentUser.username,\" is now \").concat(newRole,\".\"));}catch(error){console.error('Error updating user role:',error);alert('❌ Failed to update user role. The API endpoint might not be implemented.');}finally{setActionLoading(null);}};const deleteUser=async(userId,userName)=>{if(!window.confirm(\"Are you sure you want to delete user \\\"\".concat(userName,\"\\\"? This action cannot be undone.\"))){return;}setActionLoading(userId);try{await axios.delete(\"\".concat(process.env.REACT_APP_API_URL,\"/api/users/\").concat(userId),{headers:getAuthHeader()});// Remove user from local state\nsetUsers(prev=>prev.filter(user=>user.id!==userId));alert('✅ User deleted successfully!');}catch(error){console.error('Error deleting user:',error);alert('❌ Failed to delete user. The API endpoint might not be implemented.');}finally{setActionLoading(null);}};// Calculate statistics\nconst totalUsers=users.length;const adminUsers=users.filter(user=>user.role==='admin'||user.isAdmin).length;const customerUsers=totalUsers-adminUsers;if(loading){return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDC65 Manage Users\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>navigate('/admin/dashboard'),children:\"\\u2190 Back to Dashboard\"})]}),/*#__PURE__*/_jsxs(Loading,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin\",style:{marginRight:'10px'}}),\"Loading users from database...\"]})]});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDC65 Manage Users\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Manage customer accounts and administrator privileges\"})]}),/*#__PURE__*/_jsx(Button,{onClick:()=>navigate('/admin/dashboard'),children:\"\\u2190 Back to Dashboard\"})]}),error&&/*#__PURE__*/_jsxs(ErrorMessage,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle\",style:{marginRight:'10px'}}),error]}),/*#__PURE__*/_jsxs(StatsBar,{children:[/*#__PURE__*/_jsxs(StatItem,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"number\",children:totalUsers}),/*#__PURE__*/_jsx(\"div\",{className:\"label\",children:\"Total Users\"})]}),/*#__PURE__*/_jsxs(StatItem,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"number\",children:adminUsers}),/*#__PURE__*/_jsx(\"div\",{className:\"label\",children:\"Administrators\"})]}),/*#__PURE__*/_jsxs(StatItem,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"number\",children:customerUsers}),/*#__PURE__*/_jsx(\"div\",{className:\"label\",children:\"Customers\"})]})]}),/*#__PURE__*/_jsxs(SearchContainer,{children:[/*#__PURE__*/_jsx(SearchInput,{type:\"text\",placeholder:\"Search users by username, email, or name...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsx(Button,{onClick:fetchUsers,children:\"\\uD83D\\uDD04 Refresh\"})]}),filteredUsers.length===0?/*#__PURE__*/_jsxs(EmptyState,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users\",style:{fontSize:'3em',marginBottom:'20px',opacity:0.5}}),/*#__PURE__*/_jsx(\"h3\",{children:\"No users found\"}),/*#__PURE__*/_jsx(\"p\",{children:searchTerm?\"No users match \\\"\".concat(searchTerm,\"\\\"\"):'No users registered yet. User accounts will appear here when customers register.'})]}):/*#__PURE__*/_jsxs(UsersTable,{children:[/*#__PURE__*/_jsxs(TableHeader,{children:[/*#__PURE__*/_jsx(\"div\",{children:\"User\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Role\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Joined\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Actions\"})]}),filteredUsers.map(user=>{const userRole=user.role||(user.isAdmin?'admin':'customer');const isCurrentUser=user.email==='admin@example.com';// You might want to get current admin from token\nreturn/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'600'},children:user.name||user.username}),user.name&&user.username!==user.name&&/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'12px',color:'#666'},children:[\"@\",user.username]})]}),/*#__PURE__*/_jsx(\"div\",{children:user.email}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(RoleBadge,{className:userRole,children:userRole})}),/*#__PURE__*/_jsx(\"div\",{children:user.createdAt?new Date(user.createdAt).toLocaleDateString():'N/A'}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ActionButton,{className:userRole==='admin'?'remove-admin':'make-admin',onClick:()=>toggleAdminStatus(user.id,user),disabled:actionLoading===user.id||isCurrentUser,children:actionLoading===user.id?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin\"}):userRole==='admin'?'Remove Admin':'Make Admin'}),/*#__PURE__*/_jsx(ActionButton,{className:\"delete\",onClick:()=>deleteUser(user.id,user.name||user.username),disabled:actionLoading===user.id||userRole==='admin'||isCurrentUser,title:userRole==='admin'?'Cannot delete admin users':'',children:\"Delete\"})]})]},user.id);})]})]});};export default AdminUsers;","map":{"version":3,"names":["React","useState","useEffect","styled","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Container","div","_templateObject","_taggedTemplateLiteral","Header","_templateObject2","Button","button","_templateObject3","UsersTable","_templateObject4","TableHeader","_templateObject5","TableRow","_templateObject6","RoleBadge","span","_templateObject7","Loading","_templateObject8","EmptyState","_templateObject9","ErrorMessage","_templateObject0","SearchContainer","_templateObject1","SearchInput","input","_templateObject10","StatsBar","_templateObject11","StatItem","_templateObject12","ActionButton","_templateObject13","AdminUsers","users","setUsers","filteredUsers","setFilteredUsers","loading","setLoading","error","setError","searchTerm","setSearchTerm","actionLoading","setActionLoading","navigate","getAuthHeader","token","localStorage","getItem","Authorization","concat","fetchUsers","endpoints","usersResponse","endpoint","get","process","env","REACT_APP_API_URL","headers","data","console","log","err","message","Error","usersData","Array","isArray","usersArray","Object","values","demoUsers","id","username","email","name","role","isAdmin","createdAt","trim","filtered","filter","user","_user$username","_user$email","_user$name","toLowerCase","includes","toggleAdminStatus","userId","currentUser","currentRole","newRole","window","confirm","updateEndpoints","updateSuccess","put","prev","map","_objectSpread","alert","deleteUser","userName","delete","totalUsers","length","adminUsers","customerUsers","children","onClick","className","style","marginRight","type","placeholder","value","onChange","e","target","fontSize","marginBottom","opacity","userRole","isCurrentUser","fontWeight","color","Date","toLocaleDateString","disabled","title"],"sources":["D:/raju new 1/front-end/src/admin/pages/Users.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Container = styled.div`\r\n  padding: 20px;\r\n  background: #f8f9fa;\r\n  min-height: 100vh;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  background: white;\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n  margin-bottom: 20px;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 12px 24px;\r\n  background: #667eea;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  \r\n  &:hover {\r\n    background: #764ba2;\r\n  }\r\n  \r\n  &:disabled {\r\n    background: #6c757d;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nconst UsersTable = styled.div`\r\n  background: white;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n`;\r\n\r\nconst TableHeader = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr;\r\n  padding: 15px 20px;\r\n  background: #f8f9fa;\r\n  font-weight: 600;\r\n  border-bottom: 1px solid #e9ecef;\r\n`;\r\n\r\nconst TableRow = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr;\r\n  padding: 15px 20px;\r\n  border-bottom: 1px solid #e9ecef;\r\n  align-items: center;\r\n  \r\n  &:hover {\r\n    background: #f8f9fa;\r\n  }\r\n  \r\n  &:last-child {\r\n    border-bottom: none;\r\n  }\r\n`;\r\n\r\nconst RoleBadge = styled.span`\r\n  padding: 4px 12px;\r\n  border-radius: 20px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  \r\n  &.admin { \r\n    background: #667eea; \r\n    color: white; \r\n  }\r\n  &.customer { \r\n    background: #e9ecef; \r\n    color: #495057; \r\n  }\r\n`;\r\n\r\nconst Loading = styled.div`\r\n  text-align: center;\r\n  padding: 50px;\r\n  font-size: 18px;\r\n  color: #666;\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  text-align: center;\r\n  padding: 50px;\r\n  color: #666;\r\n`;\r\n\r\nconst ErrorMessage = styled.div`\r\n  background: #f8d7da;\r\n  color: #721c24;\r\n  padding: 15px;\r\n  border-radius: 6px;\r\n  margin-bottom: 20px;\r\n  border: 1px solid #f5c6cb;\r\n`;\r\n\r\nconst SearchContainer = styled.div`\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-bottom: 20px;\r\n  align-items: center;\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  padding: 12px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  flex: 1;\r\n  max-width: 400px;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: #667eea;\r\n  }\r\n`;\r\n\r\nconst StatsBar = styled.div`\r\n  display: flex;\r\n  gap: 20px;\r\n  margin-bottom: 20px;\r\n  padding: 15px;\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 5px rgba(0,0,0,0.1);\r\n`;\r\n\r\nconst StatItem = styled.div`\r\n  text-align: center;\r\n  \r\n  .number {\r\n    font-size: 1.5em;\r\n    font-weight: bold;\r\n    color: #667eea;\r\n  }\r\n  \r\n  .label {\r\n    font-size: 12px;\r\n    color: #666;\r\n    margin-top: 5px;\r\n  }\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  padding: 6px 12px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  margin-right: 5px;\r\n  \r\n  &.make-admin {\r\n    background: #28a745;\r\n    color: white;\r\n    \r\n    &:hover {\r\n      background: #218838;\r\n    }\r\n  }\r\n  \r\n  &.remove-admin {\r\n    background: #dc3545;\r\n    color: white;\r\n    \r\n    &:hover {\r\n      background: #c82333;\r\n    }\r\n  }\r\n  \r\n  &.delete {\r\n    background: #6c757d;\r\n    color: white;\r\n    \r\n    &:hover {\r\n      background: #5a6268;\r\n    }\r\n  }\r\n  \r\n  &:disabled {\r\n    opacity: 0.6;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nconst AdminUsers = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [filteredUsers, setFilteredUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [actionLoading, setActionLoading] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  const getAuthHeader = () => {\r\n    const token = localStorage.getItem('adminToken');\r\n    return token ? { Authorization: `Bearer ${token}` } : {};\r\n  };\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n\r\n      // Try multiple possible user endpoints\r\n      const endpoints = [\r\n        '/api/users',\r\n        '/api/user',\r\n        '/api/auth/users'\r\n      ];\r\n\r\n      let usersResponse;\r\n\r\n      for (const endpoint of endpoints) {\r\n        try {\r\n          usersResponse = await axios.get(\r\n            `${process.env.REACT_APP_API_URL}${endpoint}`,\r\n            { headers: getAuthHeader() }\r\n          );\r\n          if (usersResponse.data) {\r\n            console.log(`✅ Successfully fetched users from ${endpoint}`);\r\n            break;\r\n          }\r\n        } catch (err) {\r\n          console.log(`❌ Endpoint ${endpoint} failed:`, err.message);\r\n        }\r\n      }\r\n\r\n      if (!usersResponse || !usersResponse.data) {\r\n        throw new Error('No user data found from any endpoint');\r\n      }\r\n\r\n      const usersData = usersResponse.data.users || usersResponse.data || [];\r\n      \r\n      if (Array.isArray(usersData)) {\r\n        setUsers(usersData);\r\n        setFilteredUsers(usersData);\r\n      } else {\r\n        // If it's an object, convert to array\r\n        const usersArray = Object.values(usersData);\r\n        setUsers(usersArray);\r\n        setFilteredUsers(usersArray);\r\n      }\r\n\r\n    } catch (error) {\r\n      console.error('Error fetching users:', error);\r\n      setError(`Failed to load users: ${error.message}`);\r\n      \r\n      // Set demo data for development\r\n      const demoUsers = [\r\n        {\r\n          id: '1',\r\n          username: 'johndoe',\r\n          email: 'john@example.com',\r\n          name: 'John Doe',\r\n          role: 'customer',\r\n          isAdmin: false,\r\n          createdAt: '2024-01-15T10:30:00Z'\r\n        },\r\n        {\r\n          id: '2',\r\n          username: 'janesmith',\r\n          email: 'jane@example.com', \r\n          name: 'Jane Smith',\r\n          role: 'customer',\r\n          isAdmin: false,\r\n          createdAt: '2024-01-20T14:45:00Z'\r\n        },\r\n        {\r\n          id: '3',\r\n          username: 'admin',\r\n          email: 'admin@example.com',\r\n          name: 'Admin User',\r\n          role: 'admin',\r\n          isAdmin: true,\r\n          createdAt: '2024-01-10T09:15:00Z'\r\n        }\r\n      ];\r\n      setUsers(demoUsers);\r\n      setFilteredUsers(demoUsers);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  // Filter users based on search term\r\n  useEffect(() => {\r\n    if (searchTerm.trim() === '') {\r\n      setFilteredUsers(users);\r\n    } else {\r\n      const filtered = users.filter(user =>\r\n        user.username?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        user.email?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        user.name?.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n      setFilteredUsers(filtered);\r\n    }\r\n  }, [searchTerm, users]);\r\n\r\n  const toggleAdminStatus = async (userId, currentUser) => {\r\n    const currentRole = currentUser.role || (currentUser.isAdmin ? 'admin' : 'customer');\r\n    const newRole = currentRole === 'admin' ? 'customer' : 'admin';\r\n    \r\n    if (!window.confirm(`Are you sure you want to ${newRole === 'admin' ? 'make this user an admin' : 'remove admin privileges'} from ${currentUser.name || currentUser.username}?`)) {\r\n      return;\r\n    }\r\n\r\n    setActionLoading(userId);\r\n\r\n    try {\r\n      // Try different API endpoints for updating user role\r\n      const updateEndpoints = [\r\n        `/api/users/${userId}/role`,\r\n        `/api/users/${userId}/admin`,\r\n        `/api/auth/users/${userId}/role`\r\n      ];\r\n\r\n      let updateSuccess = false;\r\n\r\n      for (const endpoint of updateEndpoints) {\r\n        try {\r\n          await axios.put(\r\n            `${process.env.REACT_APP_API_URL}${endpoint}`,\r\n            { role: newRole, isAdmin: newRole === 'admin' },\r\n            { headers: getAuthHeader() }\r\n          );\r\n          updateSuccess = true;\r\n          console.log(`✅ User role updated via ${endpoint}`);\r\n          break;\r\n        } catch (err) {\r\n          console.log(`❌ Endpoint ${endpoint} failed:`, err.message);\r\n        }\r\n      }\r\n\r\n      if (!updateSuccess) {\r\n        throw new Error('No update endpoint worked');\r\n      }\r\n\r\n      // Update local state\r\n      setUsers(prev => prev.map(user => \r\n        user.id === userId ? { \r\n          ...user, \r\n          role: newRole, \r\n          isAdmin: newRole === 'admin' \r\n        } : user\r\n      ));\r\n      \r\n      alert(`✅ User role updated successfully! ${currentUser.name || currentUser.username} is now ${newRole}.`);\r\n\r\n    } catch (error) {\r\n      console.error('Error updating user role:', error);\r\n      alert('❌ Failed to update user role. The API endpoint might not be implemented.');\r\n    } finally {\r\n      setActionLoading(null);\r\n    }\r\n  };\r\n\r\n  const deleteUser = async (userId, userName) => {\r\n    if (!window.confirm(`Are you sure you want to delete user \"${userName}\"? This action cannot be undone.`)) {\r\n      return;\r\n    }\r\n\r\n    setActionLoading(userId);\r\n\r\n    try {\r\n      await axios.delete(\r\n        `${process.env.REACT_APP_API_URL}/api/users/${userId}`,\r\n        { headers: getAuthHeader() }\r\n      );\r\n      \r\n      // Remove user from local state\r\n      setUsers(prev => prev.filter(user => user.id !== userId));\r\n      alert('✅ User deleted successfully!');\r\n    } catch (error) {\r\n      console.error('Error deleting user:', error);\r\n      alert('❌ Failed to delete user. The API endpoint might not be implemented.');\r\n    } finally {\r\n      setActionLoading(null);\r\n    }\r\n  };\r\n\r\n  // Calculate statistics\r\n  const totalUsers = users.length;\r\n  const adminUsers = users.filter(user => user.role === 'admin' || user.isAdmin).length;\r\n  const customerUsers = totalUsers - adminUsers;\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container>\r\n        <Header>\r\n          <h1>👥 Manage Users</h1>\r\n          <Button onClick={() => navigate('/admin/dashboard')}>\r\n            ← Back to Dashboard\r\n          </Button>\r\n        </Header>\r\n        <Loading>\r\n          <i className=\"fas fa-spinner fa-spin\" style={{ marginRight: '10px' }}></i>\r\n          Loading users from database...\r\n        </Loading>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Header>\r\n        <div>\r\n          <h1>👥 Manage Users</h1>\r\n          <p>Manage customer accounts and administrator privileges</p>\r\n        </div>\r\n        <Button onClick={() => navigate('/admin/dashboard')}>\r\n          ← Back to Dashboard\r\n        </Button>\r\n      </Header>\r\n\r\n      {error && (\r\n        <ErrorMessage>\r\n          <i className=\"fas fa-exclamation-triangle\" style={{ marginRight: '10px' }}></i>\r\n          {error}\r\n        </ErrorMessage>\r\n      )}\r\n\r\n      <StatsBar>\r\n        <StatItem>\r\n          <div className=\"number\">{totalUsers}</div>\r\n          <div className=\"label\">Total Users</div>\r\n        </StatItem>\r\n        <StatItem>\r\n          <div className=\"number\">{adminUsers}</div>\r\n          <div className=\"label\">Administrators</div>\r\n        </StatItem>\r\n        <StatItem>\r\n          <div className=\"number\">{customerUsers}</div>\r\n          <div className=\"label\">Customers</div>\r\n        </StatItem>\r\n      </StatsBar>\r\n\r\n      <SearchContainer>\r\n        <SearchInput\r\n          type=\"text\"\r\n          placeholder=\"Search users by username, email, or name...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n        />\r\n        <Button onClick={fetchUsers}>\r\n          🔄 Refresh\r\n        </Button>\r\n      </SearchContainer>\r\n\r\n      {filteredUsers.length === 0 ? (\r\n        <EmptyState>\r\n          <i className=\"fas fa-users\" style={{ fontSize: '3em', marginBottom: '20px', opacity: 0.5 }}></i>\r\n          <h3>No users found</h3>\r\n          <p>\r\n            {searchTerm ? \r\n              `No users match \"${searchTerm}\"` : \r\n              'No users registered yet. User accounts will appear here when customers register.'\r\n            }\r\n          </p>\r\n        </EmptyState>\r\n      ) : (\r\n        <UsersTable>\r\n          <TableHeader>\r\n            <div>User</div>\r\n            <div>Email</div>\r\n            <div>Role</div>\r\n            <div>Joined</div>\r\n            <div>Actions</div>\r\n          </TableHeader>\r\n          \r\n          {filteredUsers.map((user) => {\r\n            const userRole = user.role || (user.isAdmin ? 'admin' : 'customer');\r\n            const isCurrentUser = user.email === 'admin@example.com'; // You might want to get current admin from token\r\n            \r\n            return (\r\n              <TableRow key={user.id}>\r\n                <div>\r\n                  <div style={{ fontWeight: '600' }}>{user.name || user.username}</div>\r\n                  {user.name && user.username !== user.name && (\r\n                    <div style={{ fontSize: '12px', color: '#666' }}>@{user.username}</div>\r\n                  )}\r\n                </div>\r\n                <div>{user.email}</div>\r\n                <div>\r\n                  <RoleBadge className={userRole}>\r\n                    {userRole}\r\n                  </RoleBadge>\r\n                </div>\r\n                <div>\r\n                  {user.createdAt ? new Date(user.createdAt).toLocaleDateString() : 'N/A'}\r\n                </div>\r\n                <div>\r\n                  <ActionButton\r\n                    className={userRole === 'admin' ? 'remove-admin' : 'make-admin'}\r\n                    onClick={() => toggleAdminStatus(user.id, user)}\r\n                    disabled={actionLoading === user.id || isCurrentUser}\r\n                  >\r\n                    {actionLoading === user.id ? (\r\n                      <i className=\"fas fa-spinner fa-spin\"></i>\r\n                    ) : userRole === 'admin' ? (\r\n                      'Remove Admin'\r\n                    ) : (\r\n                      'Make Admin'\r\n                    )}\r\n                  </ActionButton>\r\n                  \r\n                  <ActionButton\r\n                    className=\"delete\"\r\n                    onClick={() => deleteUser(user.id, user.name || user.username)}\r\n                    disabled={actionLoading === user.id || userRole === 'admin' || isCurrentUser}\r\n                    title={userRole === 'admin' ? 'Cannot delete admin users' : ''}\r\n                  >\r\n                    Delete\r\n                  </ActionButton>\r\n                </div>\r\n              </TableRow>\r\n            );\r\n          })}\r\n        </UsersTable>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AdminUsers;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}