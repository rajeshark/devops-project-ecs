{"ast":null,"code":"import _objectWithoutProperties from\"D:/raju new 1/front-end/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _toPropertyKey from\"D:/raju new 1/front-end/node_modules/@babel/runtime/helpers/esm/toPropertyKey.js\";import _objectSpread from\"D:/raju new 1/front-end/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"D:/raju new 1/front-end/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0,_templateObject1,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18,_templateObject19,_templateObject20,_templateObject21,_templateObject22,_templateObject23,_templateObject24,_templateObject25,_templateObject26,_templateObject27,_templateObject28,_templateObject29,_templateObject30,_templateObject31,_templateObject32,_templateObject33,_templateObject34,_templateObject35,_templateObject36,_templateObject37,_templateObject38;import React,{useState,useEffect}from'react';import styled from'styled-components';import axios from'axios';import{useNavigate}from'react-router-dom';// ========== ALL STYLED COMPONENTS ==========\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 20px;\\n  background: #f8f9fa;\\n  min-height: 100vh;\\n\"])));const Header=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  background: white;\\n  padding: 20px;\\n  border-radius: 10px;\\n  margin-bottom: 20px;\\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n\"])));const ActionBar=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 15px;\\n  margin-bottom: 20px;\\n\"])));const Button=styled.button(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  padding: 12px 24px;\\n  background: #667eea;\\n  color: white;\\n  border: none;\\n  border-radius: 6px;\\n  cursor: pointer;\\n  font-weight: 600;\\n  \\n  &:hover {\\n    background: #764ba2;\\n  }\\n  \\n  &:disabled {\\n    background: #6c757d;\\n    cursor: not-allowed;\\n  }\\n\"])));const ProductsGrid=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\\n  gap: 20px;\\n\"])));const ProductCard=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  background: white;\\n  border-radius: 10px;\\n  padding: 20px;\\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\\n  transition: transform 0.2s;\\n  \\n  &:hover {\\n    transform: translateY(-2px);\\n  }\\n\"])));const ProductImage=styled.img(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 200px;\\n  object-fit: cover;\\n  border-radius: 8px;\\n  margin-bottom: 15px;\\n\"])));const ProductTitle=styled.h3(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  margin-bottom: 10px;\\n  color: #333;\\n  font-size: 16px;\\n  line-height: 1.4;\\n\"])));const ProductPrice=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  font-size: 1.2em;\\n  font-weight: bold;\\n  color: #667eea;\\n  margin-bottom: 10px;\\n\"])));const ProductInfo=styled.div(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  color: #666;\\n  font-size: 14px;\\n  margin-bottom: 5px;\\n\"])));const StockStatus=styled.span(_templateObject1||(_templateObject1=_taggedTemplateLiteral([\"\\n  padding: 4px 8px;\\n  border-radius: 12px;\\n  font-size: 12px;\\n  font-weight: 600;\\n  \\n  &.in-stock {\\n    background: #d4edda;\\n    color: #155724;\\n  }\\n  \\n  &.out-of-stock {\\n    background: #f8d7da;\\n    color: #721c24;\\n  }\\n\"])));const ProductActions=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 10px;\\n  margin-top: 15px;\\n\"])));const Modal=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background: rgba(0,0,0,0.5);\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  z-index: 1000;\\n\"])));const ModalContent=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  background: white;\\n  padding: 30px;\\n  border-radius: 10px;\\n  width: 90%;\\n  max-width: 800px;\\n  max-height: 90vh;\\n  overflow-y: auto;\\n\"])));const Form=styled.form(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  gap: 15px;\\n\"])));const Input=styled.input(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  padding: 12px;\\n  border: 1px solid #ddd;\\n  border-radius: 5px;\\n  font-size: 16px;\\n  \\n  &:focus {\\n    outline: none;\\n    border-color: #667eea;\\n  }\\n\"])));const TextArea=styled.textarea(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  padding: 12px;\\n  border: 1px solid #ddd;\\n  border-radius: 5px;\\n  font-size: 16px;\\n  min-height: 80px;\\n  resize: vertical;\\n  \\n  &:focus {\\n    outline: none;\\n    border-color: #667eea;\\n  }\\n\"])));const FileInput=styled.input(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  padding: 12px;\\n  border: 1px solid #ddd;\\n  border-radius: 5px;\\n  font-size: 16px;\\n\"])));const FormActions=styled.div(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 10px;\\n  justify-content: flex-end;\\n  margin-top: 20px;\\n\"])));const Loading=styled.div(_templateObject18||(_templateObject18=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  padding: 50px;\\n  font-size: 18px;\\n  color: #666;\\n\"])));const ErrorMessage=styled.div(_templateObject19||(_templateObject19=_taggedTemplateLiteral([\"\\n  color: #ff4757;\\n  background: #ffe6e6;\\n  padding: 10px;\\n  border-radius: 6px;\\n  margin-bottom: 15px;\\n  border: 1px solid #ff4757;\\n\"])));const ColorImageSection=styled.div(_templateObject20||(_templateObject20=_taggedTemplateLiteral([\"\\n  border: 1px solid #ddd;\\n  border-radius: 6px;\\n  padding: 15px;\\n  margin-bottom: 15px;\\n  background: #f9f9f9;\\n\"])));const ColorImageGrid=styled.div(_templateObject21||(_templateObject21=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\\n  gap: 15px;\\n  margin-top: 15px;\\n\"])));const ColorImageCard=styled.div(_templateObject22||(_templateObject22=_taggedTemplateLiteral([\"\\n  border: 1px solid #ddd;\\n  border-radius: 6px;\\n  padding: 10px;\\n  background: white;\\n  text-align: center;\\n\"])));const ColorNameInput=styled.input(_templateObject23||(_templateObject23=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  padding: 8px;\\n  border: 1px solid #ddd;\\n  border-radius: 4px;\\n  margin-bottom: 8px;\\n  text-align: center;\\n  font-size: 12px;\\n\"])));const ImagePreview=styled.img(_templateObject24||(_templateObject24=_taggedTemplateLiteral([\"\\n  width: 80px;\\n  height: 80px;\\n  object-fit: cover;\\n  border-radius: 4px;\\n  border: 1px solid #ddd;\\n  margin-bottom: 8px;\\n\"])));const RemoveButton=styled.button(_templateObject25||(_templateObject25=_taggedTemplateLiteral([\"\\n  background: #ff4757;\\n  color: white;\\n  border: none;\\n  border-radius: 4px;\\n  padding: 4px 8px;\\n  cursor: pointer;\\n  font-size: 12px;\\n  width: 100%;\\n  \\n  &:hover {\\n    background: #ff3742;\\n  }\\n\"])));const AddButton=styled.button(_templateObject26||(_templateObject26=_taggedTemplateLiteral([\"\\n  background: #2ed573;\\n  color: white;\\n  border: none;\\n  border-radius: 4px;\\n  padding: 8px 15px;\\n  cursor: pointer;\\n  margin-top: 10px;\\n  \\n  &:hover {\\n    background: #25c465;\\n  }\\n\"])));const BulkUploadSection=styled.div(_templateObject27||(_templateObject27=_taggedTemplateLiteral([\"\\n  border: 2px dashed #ddd;\\n  border-radius: 6px;\\n  padding: 20px;\\n  text-align: center;\\n  margin-bottom: 15px;\\n  background: #f8f9fa;\\n  \\n  &:hover {\\n    border-color: #667eea;\\n  }\\n\"])));const InventorySection=styled.div(_templateObject28||(_templateObject28=_taggedTemplateLiteral([\"\\n  border: 1px solid #ddd;\\n  border-radius: 6px;\\n  padding: 15px;\\n  margin-bottom: 15px;\\n  background: #f9f9f9;\\n\"])));const ColorSection=styled.div(_templateObject29||(_templateObject29=_taggedTemplateLiteral([\"\\n  margin-bottom: 20px;\\n  padding: 15px;\\n  background: white;\\n  border-radius: 6px;\\n  border: 1px solid #eee;\\n\"])));const ColorHeader=styled.div(_templateObject30||(_templateObject30=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 15px;\\n  padding-bottom: 10px;\\n  border-bottom: 1px solid #eee;\\n\"])));const ColorName=styled.span(_templateObject31||(_templateObject31=_taggedTemplateLiteral([\"\\n  font-weight: bold;\\n  color: #333;\\n\"])));const ColorImagePreview=styled.div(_templateObject32||(_templateObject32=_taggedTemplateLiteral([\"\\n  img {\\n    width: 40px;\\n    height: 40px;\\n    border-radius: 4px;\\n    border: 1px solid #ddd;\\n  }\\n\"])));const SizeGrid=styled.div(_templateObject33||(_templateObject33=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\\n  gap: 10px;\\n\"])));const SizeCell=styled.div(_templateObject34||(_templateObject34=_taggedTemplateLiteral([\"\\n  padding: 10px;\\n  border: 1px solid #ddd;\\n  border-radius: 4px;\\n  background: #f8f9fa;\\n\"])));const SizeLabel=styled.div(_templateObject35||(_templateObject35=_taggedTemplateLiteral([\"\\n  font-weight: bold;\\n  margin-bottom: 8px;\\n  text-align: center;\\n  color: #333;\\n\"])));const MatrixInput=styled.input(_templateObject36||(_templateObject36=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  padding: 6px;\\n  border: 1px solid #ddd;\\n  border-radius: 3px;\\n  text-align: center;\\n  font-size: 12px;\\n  \\n  &:focus {\\n    outline: none;\\n    border-color: #667eea;\\n  }\\n\"])));const MatrixLabel=styled.label(_templateObject37||(_templateObject37=_taggedTemplateLiteral([\"\\n  display: block;\\n  font-size: 10px;\\n  color: #666;\\n  margin-bottom: 2px;\\n  text-align: center;\\n\"])));const DeleteLoading=styled.div(_templateObject38||(_templateObject38=_taggedTemplateLiteral([\"\\n  display: inline-flex;\\n  align-items: center;\\n  gap: 5px;\\n  font-size: 12px;\\n\"])));// ========== MAIN COMPONENT ==========\nconst AdminProducts=()=>{const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[showModal,setShowModal]=useState(false);const[editingProduct,setEditingProduct]=useState(null);const[formLoading,setFormLoading]=useState(false);const[deleteLoading,setDeleteLoading]=useState(null);const[error,setError]=useState('');const navigate=useNavigate();const[productForm,setProductForm]=useState({title:'',desc:'',price:'',categories:'',size:'',color:'',inStock:true,img:null});const[colorImages,setColorImages]=useState([]);const[mainImagePreview,setMainImagePreview]=useState('');const[inventory,setInventory]=useState({});const[inventoryInitialized,setInventoryInitialized]=useState(false);const getAuthHeader=()=>{const token=localStorage.getItem('adminToken');return token?{Authorization:\"Bearer \".concat(token)}:{};};const fetchProducts=async()=>{try{setLoading(true);const response=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products\"),{headers:getAuthHeader()});setProducts(response.data.products||response.data||[]);}catch(error){console.error('Error fetching products:',error);setProducts([]);}finally{setLoading(false);}};useEffect(()=>{fetchProducts();},[]);// Color Images Functions\nconst handleBulkColorImages=e=>{const files=Array.from(e.target.files);const newColorImages=files.map(file=>{const colorName=file.name.split('.')[0];return{color:colorName,imageFile:file,imagePreview:URL.createObjectURL(file)};});setColorImages([...colorImages,...newColorImages]);};const handleSingleColorImage=(index,file)=>{const updated=[...colorImages];if(!updated[index]){updated[index]={color:'',imageFile:null,imagePreview:''};}updated[index].imageFile=file;updated[index].imagePreview=URL.createObjectURL(file);if(!updated[index].color){updated[index].color=file.name.split('.')[0];}setColorImages(updated);};const updateColor=(index,color)=>{const updated=[...colorImages];if(!updated[index]){updated[index]={color:'',imageFile:null,imagePreview:''};}updated[index].color=color;setColorImages(updated);};const removeColorImage=index=>{setColorImages(colorImages.filter((_,i)=>i!==index));};const addColorImageSlot=()=>{setColorImages([...colorImages,{color:'',imageFile:null,imagePreview:''}]);};// Update Inventory Matrix - ONLY SAVE EXPLICIT VALUES\nconst updateInventory=(color,size,field,value)=>{setInventory(prev=>{const updated=_objectSpread({},prev);if(!updated[color]){updated[color]={};}// If field is empty, remove it completely\nif(value===''||value===null||value===undefined){if(updated[color][size]){// Remove the specific field\nconst _updated$color$size=updated[color][size],{[field]:removed}=_updated$color$size,rest=_objectWithoutProperties(_updated$color$size,[field].map(_toPropertyKey));updated[color][size]=rest;// If no fields left, remove the entire size entry\nif(Object.keys(updated[color][size]).length===0){delete updated[color][size];}}}else{// Only set value if user explicitly entered something\nif(!updated[color][size]){updated[color][size]={};}updated[color][size][field]=field==='quantity'?parseInt(value)||0:field==='price'?parseFloat(value)||0:value;}// If no sizes left for this color, remove the color entry\nif(updated[color]&&Object.keys(updated[color]).length===0){delete updated[color];}return updated;});};// Initialize inventory - NO AUTO-FILLING AT ALL\nuseEffect(()=>{if(productForm.color&&productForm.size&&!inventoryInitialized){// Only initialize with existing data, never create defaults\nconst colors=productForm.color.split(',').map(c=>c.trim()).filter(c=>c);const sizes=productForm.size.split(',').map(s=>s.trim()).filter(s=>s);const newInventory=_objectSpread({},inventory);// Keep only what exists\n// Clean up any entries for colors/sizes that no longer exist\nObject.keys(newInventory).forEach(color=>{if(!colors.includes(color)){delete newInventory[color];}else{Object.keys(newInventory[color]).forEach(size=>{if(!sizes.includes(size)){delete newInventory[color][size];}});}});setInventory(newInventory);setInventoryInitialized(true);}},[productForm.color,productForm.size]);// Reset inventory initialization when modal closes\nuseEffect(()=>{if(!showModal){setInventoryInitialized(false);}},[showModal]);const handleInputChange=e=>{const{name,value,type,checked,files}=e.target;if(type==='file'&&name==='img'){setProductForm(prev=>_objectSpread(_objectSpread({},prev),{},{img:files[0]}));if(files[0]){setMainImagePreview(URL.createObjectURL(files[0]));}}else if(type==='checkbox'){setProductForm(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:checked}));}else{setProductForm(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));}};// Handle product submission - ONLY SAVE EXPLICIT ENTRIES\nconst handleAddProduct=async e=>{e.preventDefault();setFormLoading(true);setError('');try{if(!productForm.img){setError('Please select a main product image');setFormLoading(false);return;}const formData=new FormData();formData.append('title',productForm.title);formData.append('desc',productForm.desc);formData.append('price',productForm.price);formData.append('categories',productForm.categories);formData.append('size',productForm.size);formData.append('color',productForm.color);formData.append('inStock',productForm.inStock);formData.append('img',productForm.img);// Color images\ncolorImages.forEach((item,index)=>{if(item.color&&item.imageFile){formData.append(\"color_\".concat(index),item.color);formData.append(\"colorImage_\".concat(index),item.imageFile);}});// Only send inventory entries that have EXPLICIT quantity values\nlet inventoryToSend={};// Only include entries where user explicitly set a quantity\nObject.keys(inventory).forEach(color=>{Object.keys(inventory[color]).forEach(size=>{const item=inventory[color][size];// ONLY include if quantity was explicitly set (not empty/undefined)\nif(item.quantity!==undefined&&item.quantity!==null&&item.quantity!==''){if(!inventoryToSend[color]){inventoryToSend[color]={};}inventoryToSend[color][size]={quantity:item.quantity,price:item.price||parseFloat(productForm.price)||0};}});});formData.append('inventory',JSON.stringify(inventoryToSend));await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/upload\"),formData,{headers:_objectSpread(_objectSpread({},getAuthHeader()),{},{'Content-Type':'multipart/form-data'})});setShowModal(false);resetForm();fetchProducts();alert('Product added successfully!');}catch(error){var _error$response,_error$response$data;console.error('❌ Error adding product:',error);setError(\"Failed to add product: \".concat(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message));}finally{setFormLoading(false);}};// Edit product - load ONLY existing data\nconst handleEditProduct=product=>{setEditingProduct(product);setProductForm({title:product.title,desc:product.desc||'',price:product.price,categories:product.categories?product.categories.join(','):'',size:product.size?product.size.join(','):'',color:product.color?product.color.join(','):'',inStock:product.inStock,img:null});setMainImagePreview(product.img||'');setColorImages([]);// Load EXACT inventory without any modifications\nif(product.inventory&&Object.keys(product.inventory).length>0){setInventory(product.inventory);}else{// Start with completely empty inventory\nsetInventory({});}setInventoryInitialized(true);setShowModal(true);setError('');};// Update product - save ONLY explicit entries\nconst handleUpdateProduct=async e=>{e.preventDefault();setFormLoading(true);setError('');try{const formData=new FormData();formData.append('title',productForm.title);formData.append('desc',productForm.desc);formData.append('price',productForm.price);formData.append('categories',productForm.categories);formData.append('size',productForm.size);formData.append('color',productForm.color);formData.append('inStock',productForm.inStock);// Only save inventory entries with explicit quantities\nlet inventoryToSend={};Object.keys(inventory).forEach(color=>{Object.keys(inventory[color]).forEach(size=>{const item=inventory[color][size];// ONLY include if quantity was explicitly set\nif(item.quantity!==undefined&&item.quantity!==null&&item.quantity!==''){if(!inventoryToSend[color]){inventoryToSend[color]={};}inventoryToSend[color][size]={quantity:item.quantity,price:item.price||parseFloat(productForm.price)||0};}});});formData.append('inventory',JSON.stringify(inventoryToSend));if(productForm.img){formData.append('img',productForm.img);}await axios.put(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/\").concat(editingProduct.id),formData,{headers:_objectSpread(_objectSpread({},getAuthHeader()),{},{'Content-Type':'multipart/form-data'})});setShowModal(false);setEditingProduct(null);resetForm();fetchProducts();alert('Product updated successfully!');}catch(error){var _error$response2,_error$response2$data;console.error('Error updating product:',error);setError(\"Failed to update product: \".concat(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||error.message));}finally{setFormLoading(false);}};const handleDeleteProduct=async productId=>{if(!window.confirm('Are you sure you want to delete this product? All product images will also be deleted from storage.')){return;}setDeleteLoading(productId);try{await axios.delete(\"\".concat(process.env.REACT_APP_API_URL,\"/api/products/\").concat(productId),{headers:getAuthHeader()});fetchProducts();alert('Product and all associated images deleted successfully!');}catch(error){console.error('Error deleting product:',error);alert('Failed to delete product');}finally{setDeleteLoading(null);}};const resetForm=()=>{setProductForm({title:'',desc:'',price:'',categories:'',size:'',color:'',inStock:true,img:null});setColorImages([]);setMainImagePreview('');setInventory({});setInventoryInitialized(false);setError('');};const openAddModal=()=>{setEditingProduct(null);resetForm();setShowModal(true);};// Helper function to get display values - show empty for unset\nconst getInventoryValue=(color,size,field)=>{var _inventory$color,_inventory$color$size;const value=(_inventory$color=inventory[color])===null||_inventory$color===void 0?void 0:(_inventory$color$size=_inventory$color[size])===null||_inventory$color$size===void 0?void 0:_inventory$color$size[field];// Return empty string for unset values, ensuring no defaults\nreturn value!==undefined&&value!==null&&value!==''?value:'';};if(loading){return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Header,{children:/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDCE6 Manage Products\"})}),/*#__PURE__*/_jsx(Loading,{children:\"Loading products from database...\"})]});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDCE6 Manage Products\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>navigate('/admin/dashboard'),children:\"\\u2190 Back to Dashboard\"})]}),/*#__PURE__*/_jsxs(ActionBar,{children:[/*#__PURE__*/_jsx(Button,{onClick:openAddModal,children:\"\\u2795 Add New Product\"}),/*#__PURE__*/_jsx(Button,{onClick:fetchProducts,children:\"\\uD83D\\uDD04 Refresh\"})]}),showModal&&/*#__PURE__*/_jsx(Modal,{children:/*#__PURE__*/_jsxs(ModalContent,{children:[/*#__PURE__*/_jsx(\"h2\",{children:editingProduct?'Edit Product':'Add New Product'}),error&&/*#__PURE__*/_jsxs(ErrorMessage,{children:[\"\\u274C \",error]}),/*#__PURE__*/_jsxs(Form,{onSubmit:editingProduct?handleUpdateProduct:handleAddProduct,children:[/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"title\",placeholder:\"Product Title\",value:productForm.title,onChange:handleInputChange,required:true,disabled:formLoading}),/*#__PURE__*/_jsx(TextArea,{name:\"desc\",placeholder:\"Product Description\",value:productForm.desc,onChange:handleInputChange,disabled:formLoading}),/*#__PURE__*/_jsx(Input,{type:\"number\",name:\"price\",placeholder:\"Base Price\",value:productForm.price,onChange:handleInputChange,step:\"0.01\",min:\"0\",required:true,disabled:formLoading}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"categories\",placeholder:\"Categories (comma separated)\",value:productForm.categories,onChange:handleInputChange,disabled:formLoading}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"size\",placeholder:\"Sizes (comma separated) - S, M, L, XL\",value:productForm.size,onChange:handleInputChange,disabled:formLoading}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"color\",placeholder:\"Colors (comma separated) - Red, Blue, Black\",value:productForm.color,onChange:handleInputChange,disabled:formLoading}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Main Product Image *\"})}),/*#__PURE__*/_jsx(FileInput,{type:\"file\",name:\"img\",accept:\"image/*\",onChange:handleInputChange,disabled:formLoading}),mainImagePreview&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:'10px'},children:/*#__PURE__*/_jsx(ImagePreview,{src:mainImagePreview,alt:\"Main product preview\"})}),/*#__PURE__*/_jsx(\"small\",{children:\"This image is required for product creation\"})]}),/*#__PURE__*/_jsxs(ColorImageSection,{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Color-Specific Images (Optional)\"})}),/*#__PURE__*/_jsxs(BulkUploadSection,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Bulk Upload Color Images\"}),/*#__PURE__*/_jsx(FileInput,{type:\"file\",accept:\"image/*\",multiple:true,onChange:handleBulkColorImages,style:{margin:'10px 0'},disabled:formLoading}),/*#__PURE__*/_jsx(\"small\",{children:\"Select multiple images at once. Color names will be taken from filenames.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Color Images Preview\"}),/*#__PURE__*/_jsx(ColorImageGrid,{children:colorImages.map((item,index)=>/*#__PURE__*/_jsxs(ColorImageCard,{children:[/*#__PURE__*/_jsx(ColorNameInput,{type:\"text\",placeholder:\"Color name\",value:item.color,onChange:e=>updateColor(index,e.target.value),disabled:formLoading}),item.imagePreview?/*#__PURE__*/_jsx(ImagePreview,{src:item.imagePreview,alt:\"\".concat(item.color,\" preview\")}):/*#__PURE__*/_jsx(FileInput,{type:\"file\",accept:\"image/*\",onChange:e=>handleSingleColorImage(index,e.target.files[0]),style:{fontSize:'12px',padding:'4px'},disabled:formLoading}),/*#__PURE__*/_jsx(RemoveButton,{type:\"button\",onClick:()=>removeColorImage(index),disabled:formLoading,children:\"Remove\"})]},index))}),/*#__PURE__*/_jsx(AddButton,{type:\"button\",onClick:addColorImageSlot,disabled:formLoading,children:\"+ Add Single Color Image\"})]})]}),productForm.color&&productForm.size&&/*#__PURE__*/_jsxs(InventorySection,{children:[/*#__PURE__*/_jsx(\"label\",{children:/*#__PURE__*/_jsx(\"strong\",{children:\"Color-Size Inventory Management\"})}),/*#__PURE__*/_jsxs(\"small\",{style:{display:'block',marginBottom:'15px',color:'#666'},children:[\"Set different quantities and prices for each color-size combination.\",editingProduct?' Only previously set values are shown.':' Leave empty for sizes without inventory.']}),productForm.color.split(',').map(color=>color.trim()).filter(color=>color).map(color=>{var _colorImages$find;return/*#__PURE__*/_jsxs(ColorSection,{children:[/*#__PURE__*/_jsxs(ColorHeader,{children:[/*#__PURE__*/_jsx(ColorName,{children:color}),/*#__PURE__*/_jsx(ColorImagePreview,{children:((_colorImages$find=colorImages.find(img=>img.color===color))===null||_colorImages$find===void 0?void 0:_colorImages$find.imagePreview)&&/*#__PURE__*/_jsx(\"img\",{src:colorImages.find(img=>img.color===color).imagePreview,alt:color})})]}),/*#__PURE__*/_jsx(SizeGrid,{children:productForm.size.split(',').map(size=>size.trim()).filter(size=>size).map(size=>/*#__PURE__*/_jsxs(SizeCell,{children:[/*#__PURE__*/_jsx(SizeLabel,{children:size}),/*#__PURE__*/_jsx(MatrixLabel,{children:\"Quantity\"}),/*#__PURE__*/_jsx(MatrixInput,{type:\"number\",placeholder:\"0\",min:\"0\",value:getInventoryValue(color,size,'quantity'),onChange:e=>updateInventory(color,size,'quantity',e.target.value),disabled:formLoading}),/*#__PURE__*/_jsx(MatrixLabel,{children:\"Price ($)\"}),/*#__PURE__*/_jsx(MatrixInput,{type:\"number\",placeholder:productForm.price,step:\"0.01\",min:\"0\",value:getInventoryValue(color,size,'price'),onChange:e=>updateInventory(color,size,'price',e.target.value),disabled:formLoading})]},size))})]},color);})]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"inStock\",checked:productForm.inStock,onChange:handleInputChange,disabled:formLoading}),\"In Stock\"]}),/*#__PURE__*/_jsxs(FormActions,{children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",disabled:formLoading,children:formLoading?'Saving...':editingProduct?'Update Product':'Add Product'}),/*#__PURE__*/_jsx(Button,{type:\"button\",onClick:()=>{setShowModal(false);setEditingProduct(null);resetForm();},style:{background:'#6c757d'},disabled:formLoading,children:\"Cancel\"})]})]})]})}),/*#__PURE__*/_jsx(ProductsGrid,{children:products.map(product=>/*#__PURE__*/_jsxs(ProductCard,{children:[/*#__PURE__*/_jsx(ProductImage,{src:product.img||'https://via.placeholder.com/300x300?text=No+Image',alt:product.title}),/*#__PURE__*/_jsx(ProductTitle,{children:product.title}),/*#__PURE__*/_jsxs(ProductPrice,{children:[\"$\",product.price]}),/*#__PURE__*/_jsxs(ProductInfo,{children:[\"Categories: \",product.categories?product.categories.join(', '):'N/A']}),/*#__PURE__*/_jsxs(ProductInfo,{children:[\"Sizes: \",product.size?product.size.join(', '):'N/A']}),/*#__PURE__*/_jsxs(ProductInfo,{children:[\"Colors: \",product.color?product.color.join(', '):'N/A']}),/*#__PURE__*/_jsxs(ProductInfo,{children:[\"Status: \",/*#__PURE__*/_jsx(StockStatus,{className:product.inStock?'in-stock':'out-of-stock',children:product.inStock?'In Stock':'Out of Stock'})]}),/*#__PURE__*/_jsxs(ProductActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:()=>handleEditProduct(product),style:{background:'#28a745'},disabled:deleteLoading===product.id,children:\"\\u270F\\uFE0F Edit\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>handleDeleteProduct(product.id),style:{background:'#dc3545'},disabled:deleteLoading===product.id,children:deleteLoading===product.id?/*#__PURE__*/_jsxs(DeleteLoading,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin\"}),\"Deleting...\"]}):'🗑️ Delete'})]})]},product.id))})]});};export default AdminProducts;","map":{"version":3,"names":["React","useState","useEffect","styled","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Container","div","_templateObject","_taggedTemplateLiteral","Header","_templateObject2","ActionBar","_templateObject3","Button","button","_templateObject4","ProductsGrid","_templateObject5","ProductCard","_templateObject6","ProductImage","img","_templateObject7","ProductTitle","h3","_templateObject8","ProductPrice","_templateObject9","ProductInfo","_templateObject0","StockStatus","span","_templateObject1","ProductActions","_templateObject10","Modal","_templateObject11","ModalContent","_templateObject12","Form","form","_templateObject13","Input","input","_templateObject14","TextArea","textarea","_templateObject15","FileInput","_templateObject16","FormActions","_templateObject17","Loading","_templateObject18","ErrorMessage","_templateObject19","ColorImageSection","_templateObject20","ColorImageGrid","_templateObject21","ColorImageCard","_templateObject22","ColorNameInput","_templateObject23","ImagePreview","_templateObject24","RemoveButton","_templateObject25","AddButton","_templateObject26","BulkUploadSection","_templateObject27","InventorySection","_templateObject28","ColorSection","_templateObject29","ColorHeader","_templateObject30","ColorName","_templateObject31","ColorImagePreview","_templateObject32","SizeGrid","_templateObject33","SizeCell","_templateObject34","SizeLabel","_templateObject35","MatrixInput","_templateObject36","MatrixLabel","label","_templateObject37","DeleteLoading","_templateObject38","AdminProducts","products","setProducts","loading","setLoading","showModal","setShowModal","editingProduct","setEditingProduct","formLoading","setFormLoading","deleteLoading","setDeleteLoading","error","setError","navigate","productForm","setProductForm","title","desc","price","categories","size","color","inStock","colorImages","setColorImages","mainImagePreview","setMainImagePreview","inventory","setInventory","inventoryInitialized","setInventoryInitialized","getAuthHeader","token","localStorage","getItem","Authorization","concat","fetchProducts","response","get","process","env","REACT_APP_API_URL","headers","data","console","handleBulkColorImages","e","files","Array","from","target","newColorImages","map","file","colorName","name","split","imageFile","imagePreview","URL","createObjectURL","handleSingleColorImage","index","updated","updateColor","removeColorImage","filter","_","i","addColorImageSlot","updateInventory","field","value","prev","_objectSpread","undefined","_updated$color$size","removed","rest","_objectWithoutProperties","_toPropertyKey","Object","keys","length","parseInt","parseFloat","colors","c","trim","sizes","s","newInventory","forEach","includes","handleInputChange","type","checked","handleAddProduct","preventDefault","formData","FormData","append","item","inventoryToSend","quantity","JSON","stringify","post","resetForm","alert","_error$response","_error$response$data","message","handleEditProduct","product","join","handleUpdateProduct","put","id","_error$response2","_error$response2$data","handleDeleteProduct","productId","window","confirm","delete","openAddModal","getInventoryValue","_inventory$color","_inventory$color$size","children","onClick","onSubmit","placeholder","onChange","required","disabled","step","min","accept","style","marginTop","src","alt","multiple","margin","fontSize","padding","display","marginBottom","_colorImages$find","find","background","className"],"sources":["D:/raju new 1/front-end/src/admin/pages/Products.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n// ========== ALL STYLED COMPONENTS ==========\r\nconst Container = styled.div`\r\n  padding: 20px;\r\n  background: #f8f9fa;\r\n  min-height: 100vh;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  background: white;\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n  margin-bottom: 20px;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst ActionBar = styled.div`\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 12px 24px;\r\n  background: #667eea;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  \r\n  &:hover {\r\n    background: #764ba2;\r\n  }\r\n  \r\n  &:disabled {\r\n    background: #6c757d;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nconst ProductsGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\r\n  gap: 20px;\r\n`;\r\n\r\nconst ProductCard = styled.div`\r\n  background: white;\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n  transition: transform 0.2s;\r\n  \r\n  &:hover {\r\n    transform: translateY(-2px);\r\n  }\r\n`;\r\n\r\nconst ProductImage = styled.img`\r\n  width: 100%;\r\n  height: 200px;\r\n  object-fit: cover;\r\n  border-radius: 8px;\r\n  margin-bottom: 15px;\r\n`;\r\n\r\nconst ProductTitle = styled.h3`\r\n  margin-bottom: 10px;\r\n  color: #333;\r\n  font-size: 16px;\r\n  line-height: 1.4;\r\n`;\r\n\r\nconst ProductPrice = styled.div`\r\n  font-size: 1.2em;\r\n  font-weight: bold;\r\n  color: #667eea;\r\n  margin-bottom: 10px;\r\n`;\r\n\r\nconst ProductInfo = styled.div`\r\n  color: #666;\r\n  font-size: 14px;\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst StockStatus = styled.span`\r\n  padding: 4px 8px;\r\n  border-radius: 12px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  \r\n  &.in-stock {\r\n    background: #d4edda;\r\n    color: #155724;\r\n  }\r\n  \r\n  &.out-of-stock {\r\n    background: #f8d7da;\r\n    color: #721c24;\r\n  }\r\n`;\r\n\r\nconst ProductActions = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 15px;\r\n`;\r\n\r\nconst Modal = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0,0,0,0.5);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  z-index: 1000;\r\n`;\r\n\r\nconst ModalContent = styled.div`\r\n  background: white;\r\n  padding: 30px;\r\n  border-radius: 10px;\r\n  width: 90%;\r\n  max-width: 800px;\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n`;\r\n\r\nconst Form = styled.form`\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 15px;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  padding: 12px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  font-size: 16px;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: #667eea;\r\n  }\r\n`;\r\n\r\nconst TextArea = styled.textarea`\r\n  padding: 12px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  font-size: 16px;\r\n  min-height: 80px;\r\n  resize: vertical;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: #667eea;\r\n  }\r\n`;\r\n\r\nconst FileInput = styled.input`\r\n  padding: 12px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  font-size: 16px;\r\n`;\r\n\r\nconst FormActions = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  justify-content: flex-end;\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst Loading = styled.div`\r\n  text-align: center;\r\n  padding: 50px;\r\n  font-size: 18px;\r\n  color: #666;\r\n`;\r\n\r\nconst ErrorMessage = styled.div`\r\n  color: #ff4757;\r\n  background: #ffe6e6;\r\n  padding: 10px;\r\n  border-radius: 6px;\r\n  margin-bottom: 15px;\r\n  border: 1px solid #ff4757;\r\n`;\r\n\r\nconst ColorImageSection = styled.div`\r\n  border: 1px solid #ddd;\r\n  border-radius: 6px;\r\n  padding: 15px;\r\n  margin-bottom: 15px;\r\n  background: #f9f9f9;\r\n`;\r\n\r\nconst ColorImageGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\r\n  gap: 15px;\r\n  margin-top: 15px;\r\n`;\r\n\r\nconst ColorImageCard = styled.div`\r\n  border: 1px solid #ddd;\r\n  border-radius: 6px;\r\n  padding: 10px;\r\n  background: white;\r\n  text-align: center;\r\n`;\r\n\r\nconst ColorNameInput = styled.input`\r\n  width: 100%;\r\n  padding: 8px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  margin-bottom: 8px;\r\n  text-align: center;\r\n  font-size: 12px;\r\n`;\r\n\r\nconst ImagePreview = styled.img`\r\n  width: 80px;\r\n  height: 80px;\r\n  object-fit: cover;\r\n  border-radius: 4px;\r\n  border: 1px solid #ddd;\r\n  margin-bottom: 8px;\r\n`;\r\n\r\nconst RemoveButton = styled.button`\r\n  background: #ff4757;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  padding: 4px 8px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  width: 100%;\r\n  \r\n  &:hover {\r\n    background: #ff3742;\r\n  }\r\n`;\r\n\r\nconst AddButton = styled.button`\r\n  background: #2ed573;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  padding: 8px 15px;\r\n  cursor: pointer;\r\n  margin-top: 10px;\r\n  \r\n  &:hover {\r\n    background: #25c465;\r\n  }\r\n`;\r\n\r\nconst BulkUploadSection = styled.div`\r\n  border: 2px dashed #ddd;\r\n  border-radius: 6px;\r\n  padding: 20px;\r\n  text-align: center;\r\n  margin-bottom: 15px;\r\n  background: #f8f9fa;\r\n  \r\n  &:hover {\r\n    border-color: #667eea;\r\n  }\r\n`;\r\n\r\nconst InventorySection = styled.div`\r\n  border: 1px solid #ddd;\r\n  border-radius: 6px;\r\n  padding: 15px;\r\n  margin-bottom: 15px;\r\n  background: #f9f9f9;\r\n`;\r\n\r\nconst ColorSection = styled.div`\r\n  margin-bottom: 20px;\r\n  padding: 15px;\r\n  background: white;\r\n  border-radius: 6px;\r\n  border: 1px solid #eee;\r\n`;\r\n\r\nconst ColorHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n  padding-bottom: 10px;\r\n  border-bottom: 1px solid #eee;\r\n`;\r\n\r\nconst ColorName = styled.span`\r\n  font-weight: bold;\r\n  color: #333;\r\n`;\r\n\r\nconst ColorImagePreview = styled.div`\r\n  img {\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 4px;\r\n    border: 1px solid #ddd;\r\n  }\r\n`;\r\n\r\nconst SizeGrid = styled.div`\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));\r\n  gap: 10px;\r\n`;\r\n\r\nconst SizeCell = styled.div`\r\n  padding: 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  background: #f8f9fa;\r\n`;\r\n\r\nconst SizeLabel = styled.div`\r\n  font-weight: bold;\r\n  margin-bottom: 8px;\r\n  text-align: center;\r\n  color: #333;\r\n`;\r\n\r\nconst MatrixInput = styled.input`\r\n  width: 100%;\r\n  padding: 6px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 3px;\r\n  text-align: center;\r\n  font-size: 12px;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: #667eea;\r\n  }\r\n`;\r\n\r\nconst MatrixLabel = styled.label`\r\n  display: block;\r\n  font-size: 10px;\r\n  color: #666;\r\n  margin-bottom: 2px;\r\n  text-align: center;\r\n`;\r\n\r\nconst DeleteLoading = styled.div`\r\n  display: inline-flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  font-size: 12px;\r\n`;\r\n\r\n// ========== MAIN COMPONENT ==========\r\nconst AdminProducts = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingProduct, setEditingProduct] = useState(null);\r\n  const [formLoading, setFormLoading] = useState(false);\r\n  const [deleteLoading, setDeleteLoading] = useState(null);\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const [productForm, setProductForm] = useState({\r\n    title: '',\r\n    desc: '',\r\n    price: '',\r\n    categories: '',\r\n    size: '',\r\n    color: '',\r\n    inStock: true,\r\n    img: null\r\n  });\r\n\r\n  const [colorImages, setColorImages] = useState([]);\r\n  const [mainImagePreview, setMainImagePreview] = useState('');\r\n  const [inventory, setInventory] = useState({});\r\n  const [inventoryInitialized, setInventoryInitialized] = useState(false);\r\n\r\n  const getAuthHeader = () => {\r\n    const token = localStorage.getItem('adminToken');\r\n    return token ? { Authorization: `Bearer ${token}` } : {};\r\n  };\r\n\r\n  const fetchProducts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.get(\r\n        `${process.env.REACT_APP_API_URL}/api/products`,\r\n        { headers: getAuthHeader() }\r\n      );\r\n      setProducts(response.data.products || response.data || []);\r\n    } catch (error) {\r\n      console.error('Error fetching products:', error);\r\n      setProducts([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  // Color Images Functions\r\n  const handleBulkColorImages = (e) => {\r\n    const files = Array.from(e.target.files);\r\n    \r\n    const newColorImages = files.map(file => {\r\n      const colorName = file.name.split('.')[0];\r\n      return {\r\n        color: colorName,\r\n        imageFile: file,\r\n        imagePreview: URL.createObjectURL(file)\r\n      };\r\n    });\r\n\r\n    setColorImages([...colorImages, ...newColorImages]);\r\n  };\r\n\r\n  const handleSingleColorImage = (index, file) => {\r\n    const updated = [...colorImages];\r\n    if (!updated[index]) {\r\n      updated[index] = { color: '', imageFile: null, imagePreview: '' };\r\n    }\r\n    updated[index].imageFile = file;\r\n    updated[index].imagePreview = URL.createObjectURL(file);\r\n    \r\n    if (!updated[index].color) {\r\n      updated[index].color = file.name.split('.')[0];\r\n    }\r\n    \r\n    setColorImages(updated);\r\n  };\r\n\r\n  const updateColor = (index, color) => {\r\n    const updated = [...colorImages];\r\n    if (!updated[index]) {\r\n      updated[index] = { color: '', imageFile: null, imagePreview: '' };\r\n    }\r\n    updated[index].color = color;\r\n    setColorImages(updated);\r\n  };\r\n\r\n  const removeColorImage = (index) => {\r\n    setColorImages(colorImages.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const addColorImageSlot = () => {\r\n    setColorImages([...colorImages, { color: '', imageFile: null, imagePreview: '' }]);\r\n  };\r\n\r\n  // Update Inventory Matrix - ONLY SAVE EXPLICIT VALUES\r\n  const updateInventory = (color, size, field, value) => {\r\n    setInventory(prev => {\r\n      const updated = { ...prev };\r\n      \r\n      if (!updated[color]) {\r\n        updated[color] = {};\r\n      }\r\n      \r\n      // If field is empty, remove it completely\r\n      if (value === '' || value === null || value === undefined) {\r\n        if (updated[color][size]) {\r\n          // Remove the specific field\r\n          const { [field]: removed, ...rest } = updated[color][size];\r\n          updated[color][size] = rest;\r\n          \r\n          // If no fields left, remove the entire size entry\r\n          if (Object.keys(updated[color][size]).length === 0) {\r\n            delete updated[color][size];\r\n          }\r\n        }\r\n      } else {\r\n        // Only set value if user explicitly entered something\r\n        if (!updated[color][size]) {\r\n          updated[color][size] = {};\r\n        }\r\n        updated[color][size][field] = field === 'quantity' ? parseInt(value) || 0 \r\n                                    : field === 'price' ? parseFloat(value) || 0 \r\n                                    : value;\r\n      }\r\n      \r\n      // If no sizes left for this color, remove the color entry\r\n      if (updated[color] && Object.keys(updated[color]).length === 0) {\r\n        delete updated[color];\r\n      }\r\n      \r\n      return updated;\r\n    });\r\n  };\r\n\r\n  // Initialize inventory - NO AUTO-FILLING AT ALL\r\n  useEffect(() => {\r\n    if (productForm.color && productForm.size && !inventoryInitialized) {\r\n      // Only initialize with existing data, never create defaults\r\n      const colors = productForm.color.split(',').map(c => c.trim()).filter(c => c);\r\n      const sizes = productForm.size.split(',').map(s => s.trim()).filter(s => s);\r\n      \r\n      const newInventory = { ...inventory }; // Keep only what exists\r\n      \r\n      // Clean up any entries for colors/sizes that no longer exist\r\n      Object.keys(newInventory).forEach(color => {\r\n        if (!colors.includes(color)) {\r\n          delete newInventory[color];\r\n        } else {\r\n          Object.keys(newInventory[color]).forEach(size => {\r\n            if (!sizes.includes(size)) {\r\n              delete newInventory[color][size];\r\n            }\r\n          });\r\n        }\r\n      });\r\n      \r\n      setInventory(newInventory);\r\n      setInventoryInitialized(true);\r\n    }\r\n  }, [productForm.color, productForm.size]);\r\n\r\n  // Reset inventory initialization when modal closes\r\n  useEffect(() => {\r\n    if (!showModal) {\r\n      setInventoryInitialized(false);\r\n    }\r\n  }, [showModal]);\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value, type, checked, files } = e.target;\r\n    \r\n    if (type === 'file' && name === 'img') {\r\n      setProductForm(prev => ({\r\n        ...prev,\r\n        img: files[0]\r\n      }));\r\n      if (files[0]) {\r\n        setMainImagePreview(URL.createObjectURL(files[0]));\r\n      }\r\n    } else if (type === 'checkbox') {\r\n      setProductForm(prev => ({\r\n        ...prev,\r\n        [name]: checked\r\n      }));\r\n    } else {\r\n      setProductForm(prev => ({\r\n        ...prev,\r\n        [name]: value\r\n      }));\r\n    }\r\n  };\r\n\r\n  // Handle product submission - ONLY SAVE EXPLICIT ENTRIES\r\n  const handleAddProduct = async (e) => {\r\n    e.preventDefault();\r\n    setFormLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      if (!productForm.img) {\r\n        setError('Please select a main product image');\r\n        setFormLoading(false);\r\n        return;\r\n      }\r\n\r\n      const formData = new FormData();\r\n      formData.append('title', productForm.title);\r\n      formData.append('desc', productForm.desc);\r\n      formData.append('price', productForm.price);\r\n      formData.append('categories', productForm.categories);\r\n      formData.append('size', productForm.size);\r\n      formData.append('color', productForm.color);\r\n      formData.append('inStock', productForm.inStock);\r\n      formData.append('img', productForm.img);\r\n\r\n      // Color images\r\n      colorImages.forEach((item, index) => {\r\n        if (item.color && item.imageFile) {\r\n          formData.append(`color_${index}`, item.color);\r\n          formData.append(`colorImage_${index}`, item.imageFile);\r\n        }\r\n      });\r\n\r\n      // Only send inventory entries that have EXPLICIT quantity values\r\n      let inventoryToSend = {};\r\n      \r\n      // Only include entries where user explicitly set a quantity\r\n      Object.keys(inventory).forEach(color => {\r\n        Object.keys(inventory[color]).forEach(size => {\r\n          const item = inventory[color][size];\r\n          // ONLY include if quantity was explicitly set (not empty/undefined)\r\n          if (item.quantity !== undefined && item.quantity !== null && item.quantity !== '') {\r\n            if (!inventoryToSend[color]) {\r\n              inventoryToSend[color] = {};\r\n            }\r\n            inventoryToSend[color][size] = {\r\n              quantity: item.quantity,\r\n              price: item.price || parseFloat(productForm.price) || 0\r\n            };\r\n          }\r\n        });\r\n      });\r\n      \r\n      formData.append('inventory', JSON.stringify(inventoryToSend));\r\n\r\n      await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/products/upload`,\r\n        formData,\r\n        {\r\n          headers: {\r\n            ...getAuthHeader(),\r\n            'Content-Type': 'multipart/form-data'\r\n          }\r\n        }\r\n      );\r\n\r\n      setShowModal(false);\r\n      resetForm();\r\n      fetchProducts();\r\n      alert('Product added successfully!');\r\n    } catch (error) {\r\n      console.error('❌ Error adding product:', error);\r\n      setError(`Failed to add product: ${error.response?.data?.message || error.message}`);\r\n    } finally {\r\n      setFormLoading(false);\r\n    }\r\n  };\r\n\r\n  // Edit product - load ONLY existing data\r\n  const handleEditProduct = (product) => {\r\n    setEditingProduct(product);\r\n    setProductForm({\r\n      title: product.title,\r\n      desc: product.desc || '',\r\n      price: product.price,\r\n      categories: product.categories ? product.categories.join(',') : '',\r\n      size: product.size ? product.size.join(',') : '',\r\n      color: product.color ? product.color.join(',') : '',\r\n      inStock: product.inStock,\r\n      img: null\r\n    });\r\n    setMainImagePreview(product.img || '');\r\n    setColorImages([]);\r\n    \r\n    // Load EXACT inventory without any modifications\r\n    if (product.inventory && Object.keys(product.inventory).length > 0) {\r\n      setInventory(product.inventory);\r\n    } else {\r\n      // Start with completely empty inventory\r\n      setInventory({});\r\n    }\r\n    \r\n    setInventoryInitialized(true);\r\n    setShowModal(true);\r\n    setError('');\r\n  };\r\n\r\n  // Update product - save ONLY explicit entries\r\n  const handleUpdateProduct = async (e) => {\r\n    e.preventDefault();\r\n    setFormLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('title', productForm.title);\r\n      formData.append('desc', productForm.desc);\r\n      formData.append('price', productForm.price);\r\n      formData.append('categories', productForm.categories);\r\n      formData.append('size', productForm.size);\r\n      formData.append('color', productForm.color);\r\n      formData.append('inStock', productForm.inStock);\r\n      \r\n      // Only save inventory entries with explicit quantities\r\n      let inventoryToSend = {};\r\n      \r\n      Object.keys(inventory).forEach(color => {\r\n        Object.keys(inventory[color]).forEach(size => {\r\n          const item = inventory[color][size];\r\n          // ONLY include if quantity was explicitly set\r\n          if (item.quantity !== undefined && item.quantity !== null && item.quantity !== '') {\r\n            if (!inventoryToSend[color]) {\r\n              inventoryToSend[color] = {};\r\n            }\r\n            inventoryToSend[color][size] = {\r\n              quantity: item.quantity,\r\n              price: item.price || parseFloat(productForm.price) || 0\r\n            };\r\n          }\r\n        });\r\n      });\r\n      \r\n      formData.append('inventory', JSON.stringify(inventoryToSend));\r\n      \r\n      if (productForm.img) {\r\n        formData.append('img', productForm.img);\r\n      }\r\n\r\n      await axios.put(\r\n        `${process.env.REACT_APP_API_URL}/api/products/${editingProduct.id}`,\r\n        formData,\r\n        {\r\n          headers: {\r\n            ...getAuthHeader(),\r\n            'Content-Type': 'multipart/form-data'\r\n          }\r\n        }\r\n      );\r\n\r\n      setShowModal(false);\r\n      setEditingProduct(null);\r\n      resetForm();\r\n      fetchProducts();\r\n      alert('Product updated successfully!');\r\n    } catch (error) {\r\n      console.error('Error updating product:', error);\r\n      setError(`Failed to update product: ${error.response?.data?.message || error.message}`);\r\n    } finally {\r\n      setFormLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteProduct = async (productId) => {\r\n    if (!window.confirm('Are you sure you want to delete this product? All product images will also be deleted from storage.')) {\r\n      return;\r\n    }\r\n\r\n    setDeleteLoading(productId);\r\n\r\n    try {\r\n      await axios.delete(\r\n        `${process.env.REACT_APP_API_URL}/api/products/${productId}`,\r\n        { headers: getAuthHeader() }\r\n      );\r\n      fetchProducts();\r\n      alert('Product and all associated images deleted successfully!');\r\n    } catch (error) {\r\n      console.error('Error deleting product:', error);\r\n      alert('Failed to delete product');\r\n    } finally {\r\n      setDeleteLoading(null);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setProductForm({\r\n      title: '',\r\n      desc: '',\r\n      price: '',\r\n      categories: '',\r\n      size: '',\r\n      color: '',\r\n      inStock: true,\r\n      img: null\r\n    });\r\n    setColorImages([]);\r\n    setMainImagePreview('');\r\n    setInventory({});\r\n    setInventoryInitialized(false);\r\n    setError('');\r\n  };\r\n\r\n  const openAddModal = () => {\r\n    setEditingProduct(null);\r\n    resetForm();\r\n    setShowModal(true);\r\n  };\r\n\r\n  // Helper function to get display values - show empty for unset\r\n  const getInventoryValue = (color, size, field) => {\r\n    const value = inventory[color]?.[size]?.[field];\r\n    // Return empty string for unset values, ensuring no defaults\r\n    return value !== undefined && value !== null && value !== '' ? value : '';\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container>\r\n        <Header>\r\n          <h1>📦 Manage Products</h1>\r\n        </Header>\r\n        <Loading>Loading products from database...</Loading>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Header>\r\n        <h1>📦 Manage Products</h1>\r\n        <Button onClick={() => navigate('/admin/dashboard')}>\r\n          ← Back to Dashboard\r\n        </Button>\r\n      </Header>\r\n\r\n      <ActionBar>\r\n        <Button onClick={openAddModal}>\r\n          ➕ Add New Product\r\n        </Button>\r\n        <Button onClick={fetchProducts}>\r\n          🔄 Refresh\r\n        </Button>\r\n      </ActionBar>\r\n\r\n      {/* Add/Edit Product Modal */}\r\n      {showModal && (\r\n        <Modal>\r\n          <ModalContent>\r\n            <h2>{editingProduct ? 'Edit Product' : 'Add New Product'}</h2>\r\n            \r\n            {error && (\r\n              <ErrorMessage>\r\n                ❌ {error}\r\n              </ErrorMessage>\r\n            )}\r\n            \r\n            <Form onSubmit={editingProduct ? handleUpdateProduct : handleAddProduct}>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"title\"\r\n                placeholder=\"Product Title\"\r\n                value={productForm.title}\r\n                onChange={handleInputChange}\r\n                required\r\n                disabled={formLoading}\r\n              />\r\n              \r\n              <TextArea\r\n                name=\"desc\"\r\n                placeholder=\"Product Description\"\r\n                value={productForm.desc}\r\n                onChange={handleInputChange}\r\n                disabled={formLoading}\r\n              />\r\n              \r\n              <Input\r\n                type=\"number\"\r\n                name=\"price\"\r\n                placeholder=\"Base Price\"\r\n                value={productForm.price}\r\n                onChange={handleInputChange}\r\n                step=\"0.01\"\r\n                min=\"0\"\r\n                required\r\n                disabled={formLoading}\r\n              />\r\n              \r\n              <Input\r\n                type=\"text\"\r\n                name=\"categories\"\r\n                placeholder=\"Categories (comma separated)\"\r\n                value={productForm.categories}\r\n                onChange={handleInputChange}\r\n                disabled={formLoading}\r\n              />\r\n              \r\n              <Input\r\n                type=\"text\"\r\n                name=\"size\"\r\n                placeholder=\"Sizes (comma separated) - S, M, L, XL\"\r\n                value={productForm.size}\r\n                onChange={handleInputChange}\r\n                disabled={formLoading}\r\n              />\r\n              \r\n              <Input\r\n                type=\"text\"\r\n                name=\"color\"\r\n                placeholder=\"Colors (comma separated) - Red, Blue, Black\"\r\n                value={productForm.color}\r\n                onChange={handleInputChange}\r\n                disabled={formLoading}\r\n              />\r\n              \r\n              {/* Main Product Image */}\r\n              <div>\r\n                <label><strong>Main Product Image *</strong></label>\r\n                <FileInput\r\n                  type=\"file\"\r\n                  name=\"img\"\r\n                  accept=\"image/*\"\r\n                  onChange={handleInputChange}\r\n                  disabled={formLoading}\r\n                />\r\n                {mainImagePreview && (\r\n                  <div style={{marginTop: '10px'}}>\r\n                    <ImagePreview src={mainImagePreview} alt=\"Main product preview\" />\r\n                  </div>\r\n                )}\r\n                <small>This image is required for product creation</small>\r\n              </div>\r\n\r\n              {/* Color-Specific Images Section */}\r\n              <ColorImageSection>\r\n                <label><strong>Color-Specific Images (Optional)</strong></label>\r\n                \r\n                <BulkUploadSection>\r\n                  <label>Bulk Upload Color Images</label>\r\n                  <FileInput\r\n                    type=\"file\"\r\n                    accept=\"image/*\"\r\n                    multiple\r\n                    onChange={handleBulkColorImages}\r\n                    style={{ margin: '10px 0' }}\r\n                    disabled={formLoading}\r\n                  />\r\n                  <small>Select multiple images at once. Color names will be taken from filenames.</small>\r\n                </BulkUploadSection>\r\n\r\n                <div>\r\n                  <label>Color Images Preview</label>\r\n                  <ColorImageGrid>\r\n                    {colorImages.map((item, index) => (\r\n                      <ColorImageCard key={index}>\r\n                        <ColorNameInput\r\n                          type=\"text\"\r\n                          placeholder=\"Color name\"\r\n                          value={item.color}\r\n                          onChange={(e) => updateColor(index, e.target.value)}\r\n                          disabled={formLoading}\r\n                        />\r\n                        {item.imagePreview ? (\r\n                          <ImagePreview src={item.imagePreview} alt={`${item.color} preview`} />\r\n                        ) : (\r\n                          <FileInput\r\n                            type=\"file\"\r\n                            accept=\"image/*\"\r\n                            onChange={(e) => handleSingleColorImage(index, e.target.files[0])}\r\n                            style={{ fontSize: '12px', padding: '4px' }}\r\n                            disabled={formLoading}\r\n                          />\r\n                        )}\r\n                        <RemoveButton \r\n                          type=\"button\" \r\n                          onClick={() => removeColorImage(index)}\r\n                          disabled={formLoading}\r\n                        >\r\n                          Remove\r\n                        </RemoveButton>\r\n                      </ColorImageCard>\r\n                    ))}\r\n                  </ColorImageGrid>\r\n                  \r\n                  <AddButton \r\n                    type=\"button\" \r\n                    onClick={addColorImageSlot}\r\n                    disabled={formLoading}\r\n                  >\r\n                    + Add Single Color Image\r\n                  </AddButton>\r\n                </div>\r\n              </ColorImageSection>\r\n\r\n              {/* Inventory Matrix Section - ONLY SHOW EXPLICIT VALUES */}\r\n              {productForm.color && productForm.size && (\r\n                <InventorySection>\r\n                  <label><strong>Color-Size Inventory Management</strong></label>\r\n                  <small style={{display: 'block', marginBottom: '15px', color: '#666'}}>\r\n                    Set different quantities and prices for each color-size combination. \r\n                    {editingProduct ? ' Only previously set values are shown.' : ' Leave empty for sizes without inventory.'}\r\n                  </small>\r\n                  \r\n                  {productForm.color.split(',').map(color => color.trim()).filter(color => color).map(color => (\r\n                    <ColorSection key={color}>\r\n                      <ColorHeader>\r\n                        <ColorName>{color}</ColorName>\r\n                        <ColorImagePreview>\r\n                          {colorImages.find(img => img.color === color)?.imagePreview && (\r\n                            <img \r\n                              src={colorImages.find(img => img.color === color).imagePreview} \r\n                              alt={color} \r\n                            />\r\n                          )}\r\n                        </ColorImagePreview>\r\n                      </ColorHeader>\r\n                      \r\n                      <SizeGrid>\r\n                        {productForm.size.split(',').map(size => size.trim()).filter(size => size).map(size => (\r\n                          <SizeCell key={size}>\r\n                            <SizeLabel>{size}</SizeLabel>\r\n                            <MatrixLabel>Quantity</MatrixLabel>\r\n                            <MatrixInput\r\n                              type=\"number\"\r\n                              placeholder=\"0\"\r\n                              min=\"0\"\r\n                              value={getInventoryValue(color, size, 'quantity')}\r\n                              onChange={(e) => updateInventory(color, size, 'quantity', e.target.value)}\r\n                              disabled={formLoading}\r\n                            />\r\n                            <MatrixLabel>Price ($)</MatrixLabel>\r\n                            <MatrixInput\r\n                              type=\"number\"\r\n                              placeholder={productForm.price}\r\n                              step=\"0.01\"\r\n                              min=\"0\"\r\n                              value={getInventoryValue(color, size, 'price')}\r\n                              onChange={(e) => updateInventory(color, size, 'price', e.target.value)}\r\n                              disabled={formLoading}\r\n                            />\r\n                          </SizeCell>\r\n                        ))}\r\n                      </SizeGrid>\r\n                    </ColorSection>\r\n                  ))}\r\n                </InventorySection>\r\n              )}\r\n              \r\n              <label>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  name=\"inStock\"\r\n                  checked={productForm.inStock}\r\n                  onChange={handleInputChange}\r\n                  disabled={formLoading}\r\n                />\r\n                In Stock\r\n              </label>\r\n              \r\n              <FormActions>\r\n                <Button type=\"submit\" disabled={formLoading}>\r\n                  {formLoading ? 'Saving...' : (editingProduct ? 'Update Product' : 'Add Product')}\r\n                </Button>\r\n                <Button \r\n                  type=\"button\" \r\n                  onClick={() => {\r\n                    setShowModal(false);\r\n                    setEditingProduct(null);\r\n                    resetForm();\r\n                  }}\r\n                  style={{ background: '#6c757d' }}\r\n                  disabled={formLoading}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </FormActions>\r\n            </Form>\r\n          </ModalContent>\r\n        </Modal>\r\n      )}\r\n\r\n      {/* Products Grid */}\r\n      <ProductsGrid>\r\n        {products.map((product) => (\r\n          <ProductCard key={product.id}>\r\n            <ProductImage \r\n              src={product.img || 'https://via.placeholder.com/300x300?text=No+Image'} \r\n              alt={product.title}\r\n            />\r\n            <ProductTitle>{product.title}</ProductTitle>\r\n            <ProductPrice>${product.price}</ProductPrice>\r\n            \r\n            <ProductInfo>\r\n              Categories: {product.categories ? product.categories.join(', ') : 'N/A'}\r\n            </ProductInfo>\r\n            \r\n            <ProductInfo>\r\n              Sizes: {product.size ? product.size.join(', ') : 'N/A'}\r\n            </ProductInfo>\r\n            \r\n            <ProductInfo>\r\n              Colors: {product.color ? product.color.join(', ') : 'N/A'}\r\n            </ProductInfo>\r\n            \r\n            <ProductInfo>\r\n              Status: <StockStatus className={product.inStock ? 'in-stock' : 'out-of-stock'}>\r\n                {product.inStock ? 'In Stock' : 'Out of Stock'}\r\n              </StockStatus>\r\n            </ProductInfo>\r\n            \r\n            <ProductActions>\r\n              <Button \r\n                onClick={() => handleEditProduct(product)}\r\n                style={{background: '#28a745'}}\r\n                disabled={deleteLoading === product.id}\r\n              >\r\n                ✏️ Edit\r\n              </Button>\r\n              <Button \r\n                onClick={() => handleDeleteProduct(product.id)}\r\n                style={{background: '#dc3545'}}\r\n                disabled={deleteLoading === product.id}\r\n              >\r\n                {deleteLoading === product.id ? (\r\n                  <DeleteLoading>\r\n                    <i className=\"fas fa-spinner fa-spin\"></i>\r\n                    Deleting...\r\n                  </DeleteLoading>\r\n                ) : (\r\n                  '🗑️ Delete'\r\n                )}\r\n              </Button>\r\n            </ProductActions>\r\n          </ProductCard>\r\n        ))}\r\n      </ProductsGrid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AdminProducts;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}