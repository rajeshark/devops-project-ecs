{"ast":null,"code":"import _objectSpread from\"D:/raju new 1/front-end/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"D:/raju new 1/front-end/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0,_templateObject1,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18,_templateObject19,_templateObject20,_templateObject21,_templateObject22,_templateObject23,_templateObject24,_templateObject25,_templateObject26,_templateObject27,_templateObject28,_templateObject29,_templateObject30,_templateObject31,_templateObject32;import React,{useState,useEffect}from\"react\";import styled from\"styled-components\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 20px;\\n  max-width: 1200px;\\n  margin: 0 auto;\\n\"])));const Title=styled.h1(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  font-weight: 300;\\n  text-align: center;\\n  margin-bottom: 30px;\\n\"])));const OrderCard=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  border: 1px solid #e0e0e0;\\n  border-radius: 10px;\\n  padding: 20px;\\n  margin-bottom: 20px;\\n  background: white;\\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\\n\"])));const OrderHeader=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-bottom: 15px;\\n  padding-bottom: 15px;\\n  border-bottom: 1px solid #eee;\\n\"])));const OrderId=styled.span(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  font-weight: 600;\\n  color: #333;\\n\"])));const OrderDate=styled.span(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  color: #666;\\n  font-size: 14px;\\n\"])));const OrderStatus=styled.span(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  padding: 4px 12px;\\n  border-radius: 20px;\\n  font-size: 12px;\\n  font-weight: 600;\\n  background-color: \",\";\\n  color: \",\";\\n\"])),props=>{switch(props.status){case'confirmed':return'#e3f2fd';case'shipped':return'#fff3e0';case'delivered':return'#e8f5e8';case'cancelled':return'#ffebee';case'pending':return'#fff3e0';default:return'#f5f5f5';}},props=>{switch(props.status){case'confirmed':return'#1976d2';case'shipped':return'#f57c00';case'delivered':return'#388e3c';case'cancelled':return'#d32f2f';case'pending':return'#ff9800';default:return'#757575';}});const PaymentStatus=styled.span(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  padding: 4px 12px;\\n  border-radius: 20px;\\n  font-size: 12px;\\n  font-weight: 600;\\n  background-color: \",\";\\n  color: \",\";\\n\"])),props=>{switch(props.status){case'paid':return'#e8f5e8';case'failed':return'#ffebee';case'refunded':return'#fff3e0';case'pending':return'#fff3e0';default:return'#f5f5f5';}},props=>{switch(props.status){case'paid':return'#388e3c';case'failed':return'#d32f2f';case'refunded':return'#f57c00';case'pending':return'#ff9800';default:return'#757575';}});const ProductItem=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  margin-bottom: 15px;\\n  padding: 10px;\\n  background: #f9f9f9;\\n  border-radius: 8px;\\n\"])));const ProductImage=styled.img(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  width: 60px;\\n  height: 60px;\\n  object-fit: cover;\\n  border-radius: 4px;\\n  margin-right: 15px;\\n\"])));const ProductDetails=styled.div(_templateObject1||(_templateObject1=_taggedTemplateLiteral([\"\\n  flex: 1;\\n\"])));const ProductName=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  font-weight: 500;\\n  margin-bottom: 5px;\\n\"])));const ProductPrice=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  color: #666;\\n  font-size: 14px;\\n\"])));const AddressSection=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  margin-top: 15px;\\n  padding: 15px;\\n  background: #f8f9fa;\\n  border-radius: 8px;\\n\"])));const AddressTitle=styled.h4(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  margin-bottom: 10px;\\n  color: #333;\\n\"])));const AddressText=styled.p(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  margin: 5px 0;\\n  color: #666;\\n  font-size: 14px;\\n\"])));const OrderTotal=styled.div(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-top: 15px;\\n  padding-top: 15px;\\n  border-top: 1px solid #eee;\\n  font-weight: 600;\\n  font-size: 18px;\\n\"])));const Loading=styled.div(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  padding: 50px;\\n  font-size: 18px;\\n  color: #666;\\n\"])));const EmptyOrders=styled.div(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  padding: 50px;\\n  color: #666;\\n\"])));const Button=styled.button(_templateObject18||(_templateObject18=_taggedTemplateLiteral([\"\\n  padding: 10px 20px;\\n  background-color: black;\\n  color: white;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  font-weight: 600;\\n  margin-top: 20px;\\n\"])));const StatusRow=styled.div(_templateObject19||(_templateObject19=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 10px;\\n  margin-top: 10px;\\n\"])));const CancelButton=styled.button(_templateObject20||(_templateObject20=_taggedTemplateLiteral([\"\\n  padding: 8px 16px;\\n  background-color: #f44336;\\n  color: white;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  font-weight: 600;\\n  margin-top: 10px;\\n  \\n  &:hover {\\n    background-color: #d32f2f;\\n  }\\n  \\n  &:disabled {\\n    background-color: #cccccc;\\n    cursor: not-allowed;\\n  }\\n\"])));const TrackingSection=styled.div(_templateObject21||(_templateObject21=_taggedTemplateLiteral([\"\\n  margin-top: 20px;\\n  padding: 20px;\\n  background: #f8f9fa;\\n  border-radius: 8px;\\n  border-left: 4px solid #4CAF50;\\n\"])));const TrackingTitle=styled.h3(_templateObject22||(_templateObject22=_taggedTemplateLiteral([\"\\n  margin-bottom: 15px;\\n  color: #333;\\n\"])));const TrackingSteps=styled.div(_templateObject23||(_templateObject23=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  position: relative;\\n  margin: 20px 0;\\n  \\n  &::before {\\n    content: '';\\n    position: absolute;\\n    top: 15px;\\n    left: 0;\\n    right: 0;\\n    height: 2px;\\n    background: #e0e0e0;\\n    z-index: 1;\\n  }\\n\"])));const TrackingStep=styled.div(_templateObject24||(_templateObject24=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  position: relative;\\n  z-index: 2;\\n  flex: 1;\\n\"])));const StepCircle=styled.div(_templateObject25||(_templateObject25=_taggedTemplateLiteral([\"\\n  width: 30px;\\n  height: 30px;\\n  border-radius: 50%;\\n  background-color: \",\";\\n  color: white;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-weight: bold;\\n  margin-bottom: 8px;\\n  border: 2px solid \",\";\\n\"])),props=>props.active?'#4CAF50':'#e0e0e0',props=>props.active?'#4CAF50':'#e0e0e0');const StepLabel=styled.span(_templateObject26||(_templateObject26=_taggedTemplateLiteral([\"\\n  font-size: 12px;\\n  text-align: center;\\n  color: \",\";\\n  font-weight: \",\";\\n\"])),props=>props.active?'#4CAF50':'#666',props=>props.active?'600':'400');const TrackingInfo=styled.div(_templateObject27||(_templateObject27=_taggedTemplateLiteral([\"\\n  margin-top: 15px;\\n  padding: 15px;\\n  background: white;\\n  border-radius: 6px;\\n  border: 1px solid #e0e0e0;\\n\"])));const TrackingItem=styled.div(_templateObject28||(_templateObject28=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  margin-bottom: 8px;\\n  padding-bottom: 8px;\\n  border-bottom: 1px solid #f0f0f0;\\n  \\n  &:last-child {\\n    margin-bottom: 0;\\n    padding-bottom: 0;\\n    border-bottom: none;\\n  }\\n\"])));const TrackingLabel=styled.span(_templateObject29||(_templateObject29=_taggedTemplateLiteral([\"\\n  font-weight: 600;\\n  color: #333;\\n\"])));const TrackingValue=styled.span(_templateObject30||(_templateObject30=_taggedTemplateLiteral([\"\\n  color: #666;\\n\"])));const ActionButtons=styled.div(_templateObject31||(_templateObject31=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 10px;\\n  margin-top: 15px;\\n  flex-wrap: wrap;\\n\"])));const CancelledMessage=styled.div(_templateObject32||(_templateObject32=_taggedTemplateLiteral([\"\\n  padding: 15px;\\n  margin: 15px 0;\\n  background-color: #fff3e0;\\n  border: 1px solid #ffb74d;\\n  border-radius: 6px;\\n  text-align: center;\\n  color: #e65100;\\n  font-weight: 600;\\n\"])));const Orders=()=>{const[orders,setOrders]=useState([]);const[loading,setLoading]=useState(true);const[cancellingOrder,setCancellingOrder]=useState(null);const navigate=useNavigate();const getAuthHeader=()=>{const token=localStorage.getItem('token');return token?{Authorization:\"Bearer \".concat(token)}:{};};// Function to send shipping update email\nconst sendShippingUpdateEmail=async(orderId,newStatus)=>{try{const user=JSON.parse(localStorage.getItem('user'));const order=orders.find(order=>order.id===orderId);if(order&&user&&user.email){await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/email/shipping-update\"),{orderData:_objectSpread(_objectSpread({},order),{},{status:newStatus}),userEmail:user.email,status:newStatus},{headers:getAuthHeader()});console.log(\"Shipping update email sent for order \".concat(orderId));}}catch(emailError){console.warn('Shipping update email failed:',emailError);// Don't fail the operation if email fails\n}};const fetchOrders=async()=>{try{setLoading(true);const response=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/orders\"),{headers:getAuthHeader()});setOrders(response.data.orders||[]);}catch(error){console.error('Error fetching orders:',error);setOrders([]);}finally{setLoading(false);}};useEffect(()=>{const token=localStorage.getItem('token');if(!token){navigate('/login');return;}fetchOrders();},[navigate]);const cancelOrder=async orderId=>{if(!window.confirm('Are you sure you want to cancel this order? Refund will be processed within 5-7 business days.')){return;}setCancellingOrder(orderId);try{const orderToCancel=orders.find(order=>order.id===orderId);if(!orderToCancel){throw new Error('Order not found');}// Step 1: Update order status to 'cancelled'\nawait axios.put(\"\".concat(process.env.REACT_APP_API_URL,\"/api/orders/\").concat(orderId,\"/status\"),{status:'cancelled'},{headers:getAuthHeader()});// Step 2: If payment was paid, update payment status to 'refunded'\nif(orderToCancel.paymentStatus==='paid'){await axios.put(\"\".concat(process.env.REACT_APP_API_URL,\"/api/orders/\").concat(orderId,\"/payment-status\"),{paymentStatus:'refunded'},{headers:getAuthHeader()});}// ✅ SEND CANCELLATION EMAIL\nawait sendShippingUpdateEmail(orderId,'cancelled');// Update the order status locally immediately\nsetOrders(prevOrders=>prevOrders.map(order=>order.id===orderId?_objectSpread(_objectSpread({},order),{},{status:'cancelled',paymentStatus:order.paymentStatus==='paid'?'refunded':order.paymentStatus}):order));// Refresh orders from server after 2 seconds to confirm\nsetTimeout(()=>{fetchOrders();},2000);}catch(error){var _error$response,_error$response$data;console.error('Error cancelling order:',error);alert(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to cancel order. Please try again.');}finally{setCancellingOrder(null);}};const getTrackingStatus=order=>{if(!['confirmed','shipped','delivered','processing'].includes(order.status)){return null;}const steps=[{id:'confirmed',label:'Order Confirmed',description:'Your order has been confirmed'},{id:'processing',label:'Processing',description:'Preparing your order for shipment'},{id:'shipped',label:'Shipped',description:'Your order is on the way'},{id:'delivered',label:'Delivered',description:'Order delivered successfully'}];let activeStep=0;switch(order.status){case'confirmed':activeStep=0;break;case'processing':activeStep=1;break;case'shipped':activeStep=2;break;case'delivered':activeStep=3;break;default:activeStep=0;}const trackingNumber=\"TRK\".concat(order.id.slice(-8).toUpperCase());const orderDate=new Date(order.createdAt);const estimatedDelivery=new Date(orderDate);estimatedDelivery.setDate(orderDate.getDate()+Math.floor(Math.random()*5)+3);return{steps,activeStep,trackingNumber,estimatedDelivery:estimatedDelivery.toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'}),carrier:'QuickCart Express',currentLocation:getCurrentLocation(order.status)};};const getCurrentLocation=status=>{switch(status){case'confirmed':return'Processing Center';case'processing':return'Warehouse';case'shipped':return'In Transit';case'delivered':return'Delivered';default:return'Processing Center';}};const canCancelOrder=order=>{return order.status==='confirmed';};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'});};const handleContinueShopping=()=>{navigate('/');};if(loading){return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Title,{children:\"MY ORDERS\"}),/*#__PURE__*/_jsx(Loading,{children:\"Loading your orders...\"})]});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Title,{children:\"MY ORDERS\"}),orders.length===0?/*#__PURE__*/_jsxs(EmptyOrders,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"No orders found\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You haven't placed any orders yet.\"}),/*#__PURE__*/_jsx(Button,{onClick:handleContinueShopping,children:\"START SHOPPING\"})]}):orders.map(order=>{const tracking=getTrackingStatus(order);const showCancelButton=canCancelOrder(order);const isCancelled=order.status==='cancelled';return/*#__PURE__*/_jsxs(OrderCard,{children:[/*#__PURE__*/_jsxs(OrderHeader,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(OrderId,{children:[\"Order #: \",order.id]}),/*#__PURE__*/_jsx(OrderDate,{children:formatDate(order.createdAt)})]}),/*#__PURE__*/_jsxs(StatusRow,{children:[/*#__PURE__*/_jsx(OrderStatus,{status:order.status,children:order.status.toUpperCase()}),/*#__PURE__*/_jsx(PaymentStatus,{status:order.paymentStatus,children:order.paymentStatus.toUpperCase()})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Products:\"}),order.products.map((product,index)=>/*#__PURE__*/_jsxs(ProductItem,{children:[/*#__PURE__*/_jsx(ProductImage,{src:product.img||'https://via.placeholder.com/60x60?text=No+Image',alt:product.title}),/*#__PURE__*/_jsxs(ProductDetails,{children:[/*#__PURE__*/_jsx(ProductName,{children:product.title}),/*#__PURE__*/_jsxs(ProductPrice,{children:[\"$\",parseFloat(product.price).toFixed(2),\" \\xD7 \",product.quantity]}),product.size&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Size: \",product.size]}),product.color&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Color: \",product.color]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"$\",(parseFloat(product.price)*product.quantity).toFixed(2)]})]},index))]}),/*#__PURE__*/_jsxs(AddressSection,{children:[/*#__PURE__*/_jsx(AddressTitle,{children:\"Shipping Address\"}),/*#__PURE__*/_jsx(AddressText,{children:order.address.street}),/*#__PURE__*/_jsxs(AddressText,{children:[order.address.city,\", \",order.address.state,\" \",order.address.zipCode]}),/*#__PURE__*/_jsx(AddressText,{children:order.address.country})]}),isCancelled&&/*#__PURE__*/_jsxs(CancelledMessage,{children:[\"\\u274C This order has been cancelled.\",order.paymentStatus==='refunded'&&' Refund has been processed.']}),tracking&&!isCancelled&&/*#__PURE__*/_jsxs(TrackingSection,{children:[/*#__PURE__*/_jsx(TrackingTitle,{children:\"Order Tracking\"}),/*#__PURE__*/_jsx(TrackingSteps,{children:tracking.steps.map((step,index)=>/*#__PURE__*/_jsxs(TrackingStep,{children:[/*#__PURE__*/_jsx(StepCircle,{active:index<=tracking.activeStep,children:index+1}),/*#__PURE__*/_jsx(StepLabel,{active:index<=tracking.activeStep,children:step.label})]},step.id))}),/*#__PURE__*/_jsxs(TrackingInfo,{children:[/*#__PURE__*/_jsxs(TrackingItem,{children:[/*#__PURE__*/_jsx(TrackingLabel,{children:\"Tracking Number:\"}),/*#__PURE__*/_jsx(TrackingValue,{children:tracking.trackingNumber})]}),/*#__PURE__*/_jsxs(TrackingItem,{children:[/*#__PURE__*/_jsx(TrackingLabel,{children:\"Carrier:\"}),/*#__PURE__*/_jsx(TrackingValue,{children:tracking.carrier})]}),/*#__PURE__*/_jsxs(TrackingItem,{children:[/*#__PURE__*/_jsx(TrackingLabel,{children:\"Current Status:\"}),/*#__PURE__*/_jsx(TrackingValue,{children:tracking.steps[tracking.activeStep].description})]}),/*#__PURE__*/_jsxs(TrackingItem,{children:[/*#__PURE__*/_jsx(TrackingLabel,{children:\"Estimated Delivery:\"}),/*#__PURE__*/_jsx(TrackingValue,{children:tracking.estimatedDelivery})]}),/*#__PURE__*/_jsxs(TrackingItem,{children:[/*#__PURE__*/_jsx(TrackingLabel,{children:\"Current Location:\"}),/*#__PURE__*/_jsx(TrackingValue,{children:tracking.currentLocation})]})]})]}),/*#__PURE__*/_jsxs(OrderTotal,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Amount:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",parseFloat(order.amount).toFixed(2)]})]}),showCancelButton&&/*#__PURE__*/_jsx(ActionButtons,{children:/*#__PURE__*/_jsx(CancelButton,{onClick:()=>cancelOrder(order.id),disabled:cancellingOrder===order.id,children:cancellingOrder===order.id?'Cancelling...':'Cancel Order'})})]},order.id);})]});};export default Orders;","map":{"version":3,"names":["React","useState","useEffect","styled","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Container","div","_templateObject","_taggedTemplateLiteral","Title","h1","_templateObject2","OrderCard","_templateObject3","OrderHeader","_templateObject4","OrderId","span","_templateObject5","OrderDate","_templateObject6","OrderStatus","_templateObject7","props","status","PaymentStatus","_templateObject8","ProductItem","_templateObject9","ProductImage","img","_templateObject0","ProductDetails","_templateObject1","ProductName","_templateObject10","ProductPrice","_templateObject11","AddressSection","_templateObject12","AddressTitle","h4","_templateObject13","AddressText","p","_templateObject14","OrderTotal","_templateObject15","Loading","_templateObject16","EmptyOrders","_templateObject17","Button","button","_templateObject18","StatusRow","_templateObject19","CancelButton","_templateObject20","TrackingSection","_templateObject21","TrackingTitle","h3","_templateObject22","TrackingSteps","_templateObject23","TrackingStep","_templateObject24","StepCircle","_templateObject25","active","StepLabel","_templateObject26","TrackingInfo","_templateObject27","TrackingItem","_templateObject28","TrackingLabel","_templateObject29","TrackingValue","_templateObject30","ActionButtons","_templateObject31","CancelledMessage","_templateObject32","Orders","orders","setOrders","loading","setLoading","cancellingOrder","setCancellingOrder","navigate","getAuthHeader","token","localStorage","getItem","Authorization","concat","sendShippingUpdateEmail","orderId","newStatus","user","JSON","parse","order","find","id","email","post","process","env","REACT_APP_API_URL","orderData","_objectSpread","userEmail","headers","console","log","emailError","warn","fetchOrders","response","get","data","error","cancelOrder","window","confirm","orderToCancel","Error","put","paymentStatus","prevOrders","map","setTimeout","_error$response","_error$response$data","alert","getTrackingStatus","includes","steps","label","description","activeStep","trackingNumber","slice","toUpperCase","orderDate","Date","createdAt","estimatedDelivery","setDate","getDate","Math","floor","random","toLocaleDateString","weekday","year","month","day","carrier","currentLocation","getCurrentLocation","canCancelOrder","formatDate","dateString","hour","minute","handleContinueShopping","children","length","onClick","tracking","showCancelButton","isCancelled","products","product","index","src","alt","title","parseFloat","price","toFixed","quantity","size","color","address","street","city","state","zipCode","country","step","amount","disabled"],"sources":["D:/raju new 1/front-end/src/pages/Orders.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Container = styled.div`\r\n  padding: 20px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-weight: 300;\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n`;\r\n\r\nconst OrderCard = styled.div`\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n  background: white;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n`;\r\n\r\nconst OrderHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n  padding-bottom: 15px;\r\n  border-bottom: 1px solid #eee;\r\n`;\r\n\r\nconst OrderId = styled.span`\r\n  font-weight: 600;\r\n  color: #333;\r\n`;\r\n\r\nconst OrderDate = styled.span`\r\n  color: #666;\r\n  font-size: 14px;\r\n`;\r\n\r\nconst OrderStatus = styled.span`\r\n  padding: 4px 12px;\r\n  border-radius: 20px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  background-color: ${props => {\r\n    switch(props.status) {\r\n      case 'confirmed': return '#e3f2fd';\r\n      case 'shipped': return '#fff3e0';\r\n      case 'delivered': return '#e8f5e8';\r\n      case 'cancelled': return '#ffebee';\r\n      case 'pending': return '#fff3e0';\r\n      default: return '#f5f5f5';\r\n    }\r\n  }};\r\n  color: ${props => {\r\n    switch(props.status) {\r\n      case 'confirmed': return '#1976d2';\r\n      case 'shipped': return '#f57c00';\r\n      case 'delivered': return '#388e3c';\r\n      case 'cancelled': return '#d32f2f';\r\n      case 'pending': return '#ff9800';\r\n      default: return '#757575';\r\n    }\r\n  }};\r\n`;\r\n\r\nconst PaymentStatus = styled.span`\r\n  padding: 4px 12px;\r\n  border-radius: 20px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  background-color: ${props => {\r\n    switch(props.status) {\r\n      case 'paid': return '#e8f5e8';\r\n      case 'failed': return '#ffebee';\r\n      case 'refunded': return '#fff3e0';\r\n      case 'pending': return '#fff3e0';\r\n      default: return '#f5f5f5';\r\n    }\r\n  }};\r\n  color: ${props => {\r\n    switch(props.status) {\r\n      case 'paid': return '#388e3c';\r\n      case 'failed': return '#d32f2f';\r\n      case 'refunded': return '#f57c00';\r\n      case 'pending': return '#ff9800';\r\n      default: return '#757575';\r\n    }\r\n  }};\r\n`;\r\n\r\nconst ProductItem = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n  padding: 10px;\r\n  background: #f9f9f9;\r\n  border-radius: 8px;\r\n`;\r\n\r\nconst ProductImage = styled.img`\r\n  width: 60px;\r\n  height: 60px;\r\n  object-fit: cover;\r\n  border-radius: 4px;\r\n  margin-right: 15px;\r\n`;\r\n\r\nconst ProductDetails = styled.div`\r\n  flex: 1;\r\n`;\r\n\r\nconst ProductName = styled.div`\r\n  font-weight: 500;\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst ProductPrice = styled.div`\r\n  color: #666;\r\n  font-size: 14px;\r\n`;\r\n\r\nconst AddressSection = styled.div`\r\n  margin-top: 15px;\r\n  padding: 15px;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n`;\r\n\r\nconst AddressTitle = styled.h4`\r\n  margin-bottom: 10px;\r\n  color: #333;\r\n`;\r\n\r\nconst AddressText = styled.p`\r\n  margin: 5px 0;\r\n  color: #666;\r\n  font-size: 14px;\r\n`;\r\n\r\nconst OrderTotal = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-top: 15px;\r\n  padding-top: 15px;\r\n  border-top: 1px solid #eee;\r\n  font-weight: 600;\r\n  font-size: 18px;\r\n`;\r\n\r\nconst Loading = styled.div`\r\n  text-align: center;\r\n  padding: 50px;\r\n  font-size: 18px;\r\n  color: #666;\r\n`;\r\n\r\nconst EmptyOrders = styled.div`\r\n  text-align: center;\r\n  padding: 50px;\r\n  color: #666;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 10px 20px;\r\n  background-color: black;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  margin-top: 20px;\r\n`;\r\n\r\nconst StatusRow = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 10px;\r\n`;\r\n\r\nconst CancelButton = styled.button`\r\n  padding: 8px 16px;\r\n  background-color: #f44336;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  margin-top: 10px;\r\n  \r\n  &:hover {\r\n    background-color: #d32f2f;\r\n  }\r\n  \r\n  &:disabled {\r\n    background-color: #cccccc;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nconst TrackingSection = styled.div`\r\n  margin-top: 20px;\r\n  padding: 20px;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n  border-left: 4px solid #4CAF50;\r\n`;\r\n\r\nconst TrackingTitle = styled.h3`\r\n  margin-bottom: 15px;\r\n  color: #333;\r\n`;\r\n\r\nconst TrackingSteps = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  position: relative;\r\n  margin: 20px 0;\r\n  \r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 15px;\r\n    left: 0;\r\n    right: 0;\r\n    height: 2px;\r\n    background: #e0e0e0;\r\n    z-index: 1;\r\n  }\r\n`;\r\n\r\nconst TrackingStep = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  position: relative;\r\n  z-index: 2;\r\n  flex: 1;\r\n`;\r\n\r\nconst StepCircle = styled.div`\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  background-color: ${props => props.active ? '#4CAF50' : '#e0e0e0'};\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: bold;\r\n  margin-bottom: 8px;\r\n  border: 2px solid ${props => props.active ? '#4CAF50' : '#e0e0e0'};\r\n`;\r\n\r\nconst StepLabel = styled.span`\r\n  font-size: 12px;\r\n  text-align: center;\r\n  color: ${props => props.active ? '#4CAF50' : '#666'};\r\n  font-weight: ${props => props.active ? '600' : '400'};\r\n`;\r\n\r\nconst TrackingInfo = styled.div`\r\n  margin-top: 15px;\r\n  padding: 15px;\r\n  background: white;\r\n  border-radius: 6px;\r\n  border: 1px solid #e0e0e0;\r\n`;\r\n\r\nconst TrackingItem = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 8px;\r\n  padding-bottom: 8px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  \r\n  &:last-child {\r\n    margin-bottom: 0;\r\n    padding-bottom: 0;\r\n    border-bottom: none;\r\n  }\r\n`;\r\n\r\nconst TrackingLabel = styled.span`\r\n  font-weight: 600;\r\n  color: #333;\r\n`;\r\n\r\nconst TrackingValue = styled.span`\r\n  color: #666;\r\n`;\r\n\r\nconst ActionButtons = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 15px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst CancelledMessage = styled.div`\r\n  padding: 15px;\r\n  margin: 15px 0;\r\n  background-color: #fff3e0;\r\n  border: 1px solid #ffb74d;\r\n  border-radius: 6px;\r\n  text-align: center;\r\n  color: #e65100;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst Orders = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [cancellingOrder, setCancellingOrder] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  const getAuthHeader = () => {\r\n    const token = localStorage.getItem('token');\r\n    return token ? { Authorization: `Bearer ${token}` } : {};\r\n  };\r\n\r\n  // Function to send shipping update email\r\n  const sendShippingUpdateEmail = async (orderId, newStatus) => {\r\n    try {\r\n      const user = JSON.parse(localStorage.getItem('user'));\r\n      const order = orders.find(order => order.id === orderId);\r\n      \r\n      if (order && user && user.email) {\r\n        await axios.post(\r\n          `${process.env.REACT_APP_API_URL}/api/email/shipping-update`,\r\n          {\r\n            orderData: {\r\n              ...order,\r\n              status: newStatus\r\n            },\r\n            userEmail: user.email,\r\n            status: newStatus\r\n          },\r\n          { headers: getAuthHeader() }\r\n        );\r\n        console.log(`Shipping update email sent for order ${orderId}`);\r\n      }\r\n    } catch (emailError) {\r\n      console.warn('Shipping update email failed:', emailError);\r\n      // Don't fail the operation if email fails\r\n    }\r\n  };\r\n\r\n  const fetchOrders = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.get(\r\n        `${process.env.REACT_APP_API_URL}/api/orders`,\r\n        { headers: getAuthHeader() }\r\n      );\r\n      setOrders(response.data.orders || []);\r\n    } catch (error) {\r\n      console.error('Error fetching orders:', error);\r\n      setOrders([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    fetchOrders();\r\n  }, [navigate]);\r\n\r\n  const cancelOrder = async (orderId) => {\r\n    if (!window.confirm('Are you sure you want to cancel this order? Refund will be processed within 5-7 business days.')) {\r\n      return;\r\n    }\r\n\r\n    setCancellingOrder(orderId);\r\n\r\n    try {\r\n      const orderToCancel = orders.find(order => order.id === orderId);\r\n      \r\n      if (!orderToCancel) {\r\n        throw new Error('Order not found');\r\n      }\r\n\r\n      // Step 1: Update order status to 'cancelled'\r\n      await axios.put(\r\n        `${process.env.REACT_APP_API_URL}/api/orders/${orderId}/status`,\r\n        { status: 'cancelled' },\r\n        { headers: getAuthHeader() }\r\n      );\r\n\r\n      // Step 2: If payment was paid, update payment status to 'refunded'\r\n      if (orderToCancel.paymentStatus === 'paid') {\r\n        await axios.put(\r\n          `${process.env.REACT_APP_API_URL}/api/orders/${orderId}/payment-status`,\r\n          { paymentStatus: 'refunded' },\r\n          { headers: getAuthHeader() }\r\n        );\r\n      }\r\n\r\n      // ✅ SEND CANCELLATION EMAIL\r\n      await sendShippingUpdateEmail(orderId, 'cancelled');\r\n      \r\n      // Update the order status locally immediately\r\n      setOrders(prevOrders => \r\n        prevOrders.map(order => \r\n          order.id === orderId \r\n            ? { \r\n                ...order, \r\n                status: 'cancelled',\r\n                paymentStatus: order.paymentStatus === 'paid' ? 'refunded' : order.paymentStatus\r\n              }\r\n            : order\r\n        )\r\n      );\r\n      \r\n      // Refresh orders from server after 2 seconds to confirm\r\n      setTimeout(() => {\r\n        fetchOrders();\r\n      }, 2000);\r\n\r\n    } catch (error) {\r\n      console.error('Error cancelling order:', error);\r\n      alert(error.response?.data?.error || 'Failed to cancel order. Please try again.');\r\n    } finally {\r\n      setCancellingOrder(null);\r\n    }\r\n  };\r\n\r\n  const getTrackingStatus = (order) => {\r\n    if (!['confirmed', 'shipped', 'delivered', 'processing'].includes(order.status)) {\r\n      return null;\r\n    }\r\n\r\n    const steps = [\r\n      { id: 'confirmed', label: 'Order Confirmed', description: 'Your order has been confirmed' },\r\n      { id: 'processing', label: 'Processing', description: 'Preparing your order for shipment' },\r\n      { id: 'shipped', label: 'Shipped', description: 'Your order is on the way' },\r\n      { id: 'delivered', label: 'Delivered', description: 'Order delivered successfully' }\r\n    ];\r\n\r\n    let activeStep = 0;\r\n    \r\n    switch (order.status) {\r\n      case 'confirmed':\r\n        activeStep = 0;\r\n        break;\r\n      case 'processing':\r\n        activeStep = 1;\r\n        break;\r\n      case 'shipped':\r\n        activeStep = 2;\r\n        break;\r\n      case 'delivered':\r\n        activeStep = 3;\r\n        break;\r\n      default:\r\n        activeStep = 0;\r\n    }\r\n\r\n    const trackingNumber = `TRK${order.id.slice(-8).toUpperCase()}`;\r\n    \r\n    const orderDate = new Date(order.createdAt);\r\n    const estimatedDelivery = new Date(orderDate);\r\n    estimatedDelivery.setDate(orderDate.getDate() + Math.floor(Math.random() * 5) + 3);\r\n\r\n    return {\r\n      steps,\r\n      activeStep,\r\n      trackingNumber,\r\n      estimatedDelivery: estimatedDelivery.toLocaleDateString('en-US', {\r\n        weekday: 'long',\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric'\r\n      }),\r\n      carrier: 'QuickCart Express',\r\n      currentLocation: getCurrentLocation(order.status)\r\n    };\r\n  };\r\n\r\n  const getCurrentLocation = (status) => {\r\n    switch (status) {\r\n      case 'confirmed':\r\n        return 'Processing Center';\r\n      case 'processing':\r\n        return 'Warehouse';\r\n      case 'shipped':\r\n        return 'In Transit';\r\n      case 'delivered':\r\n        return 'Delivered';\r\n      default:\r\n        return 'Processing Center';\r\n    }\r\n  };\r\n\r\n  const canCancelOrder = (order) => {\r\n    return order.status === 'confirmed';\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const handleContinueShopping = () => {\r\n    navigate('/');\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container>\r\n        <Title>MY ORDERS</Title>\r\n        <Loading>Loading your orders...</Loading>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Title>MY ORDERS</Title>\r\n      \r\n      {orders.length === 0 ? (\r\n        <EmptyOrders>\r\n          <h3>No orders found</h3>\r\n          <p>You haven't placed any orders yet.</p>\r\n          <Button onClick={handleContinueShopping}>START SHOPPING</Button>\r\n        </EmptyOrders>\r\n      ) : (\r\n        orders.map((order) => {\r\n          const tracking = getTrackingStatus(order);\r\n          const showCancelButton = canCancelOrder(order);\r\n          const isCancelled = order.status === 'cancelled';\r\n\r\n          return (\r\n            <OrderCard key={order.id}>\r\n              <OrderHeader>\r\n                <div>\r\n                  <OrderId>Order #: {order.id}</OrderId>\r\n                  <OrderDate>{formatDate(order.createdAt)}</OrderDate>\r\n                </div>\r\n                <StatusRow>\r\n                  <OrderStatus status={order.status}>\r\n                    {order.status.toUpperCase()}\r\n                  </OrderStatus>\r\n                  <PaymentStatus status={order.paymentStatus}>\r\n                    {order.paymentStatus.toUpperCase()}\r\n                  </PaymentStatus>\r\n                </StatusRow>\r\n              </OrderHeader>\r\n\r\n              <div>\r\n                <h4>Products:</h4>\r\n                {order.products.map((product, index) => (\r\n                  <ProductItem key={index}>\r\n                    <ProductImage \r\n                      src={product.img || 'https://via.placeholder.com/60x60?text=No+Image'} \r\n                      alt={product.title}\r\n                    />\r\n                    <ProductDetails>\r\n                      <ProductName>{product.title}</ProductName>\r\n                      <ProductPrice>\r\n                        ${parseFloat(product.price).toFixed(2)} × {product.quantity}\r\n                      </ProductPrice>\r\n                      {product.size && <div>Size: {product.size}</div>}\r\n                      {product.color && <div>Color: {product.color}</div>}\r\n                    </ProductDetails>\r\n                    <div>\r\n                      ${(parseFloat(product.price) * product.quantity).toFixed(2)}\r\n                    </div>\r\n                  </ProductItem>\r\n                ))}\r\n              </div>\r\n\r\n              <AddressSection>\r\n                <AddressTitle>Shipping Address</AddressTitle>\r\n                <AddressText>{order.address.street}</AddressText>\r\n                <AddressText>\r\n                  {order.address.city}, {order.address.state} {order.address.zipCode}\r\n                </AddressText>\r\n                <AddressText>{order.address.country}</AddressText>\r\n              </AddressSection>\r\n\r\n              {isCancelled && (\r\n                <CancelledMessage>\r\n                  ❌ This order has been cancelled. \r\n                  {order.paymentStatus === 'refunded' && ' Refund has been processed.'}\r\n                </CancelledMessage>\r\n              )}\r\n\r\n              {tracking && !isCancelled && (\r\n                <TrackingSection>\r\n                  <TrackingTitle>Order Tracking</TrackingTitle>\r\n                  \r\n                  <TrackingSteps>\r\n                    {tracking.steps.map((step, index) => (\r\n                      <TrackingStep key={step.id}>\r\n                        <StepCircle active={index <= tracking.activeStep}>\r\n                          {index + 1}\r\n                        </StepCircle>\r\n                        <StepLabel active={index <= tracking.activeStep}>\r\n                          {step.label}\r\n                        </StepLabel>\r\n                      </TrackingStep>\r\n                    ))}\r\n                  </TrackingSteps>\r\n\r\n                  <TrackingInfo>\r\n                    <TrackingItem>\r\n                      <TrackingLabel>Tracking Number:</TrackingLabel>\r\n                      <TrackingValue>{tracking.trackingNumber}</TrackingValue>\r\n                    </TrackingItem>\r\n                    <TrackingItem>\r\n                      <TrackingLabel>Carrier:</TrackingLabel>\r\n                      <TrackingValue>{tracking.carrier}</TrackingValue>\r\n                    </TrackingItem>\r\n                    <TrackingItem>\r\n                      <TrackingLabel>Current Status:</TrackingLabel>\r\n                      <TrackingValue>{tracking.steps[tracking.activeStep].description}</TrackingValue>\r\n                    </TrackingItem>\r\n                    <TrackingItem>\r\n                      <TrackingLabel>Estimated Delivery:</TrackingLabel>\r\n                      <TrackingValue>{tracking.estimatedDelivery}</TrackingValue>\r\n                    </TrackingItem>\r\n                    <TrackingItem>\r\n                      <TrackingLabel>Current Location:</TrackingLabel>\r\n                      <TrackingValue>{tracking.currentLocation}</TrackingValue>\r\n                    </TrackingItem>\r\n                  </TrackingInfo>\r\n                </TrackingSection>\r\n              )}\r\n\r\n              <OrderTotal>\r\n                <span>Total Amount:</span>\r\n                <span>${parseFloat(order.amount).toFixed(2)}</span>\r\n              </OrderTotal>\r\n\r\n              {showCancelButton && (\r\n                <ActionButtons>\r\n                  <CancelButton \r\n                    onClick={() => cancelOrder(order.id)}\r\n                    disabled={cancellingOrder === order.id}\r\n                  >\r\n                    {cancellingOrder === order.id ? 'Cancelling...' : 'Cancel Order'}\r\n                  </CancelButton>\r\n                </ActionButtons>\r\n              )}\r\n            </OrderCard>\r\n          );\r\n        })\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Orders;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}