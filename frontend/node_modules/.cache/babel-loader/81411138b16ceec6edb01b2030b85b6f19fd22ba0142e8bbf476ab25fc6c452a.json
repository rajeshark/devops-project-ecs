{"ast":null,"code":"import _objectSpread from\"D:/raju new 1/front-end/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"D:/raju new 1/front-end/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0,_templateObject1,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17;import React,{useState,useEffect}from'react';import styled from'styled-components';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 20px;\\n  background: #f8f9fa;\\n  min-height: 100vh;\\n\"])));const Header=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  background: white;\\n  padding: 20px;\\n  border-radius: 10px;\\n  margin-bottom: 20px;\\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n\"])));const Button=styled.button(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  padding: 12px 24px;\\n  background: #667eea;\\n  color: white;\\n  border: none;\\n  border-radius: 6px;\\n  cursor: pointer;\\n  font-weight: 600;\\n  \\n  &:hover {\\n    background: #764ba2;\\n  }\\n  \\n  &:disabled {\\n    background: #6c757d;\\n    cursor: not-allowed;\\n  }\\n\"])));const UsersTable=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  background: white;\\n  border-radius: 10px;\\n  overflow: hidden;\\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\\n\"])));const TableHeader=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr;\\n  padding: 15px 20px;\\n  background: #f8f9fa;\\n  font-weight: 600;\\n  border-bottom: 1px solid #e9ecef;\\n\"])));const TableRow=styled.div(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr;\\n  padding: 15px 20px;\\n  border-bottom: 1px solid #e9ecef;\\n  align-items: center;\\n  \\n  &:hover {\\n    background: #f8f9fa;\\n  }\\n  \\n  &:last-child {\\n    border-bottom: none;\\n  }\\n\"])));const RoleBadge=styled.span(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  padding: 4px 12px;\\n  border-radius: 20px;\\n  font-size: 12px;\\n  font-weight: 600;\\n  \\n  &.admin { \\n    background: #667eea; \\n    color: white; \\n  }\\n  &.customer { \\n    background: #e9ecef; \\n    color: #495057; \\n  }\\n\"])));const Loading=styled.div(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  padding: 50px;\\n  font-size: 18px;\\n  color: #666;\\n\"])));const EmptyState=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  padding: 50px;\\n  color: #666;\\n\"])));const ErrorMessage=styled.div(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  background: #f8d7da;\\n  color: #721c24;\\n  padding: 15px;\\n  border-radius: 6px;\\n  margin-bottom: 20px;\\n  border: 1px solid #f5c6cb;\\n\"])));const SuccessMessage=styled.div(_templateObject1||(_templateObject1=_taggedTemplateLiteral([\"\\n  background: #d4edda;\\n  color: #155724;\\n  padding: 15px;\\n  border-radius: 6px;\\n  margin-bottom: 20px;\\n  border: 1px solid #c3e6cb;\\n\"])));const SearchContainer=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 15px;\\n  margin-bottom: 20px;\\n  align-items: center;\\n\"])));const SearchInput=styled.input(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  padding: 12px;\\n  border: 1px solid #ddd;\\n  border-radius: 6px;\\n  font-size: 14px;\\n  flex: 1;\\n  max-width: 400px;\\n  \\n  &:focus {\\n    outline: none;\\n    border-color: #667eea;\\n  }\\n\"])));const StatsBar=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 20px;\\n  margin-bottom: 20px;\\n  padding: 15px;\\n  background: white;\\n  border-radius: 8px;\\n  box-shadow: 0 2px 5px rgba(0,0,0,0.1);\\n\"])));const StatItem=styled.div(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  \\n  .number {\\n    font-size: 1.5em;\\n    font-weight: bold;\\n    color: #667eea;\\n  }\\n  \\n  .label {\\n    font-size: 12px;\\n    color: #666;\\n    margin-top: 5px;\\n  }\\n\"])));const ActionButton=styled.button(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  padding: 6px 12px;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  font-size: 12px;\\n  font-weight: 600;\\n  margin-right: 5px;\\n  \\n  &.make-admin {\\n    background: #28a745;\\n    color: white;\\n    \\n    &:hover {\\n      background: #218838;\\n    }\\n  }\\n  \\n  &.remove-admin {\\n    background: #dc3545;\\n    color: white;\\n    \\n    &:hover {\\n      background: #c82333;\\n    }\\n  }\\n  \\n  &.delete {\\n    background: #6c757d;\\n    color: white;\\n    \\n    &:hover {\\n      background: #5a6268;\\n    }\\n  }\\n  \\n  &:disabled {\\n    opacity: 0.6;\\n    cursor: not-allowed;\\n  }\\n\"])));const CustomerInfo=styled.div(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n\"])));const CustomerAvatar=styled.div(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  width: 32px;\\n  height: 32px;\\n  border-radius: 50%;\\n  background: #667eea;\\n  color: white;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-weight: 600;\\n  font-size: 14px;\\n\"])));const ProfileInfo=styled.div(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  .profile-name {\\n    font-weight: 600;\\n    font-size: 14px;\\n  }\\n  .profile-details {\\n    font-size: 12px;\\n    color: #666;\\n  }\\n\"])));const AdminUsers=()=>{const[users,setUsers]=useState([]);const[filteredUsers,setFilteredUsers]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');const[success,setSuccess]=useState('');const[searchTerm,setSearchTerm]=useState('');const[actionLoading,setActionLoading]=useState(null);const navigate=useNavigate();const getAuthHeader=()=>{const token=localStorage.getItem('adminToken');return token?{Authorization:\"Bearer \".concat(token)}:{};};// UPDATED: Function to extract user data from profile system\nconst extractUserData=user=>{var _user$profile,_user$profile2;return{id:user.id,username:user.username,email:user.email,// UPDATED: Get name from profile\nname:((_user$profile=user.profile)===null||_user$profile===void 0?void 0:_user$profile.name)||'',// UPDATED: Get phone from profile\nphone:((_user$profile2=user.profile)===null||_user$profile2===void 0?void 0:_user$profile2.phone)||'',// UPDATED: Role handling\nrole:user.role||(user.isAdmin?'admin':'customer'),isAdmin:user.isAdmin||false,createdAt:user.createdAt,// UPDATED: Profile data for display\nprofile:user.profile||{name:'',phone:'',addresses:[]}};};const fetchUsers=async()=>{try{setLoading(true);setError('');setSuccess('');console.log('🔄 Fetching users from /api/auth/users...');const response=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/auth/users\"),{headers:getAuthHeader()});console.log('✅ Users API Response:',response.data);if(!response.data){throw new Error('No user data received from server');}let usersData=[];if(Array.isArray(response.data)){usersData=response.data;}else{usersData=response.data.users||Object.values(response.data);}if(!Array.isArray(usersData)){throw new Error('Invalid user data format received');}// UPDATED: Process users with profile system\nconst processedUsers=usersData.map(user=>extractUserData(user));console.log(\"\\uD83D\\uDCCA Loaded \".concat(processedUsers.length,\" users with profile system\"));// UPDATED: Enhanced logging for profile data\nprocessedUsers.forEach(user=>{console.log(\"\\uD83D\\uDC64 User \".concat(user.username,\":\"),{name:user.name,email:user.email,profile:user.profile,role:user.role});});setUsers(processedUsers);setFilteredUsers(processedUsers);setSuccess(\"Successfully loaded \".concat(processedUsers.length,\" users\"));}catch(error){var _error$response,_error$response2,_error$response3;console.error('❌ Error fetching users:',error);if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){setError('Authentication failed. Please log in again.');setTimeout(()=>{localStorage.removeItem('adminToken');navigate('/admin/login');},2000);}else if(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status)===403){setError('Access denied. Admin privileges required.');}else if(((_error$response3=error.response)===null||_error$response3===void 0?void 0:_error$response3.status)===404){setError('Users endpoint not found. Please check the API URL.');}else{setError(\"Failed to load users: \".concat(error.message));}// UPDATED: Demo data with profile system\nconst demoUsers=[{id:'1',username:'johndoe',email:'john@example.com',name:'John Doe',phone:'+1234567890',role:'customer',isAdmin:false,createdAt:'2024-01-15T10:30:00Z',profile:{name:'John Doe',phone:'+1234567890',addresses:[{id:'addr1',street:'123 Main St',city:'New York',state:'NY',zipCode:'10001',country:'USA',isDefault:true}]}},{id:'2',username:'janesmith',email:'jane@example.com',name:'Jane Smith',phone:'+0987654321',role:'customer',isAdmin:false,createdAt:'2024-01-20T14:45:00Z',profile:{name:'Jane Smith',phone:'+0987654321',addresses:[]}},{id:'3',username:'admin',email:'admin@example.com',name:'Admin User',phone:'+1112223333',role:'admin',isAdmin:true,createdAt:'2024-01-10T09:15:00Z',profile:{name:'Admin User',phone:'+1112223333',addresses:[]}}];setUsers(demoUsers);setFilteredUsers(demoUsers);}finally{setLoading(false);}};useEffect(()=>{fetchUsers();},[]);// Filter users based on search term\nuseEffect(()=>{if(searchTerm.trim()===''){setFilteredUsers(users);}else{const filtered=users.filter(user=>{var _user$username,_user$email,_user$name,_user$phone;return((_user$username=user.username)===null||_user$username===void 0?void 0:_user$username.toLowerCase().includes(searchTerm.toLowerCase()))||((_user$email=user.email)===null||_user$email===void 0?void 0:_user$email.toLowerCase().includes(searchTerm.toLowerCase()))||((_user$name=user.name)===null||_user$name===void 0?void 0:_user$name.toLowerCase().includes(searchTerm.toLowerCase()))||((_user$phone=user.phone)===null||_user$phone===void 0?void 0:_user$phone.toLowerCase().includes(searchTerm.toLowerCase()));});setFilteredUsers(filtered);}},[searchTerm,users]);// UPDATED: Function to get user display info from profile\nconst getUserDisplayInfo=user=>{var _user$profile3,_user$profile4,_user$profile4$addres;const name=user.name||user.username;const email=user.email;const initial=name.charAt(0).toUpperCase();const phone=user.phone||((_user$profile3=user.profile)===null||_user$profile3===void 0?void 0:_user$profile3.phone)||'No phone';const addressCount=((_user$profile4=user.profile)===null||_user$profile4===void 0?void 0:(_user$profile4$addres=_user$profile4.addresses)===null||_user$profile4$addres===void 0?void 0:_user$profile4$addres.length)||0;return{name,email,initial,phone,addressCount};};const toggleAdminStatus=async(userId,currentUser)=>{const currentRole=currentUser.role;const newRole=currentRole==='admin'?'customer':'admin';if(!window.confirm(\"Are you sure you want to \".concat(newRole==='admin'?'make this user an admin':'remove admin privileges',\" from \").concat(currentUser.name||currentUser.username,\"?\"))){return;}setActionLoading(userId);try{await axios.put(\"\".concat(process.env.REACT_APP_API_URL,\"/api/auth/users/\").concat(userId,\"/role\"),{role:newRole},{headers:getAuthHeader()});// UPDATED: Update local state with profile data preserved\nsetUsers(prev=>prev.map(user=>user.id===userId?_objectSpread(_objectSpread({},user),{},{role:newRole,isAdmin:newRole==='admin'}):user));setSuccess(\"\\u2705 User role updated successfully! \".concat(currentUser.name||currentUser.username,\" is now \").concat(newRole,\".\"));}catch(error){var _error$response4;console.error('❌ Error updating user role:',error);if(((_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.status)===400){setError(error.response.data.error||'Failed to update user role');}else{setError('Failed to update user role. Please try again.');}}finally{setActionLoading(null);}};const deleteUser=async(userId,userName)=>{if(!window.confirm(\"Are you sure you want to delete user \\\"\".concat(userName,\"\\\"? This action cannot be undone.\"))){return;}setActionLoading(userId);try{await axios.delete(\"\".concat(process.env.REACT_APP_API_URL,\"/api/auth/users/\").concat(userId),{headers:getAuthHeader()});setUsers(prev=>prev.filter(user=>user.id!==userId));setSuccess(\"\\u2705 User \\\"\".concat(userName,\"\\\" deleted successfully!\"));}catch(error){var _error$response5,_error$response6;console.error('❌ Error deleting user:',error);if(((_error$response5=error.response)===null||_error$response5===void 0?void 0:_error$response5.status)===400){setError(error.response.data.error||'Failed to delete user');}else if(((_error$response6=error.response)===null||_error$response6===void 0?void 0:_error$response6.status)===404){setError('User not found');}else{setError('Failed to delete user. Please try again.');}}finally{setActionLoading(null);}};// Calculate statistics\nconst totalUsers=users.length;const adminUsers=users.filter(user=>user.role==='admin'||user.isAdmin).length;const customerUsers=totalUsers-adminUsers;const usersWithAddresses=users.filter(user=>{var _user$profile5,_user$profile5$addres;return((_user$profile5=user.profile)===null||_user$profile5===void 0?void 0:(_user$profile5$addres=_user$profile5.addresses)===null||_user$profile5$addres===void 0?void 0:_user$profile5$addres.length)>0;}).length;if(loading){return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDC65 Manage Users\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>navigate('/admin/dashboard'),children:\"\\u2190 Back to Dashboard\"})]}),/*#__PURE__*/_jsxs(Loading,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin\",style:{marginRight:'10px'}}),\"Loading users from database...\"]})]});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Header,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDC65 Manage Users\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Manage customer accounts and administrator privileges\"})]}),/*#__PURE__*/_jsx(Button,{onClick:()=>navigate('/admin/dashboard'),children:\"\\u2190 Back to Dashboard\"})]}),error&&/*#__PURE__*/_jsxs(ErrorMessage,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle\",style:{marginRight:'10px'}}),error]}),success&&/*#__PURE__*/_jsxs(SuccessMessage,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check-circle\",style:{marginRight:'10px'}}),success]}),/*#__PURE__*/_jsxs(StatsBar,{children:[/*#__PURE__*/_jsxs(StatItem,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"number\",children:totalUsers}),/*#__PURE__*/_jsx(\"div\",{className:\"label\",children:\"Total Users\"})]}),/*#__PURE__*/_jsxs(StatItem,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"number\",children:adminUsers}),/*#__PURE__*/_jsx(\"div\",{className:\"label\",children:\"Administrators\"})]}),/*#__PURE__*/_jsxs(StatItem,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"number\",children:customerUsers}),/*#__PURE__*/_jsx(\"div\",{className:\"label\",children:\"Customers\"})]}),/*#__PURE__*/_jsxs(StatItem,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"number\",children:usersWithAddresses}),/*#__PURE__*/_jsx(\"div\",{className:\"label\",children:\"With Addresses\"})]})]}),/*#__PURE__*/_jsxs(SearchContainer,{children:[/*#__PURE__*/_jsx(SearchInput,{type:\"text\",placeholder:\"Search users by username, email, name, or phone...\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsx(Button,{onClick:fetchUsers,children:\"\\uD83D\\uDD04 Refresh\"})]}),filteredUsers.length===0?/*#__PURE__*/_jsxs(EmptyState,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users\",style:{fontSize:'3em',marginBottom:'20px',opacity:0.5}}),/*#__PURE__*/_jsx(\"h3\",{children:\"No users found\"}),/*#__PURE__*/_jsx(\"p\",{children:searchTerm?\"No users match \\\"\".concat(searchTerm,\"\\\"\"):'No users registered yet. User accounts will appear here when customers register.'})]}):/*#__PURE__*/_jsxs(UsersTable,{children:[/*#__PURE__*/_jsxs(TableHeader,{children:[/*#__PURE__*/_jsx(\"div\",{children:\"User Profile\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Contact\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Role\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Addresses\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Joined\"}),/*#__PURE__*/_jsx(\"div\",{children:\"Actions\"})]}),filteredUsers.map(user=>{const userRole=user.role;const userInfo=getUserDisplayInfo(user);// UPDATED: Check if current user (you might want to get this from token)\nconst isCurrentUser=false;// Implement based on your auth system\nreturn/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(CustomerInfo,{children:[/*#__PURE__*/_jsx(CustomerAvatar,{children:userInfo.initial}),/*#__PURE__*/_jsxs(ProfileInfo,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-name\",children:userInfo.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-details\",children:[\"@\",user.username]}),userInfo.phone!=='No phone'&&/*#__PURE__*/_jsx(\"div\",{className:\"profile-details\",children:userInfo.phone})]})]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:user.email})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(RoleBadge,{className:userRole,children:userRole})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{style:{background:userInfo.addressCount>0?'#d4edda':'#f8d7da',color:userInfo.addressCount>0?'#155724':'#721c24',padding:'4px 8px',borderRadius:'12px',fontSize:'11px',fontWeight:'600',display:'inline-block'},children:[userInfo.addressCount,\" \",userInfo.addressCount===1?'address':'addresses']})}),/*#__PURE__*/_jsx(\"div\",{children:user.createdAt?new Date(user.createdAt).toLocaleDateString():'N/A'}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(ActionButton,{className:userRole==='admin'?'remove-admin':'make-admin',onClick:()=>toggleAdminStatus(user.id,user),disabled:actionLoading===user.id||isCurrentUser,children:actionLoading===user.id?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin\"}):userRole==='admin'?'Remove Admin':'Make Admin'}),/*#__PURE__*/_jsx(ActionButton,{className:\"delete\",onClick:()=>deleteUser(user.id,userInfo.name),disabled:actionLoading===user.id||userRole==='admin'||isCurrentUser,title:userRole==='admin'?'Cannot delete admin users':'',children:actionLoading===user.id?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin\"}):'Delete'})]})]},user.id);})]})]});};export default AdminUsers;","map":{"version":3,"names":["React","useState","useEffect","styled","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Container","div","_templateObject","_taggedTemplateLiteral","Header","_templateObject2","Button","button","_templateObject3","UsersTable","_templateObject4","TableHeader","_templateObject5","TableRow","_templateObject6","RoleBadge","span","_templateObject7","Loading","_templateObject8","EmptyState","_templateObject9","ErrorMessage","_templateObject0","SuccessMessage","_templateObject1","SearchContainer","_templateObject10","SearchInput","input","_templateObject11","StatsBar","_templateObject12","StatItem","_templateObject13","ActionButton","_templateObject14","CustomerInfo","_templateObject15","CustomerAvatar","_templateObject16","ProfileInfo","_templateObject17","AdminUsers","users","setUsers","filteredUsers","setFilteredUsers","loading","setLoading","error","setError","success","setSuccess","searchTerm","setSearchTerm","actionLoading","setActionLoading","navigate","getAuthHeader","token","localStorage","getItem","Authorization","concat","extractUserData","user","_user$profile","_user$profile2","id","username","email","name","profile","phone","role","isAdmin","createdAt","addresses","fetchUsers","console","log","response","get","process","env","REACT_APP_API_URL","headers","data","Error","usersData","Array","isArray","Object","values","processedUsers","map","length","forEach","_error$response","_error$response2","_error$response3","status","setTimeout","removeItem","message","demoUsers","street","city","state","zipCode","country","isDefault","trim","filtered","filter","_user$username","_user$email","_user$name","_user$phone","toLowerCase","includes","getUserDisplayInfo","_user$profile3","_user$profile4","_user$profile4$addres","initial","charAt","toUpperCase","addressCount","toggleAdminStatus","userId","currentUser","currentRole","newRole","window","confirm","put","prev","_objectSpread","_error$response4","deleteUser","userName","delete","_error$response5","_error$response6","totalUsers","adminUsers","customerUsers","usersWithAddresses","_user$profile5","_user$profile5$addres","children","onClick","className","style","marginRight","type","placeholder","value","onChange","e","target","fontSize","marginBottom","opacity","userRole","userInfo","isCurrentUser","background","color","padding","borderRadius","fontWeight","display","Date","toLocaleDateString","disabled","title"],"sources":["D:/raju new 1/front-end/src/admin/pages/Users.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Container = styled.div`\r\n  padding: 20px;\r\n  background: #f8f9fa;\r\n  min-height: 100vh;\r\n`;\r\n\r\nconst Header = styled.div`\r\n  background: white;\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n  margin-bottom: 20px;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 12px 24px;\r\n  background: #667eea;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  \r\n  &:hover {\r\n    background: #764ba2;\r\n  }\r\n  \r\n  &:disabled {\r\n    background: #6c757d;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nconst UsersTable = styled.div`\r\n  background: white;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n`;\r\n\r\nconst TableHeader = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr;\r\n  padding: 15px 20px;\r\n  background: #f8f9fa;\r\n  font-weight: 600;\r\n  border-bottom: 1px solid #e9ecef;\r\n`;\r\n\r\nconst TableRow = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr;\r\n  padding: 15px 20px;\r\n  border-bottom: 1px solid #e9ecef;\r\n  align-items: center;\r\n  \r\n  &:hover {\r\n    background: #f8f9fa;\r\n  }\r\n  \r\n  &:last-child {\r\n    border-bottom: none;\r\n  }\r\n`;\r\n\r\nconst RoleBadge = styled.span`\r\n  padding: 4px 12px;\r\n  border-radius: 20px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  \r\n  &.admin { \r\n    background: #667eea; \r\n    color: white; \r\n  }\r\n  &.customer { \r\n    background: #e9ecef; \r\n    color: #495057; \r\n  }\r\n`;\r\n\r\nconst Loading = styled.div`\r\n  text-align: center;\r\n  padding: 50px;\r\n  font-size: 18px;\r\n  color: #666;\r\n`;\r\n\r\nconst EmptyState = styled.div`\r\n  text-align: center;\r\n  padding: 50px;\r\n  color: #666;\r\n`;\r\n\r\nconst ErrorMessage = styled.div`\r\n  background: #f8d7da;\r\n  color: #721c24;\r\n  padding: 15px;\r\n  border-radius: 6px;\r\n  margin-bottom: 20px;\r\n  border: 1px solid #f5c6cb;\r\n`;\r\n\r\nconst SuccessMessage = styled.div`\r\n  background: #d4edda;\r\n  color: #155724;\r\n  padding: 15px;\r\n  border-radius: 6px;\r\n  margin-bottom: 20px;\r\n  border: 1px solid #c3e6cb;\r\n`;\r\n\r\nconst SearchContainer = styled.div`\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-bottom: 20px;\r\n  align-items: center;\r\n`;\r\n\r\nconst SearchInput = styled.input`\r\n  padding: 12px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 6px;\r\n  font-size: 14px;\r\n  flex: 1;\r\n  max-width: 400px;\r\n  \r\n  &:focus {\r\n    outline: none;\r\n    border-color: #667eea;\r\n  }\r\n`;\r\n\r\nconst StatsBar = styled.div`\r\n  display: flex;\r\n  gap: 20px;\r\n  margin-bottom: 20px;\r\n  padding: 15px;\r\n  background: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 5px rgba(0,0,0,0.1);\r\n`;\r\n\r\nconst StatItem = styled.div`\r\n  text-align: center;\r\n  \r\n  .number {\r\n    font-size: 1.5em;\r\n    font-weight: bold;\r\n    color: #667eea;\r\n  }\r\n  \r\n  .label {\r\n    font-size: 12px;\r\n    color: #666;\r\n    margin-top: 5px;\r\n  }\r\n`;\r\n\r\nconst ActionButton = styled.button`\r\n  padding: 6px 12px;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  margin-right: 5px;\r\n  \r\n  &.make-admin {\r\n    background: #28a745;\r\n    color: white;\r\n    \r\n    &:hover {\r\n      background: #218838;\r\n    }\r\n  }\r\n  \r\n  &.remove-admin {\r\n    background: #dc3545;\r\n    color: white;\r\n    \r\n    &:hover {\r\n      background: #c82333;\r\n    }\r\n  }\r\n  \r\n  &.delete {\r\n    background: #6c757d;\r\n    color: white;\r\n    \r\n    &:hover {\r\n      background: #5a6268;\r\n    }\r\n  }\r\n  \r\n  &:disabled {\r\n    opacity: 0.6;\r\n    cursor: not-allowed;\r\n  }\r\n`;\r\n\r\nconst CustomerInfo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n`;\r\n\r\nconst CustomerAvatar = styled.div`\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 50%;\r\n  background: #667eea;\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 600;\r\n  font-size: 14px;\r\n`;\r\n\r\nconst ProfileInfo = styled.div`\r\n  .profile-name {\r\n    font-weight: 600;\r\n    font-size: 14px;\r\n  }\r\n  .profile-details {\r\n    font-size: 12px;\r\n    color: #666;\r\n  }\r\n`;\r\n\r\nconst AdminUsers = () => {\r\n  const [users, setUsers] = useState([]);\r\n  const [filteredUsers, setFilteredUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [success, setSuccess] = useState('');\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [actionLoading, setActionLoading] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  const getAuthHeader = () => {\r\n    const token = localStorage.getItem('adminToken');\r\n    return token ? { Authorization: `Bearer ${token}` } : {};\r\n  };\r\n\r\n  // UPDATED: Function to extract user data from profile system\r\n  const extractUserData = (user) => {\r\n    return {\r\n      id: user.id,\r\n      username: user.username,\r\n      email: user.email,\r\n      // UPDATED: Get name from profile\r\n      name: user.profile?.name || '',\r\n      // UPDATED: Get phone from profile\r\n      phone: user.profile?.phone || '',\r\n      // UPDATED: Role handling\r\n      role: user.role || (user.isAdmin ? 'admin' : 'customer'),\r\n      isAdmin: user.isAdmin || false,\r\n      createdAt: user.createdAt,\r\n      // UPDATED: Profile data for display\r\n      profile: user.profile || {\r\n        name: '',\r\n        phone: '',\r\n        addresses: []\r\n      }\r\n    };\r\n  };\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError('');\r\n      setSuccess('');\r\n\r\n      console.log('🔄 Fetching users from /api/auth/users...');\r\n\r\n      const response = await axios.get(\r\n        `${process.env.REACT_APP_API_URL}/api/auth/users`,\r\n        { headers: getAuthHeader() }\r\n      );\r\n\r\n      console.log('✅ Users API Response:', response.data);\r\n\r\n      if (!response.data) {\r\n        throw new Error('No user data received from server');\r\n      }\r\n\r\n      let usersData = [];\r\n      if (Array.isArray(response.data)) {\r\n        usersData = response.data;\r\n      } else {\r\n        usersData = response.data.users || Object.values(response.data);\r\n      }\r\n\r\n      if (!Array.isArray(usersData)) {\r\n        throw new Error('Invalid user data format received');\r\n      }\r\n\r\n      // UPDATED: Process users with profile system\r\n      const processedUsers = usersData.map(user => extractUserData(user));\r\n      \r\n      console.log(`📊 Loaded ${processedUsers.length} users with profile system`);\r\n      \r\n      // UPDATED: Enhanced logging for profile data\r\n      processedUsers.forEach(user => {\r\n        console.log(`👤 User ${user.username}:`, {\r\n          name: user.name,\r\n          email: user.email,\r\n          profile: user.profile,\r\n          role: user.role\r\n        });\r\n      });\r\n\r\n      setUsers(processedUsers);\r\n      setFilteredUsers(processedUsers);\r\n      setSuccess(`Successfully loaded ${processedUsers.length} users`);\r\n\r\n    } catch (error) {\r\n      console.error('❌ Error fetching users:', error);\r\n      \r\n      if (error.response?.status === 401) {\r\n        setError('Authentication failed. Please log in again.');\r\n        setTimeout(() => {\r\n          localStorage.removeItem('adminToken');\r\n          navigate('/admin/login');\r\n        }, 2000);\r\n      } else if (error.response?.status === 403) {\r\n        setError('Access denied. Admin privileges required.');\r\n      } else if (error.response?.status === 404) {\r\n        setError('Users endpoint not found. Please check the API URL.');\r\n      } else {\r\n        setError(`Failed to load users: ${error.message}`);\r\n      }\r\n      \r\n      // UPDATED: Demo data with profile system\r\n      const demoUsers = [\r\n        {\r\n          id: '1',\r\n          username: 'johndoe',\r\n          email: 'john@example.com',\r\n          name: 'John Doe',\r\n          phone: '+1234567890',\r\n          role: 'customer',\r\n          isAdmin: false,\r\n          createdAt: '2024-01-15T10:30:00Z',\r\n          profile: {\r\n            name: 'John Doe',\r\n            phone: '+1234567890',\r\n            addresses: [\r\n              {\r\n                id: 'addr1',\r\n                street: '123 Main St',\r\n                city: 'New York',\r\n                state: 'NY',\r\n                zipCode: '10001',\r\n                country: 'USA',\r\n                isDefault: true\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        {\r\n          id: '2',\r\n          username: 'janesmith',\r\n          email: 'jane@example.com', \r\n          name: 'Jane Smith',\r\n          phone: '+0987654321',\r\n          role: 'customer',\r\n          isAdmin: false,\r\n          createdAt: '2024-01-20T14:45:00Z',\r\n          profile: {\r\n            name: 'Jane Smith',\r\n            phone: '+0987654321',\r\n            addresses: []\r\n          }\r\n        },\r\n        {\r\n          id: '3',\r\n          username: 'admin',\r\n          email: 'admin@example.com',\r\n          name: 'Admin User',\r\n          phone: '+1112223333',\r\n          role: 'admin',\r\n          isAdmin: true,\r\n          createdAt: '2024-01-10T09:15:00Z',\r\n          profile: {\r\n            name: 'Admin User',\r\n            phone: '+1112223333',\r\n            addresses: []\r\n          }\r\n        }\r\n      ];\r\n      setUsers(demoUsers);\r\n      setFilteredUsers(demoUsers);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  // Filter users based on search term\r\n  useEffect(() => {\r\n    if (searchTerm.trim() === '') {\r\n      setFilteredUsers(users);\r\n    } else {\r\n      const filtered = users.filter(user =>\r\n        user.username?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        user.email?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        user.name?.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        user.phone?.toLowerCase().includes(searchTerm.toLowerCase())\r\n      );\r\n      setFilteredUsers(filtered);\r\n    }\r\n  }, [searchTerm, users]);\r\n\r\n  // UPDATED: Function to get user display info from profile\r\n  const getUserDisplayInfo = (user) => {\r\n    const name = user.name || user.username;\r\n    const email = user.email;\r\n    const initial = name.charAt(0).toUpperCase();\r\n    const phone = user.phone || user.profile?.phone || 'No phone';\r\n    const addressCount = user.profile?.addresses?.length || 0;\r\n\r\n    return {\r\n      name,\r\n      email,\r\n      initial,\r\n      phone,\r\n      addressCount\r\n    };\r\n  };\r\n\r\n  const toggleAdminStatus = async (userId, currentUser) => {\r\n    const currentRole = currentUser.role;\r\n    const newRole = currentRole === 'admin' ? 'customer' : 'admin';\r\n    \r\n    if (!window.confirm(`Are you sure you want to ${newRole === 'admin' ? 'make this user an admin' : 'remove admin privileges'} from ${currentUser.name || currentUser.username}?`)) {\r\n      return;\r\n    }\r\n\r\n    setActionLoading(userId);\r\n\r\n    try {\r\n      await axios.put(\r\n        `${process.env.REACT_APP_API_URL}/api/auth/users/${userId}/role`,\r\n        { role: newRole },\r\n        { headers: getAuthHeader() }\r\n      );\r\n\r\n      // UPDATED: Update local state with profile data preserved\r\n      setUsers(prev => prev.map(user => \r\n        user.id === userId ? { \r\n          ...user, \r\n          role: newRole, \r\n          isAdmin: newRole === 'admin' \r\n        } : user\r\n      ));\r\n      \r\n      setSuccess(`✅ User role updated successfully! ${currentUser.name || currentUser.username} is now ${newRole}.`);\r\n\r\n    } catch (error) {\r\n      console.error('❌ Error updating user role:', error);\r\n      \r\n      if (error.response?.status === 400) {\r\n        setError(error.response.data.error || 'Failed to update user role');\r\n      } else {\r\n        setError('Failed to update user role. Please try again.');\r\n      }\r\n    } finally {\r\n      setActionLoading(null);\r\n    }\r\n  };\r\n\r\n  const deleteUser = async (userId, userName) => {\r\n    if (!window.confirm(`Are you sure you want to delete user \"${userName}\"? This action cannot be undone.`)) {\r\n      return;\r\n    }\r\n\r\n    setActionLoading(userId);\r\n\r\n    try {\r\n      await axios.delete(\r\n        `${process.env.REACT_APP_API_URL}/api/auth/users/${userId}`,\r\n        { headers: getAuthHeader() }\r\n      );\r\n      \r\n      setUsers(prev => prev.filter(user => user.id !== userId));\r\n      setSuccess(`✅ User \"${userName}\" deleted successfully!`);\r\n    } catch (error) {\r\n      console.error('❌ Error deleting user:', error);\r\n      \r\n      if (error.response?.status === 400) {\r\n        setError(error.response.data.error || 'Failed to delete user');\r\n      } else if (error.response?.status === 404) {\r\n        setError('User not found');\r\n      } else {\r\n        setError('Failed to delete user. Please try again.');\r\n      }\r\n    } finally {\r\n      setActionLoading(null);\r\n    }\r\n  };\r\n\r\n  // Calculate statistics\r\n  const totalUsers = users.length;\r\n  const adminUsers = users.filter(user => user.role === 'admin' || user.isAdmin).length;\r\n  const customerUsers = totalUsers - adminUsers;\r\n  const usersWithAddresses = users.filter(user => user.profile?.addresses?.length > 0).length;\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container>\r\n        <Header>\r\n          <h1>👥 Manage Users</h1>\r\n          <Button onClick={() => navigate('/admin/dashboard')}>\r\n            ← Back to Dashboard\r\n          </Button>\r\n        </Header>\r\n        <Loading>\r\n          <i className=\"fas fa-spinner fa-spin\" style={{ marginRight: '10px' }}></i>\r\n          Loading users from database...\r\n        </Loading>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Header>\r\n        <div>\r\n          <h1>👥 Manage Users</h1>\r\n          <p>Manage customer accounts and administrator privileges</p>\r\n        </div>\r\n        <Button onClick={() => navigate('/admin/dashboard')}>\r\n          ← Back to Dashboard\r\n        </Button>\r\n      </Header>\r\n\r\n      {error && (\r\n        <ErrorMessage>\r\n          <i className=\"fas fa-exclamation-triangle\" style={{ marginRight: '10px' }}></i>\r\n          {error}\r\n        </ErrorMessage>\r\n      )}\r\n\r\n      {success && (\r\n        <SuccessMessage>\r\n          <i className=\"fas fa-check-circle\" style={{ marginRight: '10px' }}></i>\r\n          {success}\r\n        </SuccessMessage>\r\n      )}\r\n\r\n      {/* UPDATED: Stats bar with profile metrics */}\r\n      <StatsBar>\r\n        <StatItem>\r\n          <div className=\"number\">{totalUsers}</div>\r\n          <div className=\"label\">Total Users</div>\r\n        </StatItem>\r\n        <StatItem>\r\n          <div className=\"number\">{adminUsers}</div>\r\n          <div className=\"label\">Administrators</div>\r\n        </StatItem>\r\n        <StatItem>\r\n          <div className=\"number\">{customerUsers}</div>\r\n          <div className=\"label\">Customers</div>\r\n        </StatItem>\r\n        <StatItem>\r\n          <div className=\"number\">{usersWithAddresses}</div>\r\n          <div className=\"label\">With Addresses</div>\r\n        </StatItem>\r\n      </StatsBar>\r\n\r\n      <SearchContainer>\r\n        <SearchInput\r\n          type=\"text\"\r\n          placeholder=\"Search users by username, email, name, or phone...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n        />\r\n        <Button onClick={fetchUsers}>\r\n          🔄 Refresh\r\n        </Button>\r\n      </SearchContainer>\r\n\r\n      {filteredUsers.length === 0 ? (\r\n        <EmptyState>\r\n          <i className=\"fas fa-users\" style={{ fontSize: '3em', marginBottom: '20px', opacity: 0.5 }}></i>\r\n          <h3>No users found</h3>\r\n          <p>\r\n            {searchTerm ? \r\n              `No users match \"${searchTerm}\"` : \r\n              'No users registered yet. User accounts will appear here when customers register.'\r\n            }\r\n          </p>\r\n        </EmptyState>\r\n      ) : (\r\n        <UsersTable>\r\n          {/* UPDATED: Table header with profile columns */}\r\n          <TableHeader>\r\n            <div>User Profile</div>\r\n            <div>Contact</div>\r\n            <div>Role</div>\r\n            <div>Addresses</div>\r\n            <div>Joined</div>\r\n            <div>Actions</div>\r\n          </TableHeader>\r\n          \r\n          {filteredUsers.map((user) => {\r\n            const userRole = user.role;\r\n            const userInfo = getUserDisplayInfo(user);\r\n            // UPDATED: Check if current user (you might want to get this from token)\r\n            const isCurrentUser = false; // Implement based on your auth system\r\n\r\n            return (\r\n              <TableRow key={user.id}>\r\n                <div>\r\n                  <CustomerInfo>\r\n                    <CustomerAvatar>\r\n                      {userInfo.initial}\r\n                    </CustomerAvatar>\r\n                    <ProfileInfo>\r\n                      <div className=\"profile-name\">{userInfo.name}</div>\r\n                      <div className=\"profile-details\">@{user.username}</div>\r\n                      {userInfo.phone !== 'No phone' && (\r\n                        <div className=\"profile-details\">{userInfo.phone}</div>\r\n                      )}\r\n                    </ProfileInfo>\r\n                  </CustomerInfo>\r\n                </div>\r\n                <div>\r\n                  <div>{user.email}</div>\r\n                </div>\r\n                <div>\r\n                  <RoleBadge className={userRole}>\r\n                    {userRole}\r\n                  </RoleBadge>\r\n                </div>\r\n                <div>\r\n                  <div style={{ \r\n                    background: userInfo.addressCount > 0 ? '#d4edda' : '#f8d7da',\r\n                    color: userInfo.addressCount > 0 ? '#155724' : '#721c24',\r\n                    padding: '4px 8px',\r\n                    borderRadius: '12px',\r\n                    fontSize: '11px',\r\n                    fontWeight: '600',\r\n                    display: 'inline-block'\r\n                  }}>\r\n                    {userInfo.addressCount} {userInfo.addressCount === 1 ? 'address' : 'addresses'}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  {user.createdAt ? new Date(user.createdAt).toLocaleDateString() : 'N/A'}\r\n                </div>\r\n                <div>\r\n                  <ActionButton\r\n                    className={userRole === 'admin' ? 'remove-admin' : 'make-admin'}\r\n                    onClick={() => toggleAdminStatus(user.id, user)}\r\n                    disabled={actionLoading === user.id || isCurrentUser}\r\n                  >\r\n                    {actionLoading === user.id ? (\r\n                      <i className=\"fas fa-spinner fa-spin\"></i>\r\n                    ) : userRole === 'admin' ? (\r\n                      'Remove Admin'\r\n                    ) : (\r\n                      'Make Admin'\r\n                    )}\r\n                  </ActionButton>\r\n                  \r\n                  <ActionButton\r\n                    className=\"delete\"\r\n                    onClick={() => deleteUser(user.id, userInfo.name)}\r\n                    disabled={actionLoading === user.id || userRole === 'admin' || isCurrentUser}\r\n                    title={userRole === 'admin' ? 'Cannot delete admin users' : ''}\r\n                  >\r\n                    {actionLoading === user.id ? (\r\n                      <i className=\"fas fa-spinner fa-spin\"></i>\r\n                    ) : (\r\n                      'Delete'\r\n                    )}\r\n                  </ActionButton>\r\n                </div>\r\n              </TableRow>\r\n            );\r\n          })}\r\n        </UsersTable>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AdminUsers;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}