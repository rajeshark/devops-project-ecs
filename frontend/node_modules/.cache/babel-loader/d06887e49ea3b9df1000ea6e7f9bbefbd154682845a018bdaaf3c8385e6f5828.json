{"ast":null,"code":"import _taggedTemplateLiteral from\"D:/raju new 1/front-end/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0,_templateObject1,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17;import React,{useState,useEffect}from\"react\";import styled from\"styled-components\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  padding: 12px !important;\\n  background: white;\\n  border-radius: 12px;\\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);\\n  transition: all 0.3s ease;\\n  height: auto;\\n  position: relative;\\n  width: 260px;\\n  min-width: 260px;\\n  margin: 3px;\\n\\n  &:hover {\\n    transform: translateY(-3px);\\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.12);\\n  }\\n\\n  @media (max-width: 768px) {\\n    width: 200px;\\n    min-width: 200px;\\n    padding: 10px !important;\\n    margin: 2px;\\n  }\\n\\n  @media (max-width: 480px) {\\n    width: 150px;\\n    min-width: 150px;\\n    padding: 8px !important;\\n    margin: 2px;\\n  }\\n\"])));const ImageContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  position: relative;\\n  width: 100%;\\n  height: 180px;\\n  overflow: hidden;\\n  border-radius: 8px;\\n  margin-bottom: 10px;\\n  cursor: pointer;\\n\\n  @media (max-width: 768px) {\\n    height: 150px;\\n    margin-bottom: 8px;\\n  }\\n\\n  @media (max-width: 480px) {\\n    height: 120px;\\n    margin-bottom: 6px;\\n  }\\n\"])));const Image=styled.img(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n  object-fit: cover;\\n  transition: transform 0.3s ease;\\n\\n  \",\":hover & {\\n    transform: scale(1.05);\\n  }\\n\"])),Container);const InfoContainer=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  padding: 0 2px;\\n\"])));const Title=styled.h3(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  font-size: 1rem;\\n  font-weight: 600;\\n  color: #2d3748;\\n  margin-bottom: 6px;\\n  line-height: 1.3;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 2;\\n  -webkit-box-orient: vertical;\\n  overflow: hidden;\\n  min-height: 2.4em;\\n\\n  @media (max-width: 768px) {\\n    font-size: 0.9rem;\\n    min-height: 2.2em;\\n    margin-bottom: 4px;\\n  }\\n\\n  @media (max-width: 480px) {\\n    font-size: 0.85rem;\\n    min-height: 2em;\\n    margin-bottom: 3px;\\n  }\\n\"])));const Description=styled.p(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  color: #718096;\\n  font-size: 0.8rem;\\n  line-height: 1.3;\\n  margin-bottom: 8px;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 2;\\n  -webkit-box-orient: vertical;\\n  overflow: hidden;\\n  min-height: 2.4em;\\n\\n  @media (max-width: 480px) {\\n    font-size: 0.75rem;\\n    min-height: 2.2em;\\n    margin-bottom: 6px;\\n  }\\n\"])));const PriceContainer=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  gap: 5px;\\n  margin-bottom: 8px;\\n  flex-wrap: wrap;\\n\"])));const Price=styled.span(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  font-size: 1.1rem;\\n  font-weight: 700;\\n  color: #2d3748;\\n\\n  @media (max-width: 480px) {\\n    font-size: 1rem;\\n  }\\n\"])));const OriginalPrice=styled.span(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  font-size: 0.85rem;\\n  color: #a0aec0;\\n  text-decoration: line-through;\\n\\n  @media (max-width: 480px) {\\n    font-size: 0.8rem;\\n  }\\n\"])));const DiscountBadge=styled.span(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  background: linear-gradient(135deg, #ff6b6b, #ee5a52);\\n  color: white;\\n  padding: 2px 5px;\\n  border-radius: 8px;\\n  font-size: 0.7rem;\\n  font-weight: 600;\\n\\n  @media (max-width: 480px) {\\n    font-size: 0.65rem;\\n    padding: 2px 4px;\\n  }\\n\"])));const StockInfo=styled.div(_templateObject1||(_templateObject1=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  gap: 4px;\\n  margin-bottom: 6px;\\n  font-size: 0.75rem;\\n  color: \",\";\\n  font-weight: 500;\\n\\n  @media (max-width: 480px) {\\n    font-size: 0.7rem;\\n  }\\n\"])),props=>props.inStock?\"#38a169\":\"#e53e3e\");const CategoryTag=styled.span(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  background: #edf2f7;\\n  color: #4a5568;\\n  padding: 2px 5px;\\n  border-radius: 5px;\\n  font-size: 0.65rem;\\n  font-weight: 500;\\n  margin-bottom: 4px;\\n  display: inline-block;\\n\\n  @media (max-width: 480px) {\\n    font-size: 0.6rem;\\n    padding: 1px 4px;\\n  }\\n\"])));const ColorOptions=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 4px;\\n  margin-bottom: 8px;\\n  flex-wrap: wrap;\\n\"])));const ColorOption=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  width: 16px;\\n  height: 16px;\\n  border-radius: 50%;\\n  background-color: \",\";\\n  border: 2px solid \",\";\\n  cursor: pointer;\\n  transition: all 0.2s ease;\\n\\n  &:hover {\\n    transform: scale(1.1);\\n  }\\n\\n  @media (max-width: 480px) {\\n    width: 14px;\\n    height: 14px;\\n  }\\n\"])),props=>props.color,props=>props.selected?\"#667eea\":\"transparent\");const SizeOptions=styled.div(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 4px;\\n  margin-bottom: 8px;\\n  flex-wrap: wrap;\\n\"])));const SizeOption=styled.button(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  padding: 4px 8px;\\n  border: 1px solid \",\";\\n  background: \",\";\\n  color: \",\";\\n  border-radius: 5px;\\n  font-size: 0.7rem;\\n  font-weight: 500;\\n  cursor: pointer;\\n  transition: all 0.2s ease;\\n\\n  &:hover {\\n    border-color: #667eea;\\n  }\\n\\n  &:disabled {\\n    opacity: 0.5;\\n    cursor: not-allowed;\\n  }\\n\\n  @media (max-width: 480px) {\\n    padding: 3px 6px;\\n    font-size: 0.65rem;\\n  }\\n\"])),props=>props.selected?\"#667eea\":\"#e2e8f0\",props=>props.selected?\"#667eea\":\"white\",props=>props.selected?\"white\":\"#4a5568\");const Button=styled.button(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  padding: 8px 12px;\\n  background: \",\";\\n  color: white;\\n  border: none;\\n  border-radius: 6px;\\n  font-size: 0.85rem;\\n  font-weight: 600;\\n  cursor: \",\";\\n  transition: all 0.3s ease;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 5px;\\n\\n  &:hover {\\n    transform: \",\";\\n  }\\n\\n  @media (max-width: 480px) {\\n    padding: 6px 10px;\\n    font-size: 0.8rem;\\n  }\\n\"])),props=>props.disabled?\"#cbd5e0\":\"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",props=>props.disabled?\"not-allowed\":\"pointer\",props=>props.disabled?\"none\":\"translateY(-1px)\");const QuickViewOverlay=styled.div(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background: rgba(0, 0, 0, 0.7);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  opacity: 0;\\n  transition: opacity 0.3s ease;\\n  border-radius: 8px;\\n\\n  \",\":hover & {\\n    opacity: 1;\\n  }\\n\\n  @media (max-width: 768px) {\\n    opacity: 1;\\n    background: rgba(0, 0, 0, 0.5);\\n  }\\n\"])),Container);const QuickViewButton=styled.button(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  background: white;\\n  color: #2d3748;\\n  border: none;\\n  padding: 6px 12px;\\n  border-radius: 16px;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n  font-size: 0.75rem;\\n\\n  &:hover {\\n    background: #667eea;\\n    color: white;\\n  }\\n\\n  @media (max-width: 480px) {\\n    padding: 5px 10px;\\n    font-size: 0.7rem;\\n  }\\n\"])));const Product=_ref=>{let{item:product,loading}=_ref;const navigate=useNavigate();const[selectedColor,setSelectedColor]=useState(\"\");const[selectedSize,setSelectedSize]=useState(\"\");const[currentImage,setCurrentImage]=useState(\"\");const[currentSizes,setCurrentSizes]=useState([]);const[isAddingToCart,setIsAddingToCart]=useState(false);// Safe price formatting function\nconst formatPrice=price=>{if(price===null||price===undefined)return\"0.00\";const numPrice=typeof price==='string'?parseFloat(price):Number(price);if(isNaN(numPrice))return\"0.00\";return numPrice.toFixed(2);};// Initialize product data\nuseEffect(()=>{if(product){const defaultColor=product.color&&product.color.length>0?product.color[0]:\"\";setSelectedColor(defaultColor);const displayImage=product.colorImages&&product.colorImages[defaultColor]?product.colorImages[defaultColor]:product.img;setCurrentImage(displayImage);const sizes=getAvailableSizes(product,defaultColor);setCurrentSizes(sizes);if(sizes.length>0){setSelectedSize(sizes[0]);}}},[product]);const getAvailableSizes=(productData,color)=>{if(!productData.inventory||!productData.size){return productData.size||[];}return productData.size.filter(size=>{var _productData$inventor;const inventoryItem=(_productData$inventor=productData.inventory[color])===null||_productData$inventor===void 0?void 0:_productData$inventor[size];return inventoryItem&&inventoryItem.quantity>0;});};const getCurrentPrice=()=>{var _product$inventory$se;if(!selectedColor||!selectedSize||!product.inventory){return product.price||0;}const inventoryItem=(_product$inventory$se=product.inventory[selectedColor])===null||_product$inventory$se===void 0?void 0:_product$inventory$se[selectedSize];return(inventoryItem===null||inventoryItem===void 0?void 0:inventoryItem.price)||product.price||0;};const handleColorSelect=color=>{setSelectedColor(color);if(product.colorImages&&product.colorImages[color]){setCurrentImage(product.colorImages[color]);}const sizes=getAvailableSizes(product,color);setCurrentSizes(sizes);if(sizes.length>0&&!sizes.includes(selectedSize)){setSelectedSize(sizes[0]);}else if(sizes.length===0){setSelectedSize(\"\");}};const handleSizeSelect=size=>{setSelectedSize(size);};const handleProductClick=()=>{navigate(\"/product/\".concat(product.id));};const addToCart=async()=>{if(!selectedColor||product.size&&product.size.length>0&&!selectedSize){alert(\"Please select color and size options\");return;}const token=localStorage.getItem('token');if(!token){alert('Please login to add items to cart');navigate('/login');return;}setIsAddingToCart(true);try{const base64Payload=token.split('.')[1];const payload=JSON.parse(atob(base64Payload));const userId=payload.userId;const currentPrice=getCurrentPrice();const formattedPrice=formatPrice(currentPrice);const cartItem={productId:product.id,quantity:1,price:parseFloat(formattedPrice),title:product.title,img:currentImage,size:selectedSize||'One Size',color:selectedColor||'Default'};await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/cart/\").concat(userId),cartItem,{headers:{Authorization:\"Bearer \".concat(token)}});alert('Product added to cart successfully!');}catch(error){console.error('Error adding to cart:',error);alert('Failed to add product to cart');}finally{setIsAddingToCart(false);}};const isInStock=()=>{if(!product.inventory)return true;if(selectedColor&&selectedSize){var _product$inventory$se2;const inventoryItem=(_product$inventory$se2=product.inventory[selectedColor])===null||_product$inventory$se2===void 0?void 0:_product$inventory$se2[selectedSize];return inventoryItem&&inventoryItem.quantity>0;}if(product.color&&product.color.length>0){return product.color.some(color=>{const sizes=getAvailableSizes(product,color);return sizes.length>0;});}return true;};const getDiscountPercentage=()=>{const currentPrice=getCurrentPrice();const originalPrice=product.price;const numCurrent=typeof currentPrice==='string'?parseFloat(currentPrice):Number(currentPrice);const numOriginal=typeof originalPrice==='string'?parseFloat(originalPrice):Number(originalPrice);if(isNaN(numCurrent)||isNaN(numOriginal))return 0;if(numCurrent<numOriginal){return Math.round((numOriginal-numCurrent)/numOriginal*100);}return 0;};if(loading){return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',height:'180px',background:'#f0f0f0',borderRadius:'8px',marginBottom:'10px'}}),/*#__PURE__*/_jsxs(InfoContainer,{children:[/*#__PURE__*/_jsx(\"div\",{style:{height:'16px',background:'#f0f0f0',borderRadius:'4px',marginBottom:'6px'}}),/*#__PURE__*/_jsx(\"div\",{style:{height:'12px',background:'#f0f0f0',borderRadius:'4px',marginBottom:'6px',width:'80%'}}),/*#__PURE__*/_jsx(\"div\",{style:{height:'16px',background:'#f0f0f0',borderRadius:'4px',marginBottom:'8px',width:'60%'}}),/*#__PURE__*/_jsx(\"div\",{style:{height:'30px',background:'#f0f0f0',borderRadius:'6px'}})]})]});}if(!product){return null;}const discountPercentage=getDiscountPercentage();const inStock=isInStock();const currentPrice=getCurrentPrice();const formattedPrice=formatPrice(currentPrice);const formattedOriginalPrice=formatPrice(product.price);return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(ImageContainer,{onClick:handleProductClick,children:[/*#__PURE__*/_jsx(Image,{src:currentImage||product.img,alt:product.title,onError:e=>{e.target.src=\"https://via.placeholder.com/300x300/667eea/FFFFFF?text=\".concat(encodeURIComponent(product.title));}}),/*#__PURE__*/_jsx(QuickViewOverlay,{children:/*#__PURE__*/_jsx(QuickViewButton,{onClick:handleProductClick,children:\"Quick View\"})})]}),/*#__PURE__*/_jsxs(InfoContainer,{children:[product.categories&&product.categories.length>0&&/*#__PURE__*/_jsx(CategoryTag,{children:product.categories[0]}),/*#__PURE__*/_jsx(Title,{children:product.title}),/*#__PURE__*/_jsx(Description,{children:product.description||product.desc||\"No description available\"}),/*#__PURE__*/_jsxs(PriceContainer,{children:[/*#__PURE__*/_jsxs(Price,{children:[\"$\",formattedPrice]}),discountPercentage>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(OriginalPrice,{children:[\"$\",formattedOriginalPrice]}),/*#__PURE__*/_jsxs(DiscountBadge,{children:[\"-\",discountPercentage,\"%\"]})]})]}),/*#__PURE__*/_jsxs(StockInfo,{inStock:inStock,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat(inStock?'fa-check-circle':'fa-times-circle')}),inStock?'In Stock':'Out of Stock']}),product.color&&product.color.length>0&&/*#__PURE__*/_jsx(ColorOptions,{children:product.color.map(color=>/*#__PURE__*/_jsx(ColorOption,{color:color,selected:selectedColor===color,onClick:()=>handleColorSelect(color),title:color},color))}),currentSizes&&currentSizes.length>0&&/*#__PURE__*/_jsx(SizeOptions,{children:currentSizes.map(size=>/*#__PURE__*/_jsx(SizeOption,{selected:selectedSize===size,onClick:()=>handleSizeSelect(size),children:size},size))}),/*#__PURE__*/_jsx(Button,{onClick:addToCart,disabled:!inStock||isAddingToCart||product.size&&product.size.length>0&&!selectedSize||product.color&&product.color.length>0&&!selectedColor,children:isAddingToCart?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin\"}),\"Adding...\"]}):!inStock?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"}),\"Out of Stock\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shopping-cart\"}),\"Add to Cart\"]})})]})]});};export default Product;","map":{"version":3,"names":["React","useState","useEffect","styled","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Container","div","_templateObject","_taggedTemplateLiteral","ImageContainer","_templateObject2","Image","img","_templateObject3","InfoContainer","_templateObject4","Title","h3","_templateObject5","Description","p","_templateObject6","PriceContainer","_templateObject7","Price","span","_templateObject8","OriginalPrice","_templateObject9","DiscountBadge","_templateObject0","StockInfo","_templateObject1","props","inStock","CategoryTag","_templateObject10","ColorOptions","_templateObject11","ColorOption","_templateObject12","color","selected","SizeOptions","_templateObject13","SizeOption","button","_templateObject14","Button","_templateObject15","disabled","QuickViewOverlay","_templateObject16","QuickViewButton","_templateObject17","Product","_ref","item","product","loading","navigate","selectedColor","setSelectedColor","selectedSize","setSelectedSize","currentImage","setCurrentImage","currentSizes","setCurrentSizes","isAddingToCart","setIsAddingToCart","formatPrice","price","undefined","numPrice","parseFloat","Number","isNaN","toFixed","defaultColor","length","displayImage","colorImages","sizes","getAvailableSizes","productData","inventory","size","filter","_productData$inventor","inventoryItem","quantity","getCurrentPrice","_product$inventory$se","handleColorSelect","includes","handleSizeSelect","handleProductClick","concat","id","addToCart","alert","token","localStorage","getItem","base64Payload","split","payload","JSON","parse","atob","userId","currentPrice","formattedPrice","cartItem","productId","title","post","process","env","REACT_APP_API_URL","headers","Authorization","error","console","isInStock","_product$inventory$se2","some","getDiscountPercentage","originalPrice","numCurrent","numOriginal","Math","round","children","style","width","height","background","borderRadius","marginBottom","discountPercentage","formattedOriginalPrice","onClick","src","alt","onError","e","target","encodeURIComponent","categories","description","desc","className","map"],"sources":["D:/raju new 1/front-end/src/components/Product.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 12px !important;\r\n  background: white;\r\n  border-radius: 12px;\r\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);\r\n  transition: all 0.3s ease;\r\n  height: auto;\r\n  position: relative;\r\n  width: 260px;\r\n  min-width: 260px;\r\n  margin: 3px;\r\n\r\n  &:hover {\r\n    transform: translateY(-3px);\r\n    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.12);\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    width: 200px;\r\n    min-width: 200px;\r\n    padding: 10px !important;\r\n    margin: 2px;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    width: 150px;\r\n    min-width: 150px;\r\n    padding: 8px !important;\r\n    margin: 2px;\r\n  }\r\n`;\r\n\r\nconst ImageContainer = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 180px;\r\n  overflow: hidden;\r\n  border-radius: 8px;\r\n  margin-bottom: 10px;\r\n  cursor: pointer;\r\n\r\n  @media (max-width: 768px) {\r\n    height: 150px;\r\n    margin-bottom: 8px;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    height: 120px;\r\n    margin-bottom: 6px;\r\n  }\r\n`;\r\n\r\nconst Image = styled.img`\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  transition: transform 0.3s ease;\r\n\r\n  ${Container}:hover & {\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst InfoContainer = styled.div`\r\n  width: 100%;\r\n  padding: 0 2px;\r\n`;\r\n\r\nconst Title = styled.h3`\r\n  font-size: 1rem;\r\n  font-weight: 600;\r\n  color: #2d3748;\r\n  margin-bottom: 6px;\r\n  line-height: 1.3;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n  min-height: 2.4em;\r\n\r\n  @media (max-width: 768px) {\r\n    font-size: 0.9rem;\r\n    min-height: 2.2em;\r\n    margin-bottom: 4px;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 0.85rem;\r\n    min-height: 2em;\r\n    margin-bottom: 3px;\r\n  }\r\n`;\r\n\r\nconst Description = styled.p`\r\n  color: #718096;\r\n  font-size: 0.8rem;\r\n  line-height: 1.3;\r\n  margin-bottom: 8px;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n  min-height: 2.4em;\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 0.75rem;\r\n    min-height: 2.2em;\r\n    margin-bottom: 6px;\r\n  }\r\n`;\r\n\r\nconst PriceContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  margin-bottom: 8px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst Price = styled.span`\r\n  font-size: 1.1rem;\r\n  font-weight: 700;\r\n  color: #2d3748;\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 1rem;\r\n  }\r\n`;\r\n\r\nconst OriginalPrice = styled.span`\r\n  font-size: 0.85rem;\r\n  color: #a0aec0;\r\n  text-decoration: line-through;\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 0.8rem;\r\n  }\r\n`;\r\n\r\nconst DiscountBadge = styled.span`\r\n  background: linear-gradient(135deg, #ff6b6b, #ee5a52);\r\n  color: white;\r\n  padding: 2px 5px;\r\n  border-radius: 8px;\r\n  font-size: 0.7rem;\r\n  font-weight: 600;\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 0.65rem;\r\n    padding: 2px 4px;\r\n  }\r\n`;\r\n\r\nconst StockInfo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 4px;\r\n  margin-bottom: 6px;\r\n  font-size: 0.75rem;\r\n  color: ${(props) => (props.inStock ? \"#38a169\" : \"#e53e3e\")};\r\n  font-weight: 500;\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 0.7rem;\r\n  }\r\n`;\r\n\r\nconst CategoryTag = styled.span`\r\n  background: #edf2f7;\r\n  color: #4a5568;\r\n  padding: 2px 5px;\r\n  border-radius: 5px;\r\n  font-size: 0.65rem;\r\n  font-weight: 500;\r\n  margin-bottom: 4px;\r\n  display: inline-block;\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 0.6rem;\r\n    padding: 1px 4px;\r\n  }\r\n`;\r\n\r\nconst ColorOptions = styled.div`\r\n  display: flex;\r\n  gap: 4px;\r\n  margin-bottom: 8px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst ColorOption = styled.div`\r\n  width: 16px;\r\n  height: 16px;\r\n  border-radius: 50%;\r\n  background-color: ${(props) => props.color};\r\n  border: 2px solid ${(props) => (props.selected ? \"#667eea\" : \"transparent\")};\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    width: 14px;\r\n    height: 14px;\r\n  }\r\n`;\r\n\r\nconst SizeOptions = styled.div`\r\n  display: flex;\r\n  gap: 4px;\r\n  margin-bottom: 8px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst SizeOption = styled.button`\r\n  padding: 4px 8px;\r\n  border: 1px solid ${(props) => (props.selected ? \"#667eea\" : \"#e2e8f0\")};\r\n  background: ${(props) => (props.selected ? \"#667eea\" : \"white\")};\r\n  color: ${(props) => (props.selected ? \"white\" : \"#4a5568\")};\r\n  border-radius: 5px;\r\n  font-size: 0.7rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n\r\n  &:hover {\r\n    border-color: #667eea;\r\n  }\r\n\r\n  &:disabled {\r\n    opacity: 0.5;\r\n    cursor: not-allowed;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    padding: 3px 6px;\r\n    font-size: 0.65rem;\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  width: 100%;\r\n  padding: 8px 12px;\r\n  background: ${(props) => \r\n    props.disabled ? \"#cbd5e0\" : \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\"};\r\n  color: white;\r\n  border: none;\r\n  border-radius: 6px;\r\n  font-size: 0.85rem;\r\n  font-weight: 600;\r\n  cursor: ${(props) => (props.disabled ? \"not-allowed\" : \"pointer\")};\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 5px;\r\n\r\n  &:hover {\r\n    transform: ${(props) => (props.disabled ? \"none\" : \"translateY(-1px)\")};\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    padding: 6px 10px;\r\n    font-size: 0.8rem;\r\n  }\r\n`;\r\n\r\nconst QuickViewOverlay = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease;\r\n  border-radius: 8px;\r\n\r\n  ${Container}:hover & {\r\n    opacity: 1;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    opacity: 1;\r\n    background: rgba(0, 0, 0, 0.5);\r\n  }\r\n`;\r\n\r\nconst QuickViewButton = styled.button`\r\n  background: white;\r\n  color: #2d3748;\r\n  border: none;\r\n  padding: 6px 12px;\r\n  border-radius: 16px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n  font-size: 0.75rem;\r\n\r\n  &:hover {\r\n    background: #667eea;\r\n    color: white;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    padding: 5px 10px;\r\n    font-size: 0.7rem;\r\n  }\r\n`;\r\n\r\nconst Product = ({ item: product, loading }) => {\r\n  const navigate = useNavigate();\r\n  const [selectedColor, setSelectedColor] = useState(\"\");\r\n  const [selectedSize, setSelectedSize] = useState(\"\");\r\n  const [currentImage, setCurrentImage] = useState(\"\");\r\n  const [currentSizes, setCurrentSizes] = useState([]);\r\n  const [isAddingToCart, setIsAddingToCart] = useState(false);\r\n\r\n  // Safe price formatting function\r\n  const formatPrice = (price) => {\r\n    if (price === null || price === undefined) return \"0.00\";\r\n    const numPrice = typeof price === 'string' ? parseFloat(price) : Number(price);\r\n    if (isNaN(numPrice)) return \"0.00\";\r\n    return numPrice.toFixed(2);\r\n  };\r\n\r\n  // Initialize product data\r\n  useEffect(() => {\r\n    if (product) {\r\n      const defaultColor = product.color && product.color.length > 0 ? product.color[0] : \"\";\r\n      setSelectedColor(defaultColor);\r\n      \r\n      const displayImage = product.colorImages && product.colorImages[defaultColor] \r\n        ? product.colorImages[defaultColor] \r\n        : product.img;\r\n      setCurrentImage(displayImage);\r\n      \r\n      const sizes = getAvailableSizes(product, defaultColor);\r\n      setCurrentSizes(sizes);\r\n      \r\n      if (sizes.length > 0) {\r\n        setSelectedSize(sizes[0]);\r\n      }\r\n    }\r\n  }, [product]);\r\n\r\n  const getAvailableSizes = (productData, color) => {\r\n    if (!productData.inventory || !productData.size) {\r\n      return productData.size || [];\r\n    }\r\n    return productData.size.filter(size => {\r\n      const inventoryItem = productData.inventory[color]?.[size];\r\n      return inventoryItem && inventoryItem.quantity > 0;\r\n    });\r\n  };\r\n\r\n  const getCurrentPrice = () => {\r\n    if (!selectedColor || !selectedSize || !product.inventory) {\r\n      return product.price || 0;\r\n    }\r\n    const inventoryItem = product.inventory[selectedColor]?.[selectedSize];\r\n    return inventoryItem?.price || product.price || 0;\r\n  };\r\n\r\n  const handleColorSelect = (color) => {\r\n    setSelectedColor(color);\r\n    if (product.colorImages && product.colorImages[color]) {\r\n      setCurrentImage(product.colorImages[color]);\r\n    }\r\n    const sizes = getAvailableSizes(product, color);\r\n    setCurrentSizes(sizes);\r\n    if (sizes.length > 0 && !sizes.includes(selectedSize)) {\r\n      setSelectedSize(sizes[0]);\r\n    } else if (sizes.length === 0) {\r\n      setSelectedSize(\"\");\r\n    }\r\n  };\r\n\r\n  const handleSizeSelect = (size) => {\r\n    setSelectedSize(size);\r\n  };\r\n\r\n  const handleProductClick = () => {\r\n    navigate(`/product/${product.id}`);\r\n  };\r\n\r\n  const addToCart = async () => {\r\n    if (!selectedColor || (product.size && product.size.length > 0 && !selectedSize)) {\r\n      alert(\"Please select color and size options\");\r\n      return;\r\n    }\r\n\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      alert('Please login to add items to cart');\r\n      navigate('/login');\r\n      return;\r\n    }\r\n\r\n    setIsAddingToCart(true);\r\n    try {\r\n      const base64Payload = token.split('.')[1];\r\n      const payload = JSON.parse(atob(base64Payload));\r\n      const userId = payload.userId;\r\n\r\n      const currentPrice = getCurrentPrice();\r\n      const formattedPrice = formatPrice(currentPrice);\r\n\r\n      const cartItem = {\r\n        productId: product.id,\r\n        quantity: 1,\r\n        price: parseFloat(formattedPrice),\r\n        title: product.title,\r\n        img: currentImage,\r\n        size: selectedSize || 'One Size',\r\n        color: selectedColor || 'Default'\r\n      };\r\n\r\n      await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/cart/${userId}`,\r\n        cartItem,\r\n        { \r\n          headers: { \r\n            Authorization: `Bearer ${token}` \r\n          } \r\n        }\r\n      );\r\n      alert('Product added to cart successfully!');\r\n    } catch (error) {\r\n      console.error('Error adding to cart:', error);\r\n      alert('Failed to add product to cart');\r\n    } finally {\r\n      setIsAddingToCart(false);\r\n    }\r\n  };\r\n\r\n  const isInStock = () => {\r\n    if (!product.inventory) return true;\r\n    if (selectedColor && selectedSize) {\r\n      const inventoryItem = product.inventory[selectedColor]?.[selectedSize];\r\n      return inventoryItem && inventoryItem.quantity > 0;\r\n    }\r\n    if (product.color && product.color.length > 0) {\r\n      return product.color.some(color => {\r\n        const sizes = getAvailableSizes(product, color);\r\n        return sizes.length > 0;\r\n      });\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const getDiscountPercentage = () => {\r\n    const currentPrice = getCurrentPrice();\r\n    const originalPrice = product.price;\r\n    const numCurrent = typeof currentPrice === 'string' ? parseFloat(currentPrice) : Number(currentPrice);\r\n    const numOriginal = typeof originalPrice === 'string' ? parseFloat(originalPrice) : Number(originalPrice);\r\n    if (isNaN(numCurrent) || isNaN(numOriginal)) return 0;\r\n    if (numCurrent < numOriginal) {\r\n      return Math.round(((numOriginal - numCurrent) / numOriginal) * 100);\r\n    }\r\n    return 0;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container>\r\n        <div style={{ \r\n          width: '100%', \r\n          height: '180px', \r\n          background: '#f0f0f0', \r\n          borderRadius: '8px',\r\n          marginBottom: '10px'\r\n        }}></div>\r\n        <InfoContainer>\r\n          <div style={{ height: '16px', background: '#f0f0f0', borderRadius: '4px', marginBottom: '6px' }}></div>\r\n          <div style={{ height: '12px', background: '#f0f0f0', borderRadius: '4px', marginBottom: '6px', width: '80%' }}></div>\r\n          <div style={{ height: '16px', background: '#f0f0f0', borderRadius: '4px', marginBottom: '8px', width: '60%' }}></div>\r\n          <div style={{ height: '30px', background: '#f0f0f0', borderRadius: '6px' }}></div>\r\n        </InfoContainer>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (!product) {\r\n    return null;\r\n  }\r\n\r\n  const discountPercentage = getDiscountPercentage();\r\n  const inStock = isInStock();\r\n  const currentPrice = getCurrentPrice();\r\n  const formattedPrice = formatPrice(currentPrice);\r\n  const formattedOriginalPrice = formatPrice(product.price);\r\n\r\n  return (\r\n    <Container>\r\n      <ImageContainer onClick={handleProductClick}>\r\n        <Image \r\n          src={currentImage || product.img} \r\n          alt={product.title}\r\n          onError={(e) => {\r\n            e.target.src = `https://via.placeholder.com/300x300/667eea/FFFFFF?text=${encodeURIComponent(product.title)}`;\r\n          }}\r\n        />\r\n        <QuickViewOverlay>\r\n          <QuickViewButton onClick={handleProductClick}>\r\n            Quick View\r\n          </QuickViewButton>\r\n        </QuickViewOverlay>\r\n      </ImageContainer>\r\n\r\n      <InfoContainer>\r\n        {product.categories && product.categories.length > 0 && (\r\n          <CategoryTag>{product.categories[0]}</CategoryTag>\r\n        )}\r\n        \r\n        <Title>{product.title}</Title>\r\n        \r\n        <Description>{product.description || product.desc || \"No description available\"}</Description>\r\n\r\n        <PriceContainer>\r\n          <Price>${formattedPrice}</Price>\r\n          {discountPercentage > 0 && (\r\n            <>\r\n              <OriginalPrice>${formattedOriginalPrice}</OriginalPrice>\r\n              <DiscountBadge>-{discountPercentage}%</DiscountBadge>\r\n            </>\r\n          )}\r\n        </PriceContainer>\r\n\r\n        <StockInfo inStock={inStock}>\r\n          <i className={`fas ${inStock ? 'fa-check-circle' : 'fa-times-circle'}`}></i>\r\n          {inStock ? 'In Stock' : 'Out of Stock'}\r\n        </StockInfo>\r\n\r\n        {product.color && product.color.length > 0 && (\r\n          <ColorOptions>\r\n            {product.color.map((color) => (\r\n              <ColorOption\r\n                key={color}\r\n                color={color}\r\n                selected={selectedColor === color}\r\n                onClick={() => handleColorSelect(color)}\r\n                title={color}\r\n              />\r\n            ))}\r\n          </ColorOptions>\r\n        )}\r\n\r\n        {currentSizes && currentSizes.length > 0 && (\r\n          <SizeOptions>\r\n            {currentSizes.map((size) => (\r\n              <SizeOption\r\n                key={size}\r\n                selected={selectedSize === size}\r\n                onClick={() => handleSizeSelect(size)}\r\n              >\r\n                {size}\r\n              </SizeOption>\r\n            ))}\r\n          </SizeOptions>\r\n        )}\r\n\r\n        <Button \r\n          onClick={addToCart}\r\n          disabled={!inStock || isAddingToCart || (product.size && product.size.length > 0 && !selectedSize) || (product.color && product.color.length > 0 && !selectedColor)}\r\n        >\r\n          {isAddingToCart ? (\r\n            <>\r\n              <i className=\"fas fa-spinner fa-spin\"></i>\r\n              Adding...\r\n            </>\r\n          ) : !inStock ? (\r\n            <>\r\n              <i className=\"fas fa-times\"></i>\r\n              Out of Stock\r\n            </>\r\n          ) : (\r\n            <>\r\n              <i className=\"fas fa-shopping-cart\"></i>\r\n              Add to Cart\r\n            </>\r\n          )}\r\n        </Button>\r\n      </InfoContainer>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Product;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}