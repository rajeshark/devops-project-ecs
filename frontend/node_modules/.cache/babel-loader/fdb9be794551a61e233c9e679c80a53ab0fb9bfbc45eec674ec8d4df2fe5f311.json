{"ast":null,"code":"import _taggedTemplateLiteral from\"D:/raju new 1/front-end/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0,_templateObject1,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18;import React,{useState,useEffect}from\"react\";import styled from\"styled-components\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  padding: 20px;\\n  background: white;\\n  border-radius: 15px;\\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\\n  transition: all 0.3s ease;\\n  height: 100%;\\n  position: relative;\\n\\n  &:hover {\\n    transform: translateY(-5px);\\n    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);\\n  }\\n\\n  @media (max-width: 768px) {\\n    padding: 15px;\\n    margin: 10px;\\n  }\\n\\n  @media (max-width: 480px) {\\n    padding: 12px;\\n    margin: 8px;\\n  }\\n\"])));const ImageContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  position: relative;\\n  width: 100%;\\n  height: 250px;\\n  overflow: hidden;\\n  border-radius: 10px;\\n  margin-bottom: 15px;\\n  cursor: pointer;\\n\\n  @media (max-width: 768px) {\\n    height: 200px;\\n  }\\n\\n  @media (max-width: 480px) {\\n    height: 180px;\\n  }\\n\"])));const Image=styled.img(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n  object-fit: cover;\\n  transition: transform 0.3s ease;\\n\\n  \",\":hover & {\\n    transform: scale(1.05);\\n  }\\n\"])),Container);const InfoContainer=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  padding: 0 10px;\\n\"])));const Title=styled.h3(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  font-size: 1.2rem;\\n  font-weight: 600;\\n  color: #2d3748;\\n  margin-bottom: 10px;\\n  line-height: 1.3;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 2;\\n  -webkit-box-orient: vertical;\\n  overflow: hidden;\\n  min-height: 2.6em;\\n\\n  @media (max-width: 768px) {\\n    font-size: 1.1rem;\\n  }\\n\\n  @media (max-width: 480px) {\\n    font-size: 1rem;\\n    min-height: 2.4em;\\n  }\\n\"])));const Description=styled.p(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  color: #718096;\\n  font-size: 0.9rem;\\n  line-height: 1.4;\\n  margin-bottom: 12px;\\n  display: -webkit-box;\\n  -webkit-line-clamp: 2;\\n  -webkit-box-orient: vertical;\\n  overflow: hidden;\\n  min-height: 2.8em;\\n\\n  @media (max-width: 480px) {\\n    font-size: 0.85rem;\\n    min-height: 2.6em;\\n  }\\n\"])));const PriceContainer=styled.div(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n  margin-bottom: 12px;\\n  flex-wrap: wrap;\\n\"])));const Price=styled.span(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  font-size: 1.3rem;\\n  font-weight: 700;\\n  color: #2d3748;\\n\\n  @media (max-width: 480px) {\\n    font-size: 1.2rem;\\n  }\\n\"])));const OriginalPrice=styled.span(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  font-size: 1rem;\\n  color: #a0aec0;\\n  text-decoration: line-through;\\n\\n  @media (max-width: 480px) {\\n    font-size: 0.9rem;\\n  }\\n\"])));const DiscountBadge=styled.span(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  background: linear-gradient(135deg, #ff6b6b, #ee5a52);\\n  color: white;\\n  padding: 4px 8px;\\n  border-radius: 12px;\\n  font-size: 0.8rem;\\n  font-weight: 600;\\n\\n  @media (max-width: 480px) {\\n    font-size: 0.75rem;\\n    padding: 3px 6px;\\n  }\\n\"])));const ColorOptions=styled.div(_templateObject1||(_templateObject1=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 6px;\\n  margin-bottom: 12px;\\n  flex-wrap: wrap;\\n\"])));const ColorOption=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  width: 20px;\\n  height: 20px;\\n  border-radius: 50%;\\n  background-color: \",\";\\n  border: 2px solid \",\";\\n  cursor: pointer;\\n  transition: all 0.2s ease;\\n\\n  &:hover {\\n    transform: scale(1.1);\\n  }\\n\\n  @media (max-width: 480px) {\\n    width: 18px;\\n    height: 18px;\\n  }\\n\"])),props=>props.color,props=>props.selected?\"#667eea\":\"transparent\");const SizeOptions=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 6px;\\n  margin-bottom: 15px;\\n  flex-wrap: wrap;\\n\"])));const SizeOption=styled.button(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  padding: 6px 12px;\\n  border: 1px solid \",\";\\n  background: \",\";\\n  color: \",\";\\n  border-radius: 6px;\\n  font-size: 0.8rem;\\n  font-weight: 500;\\n  cursor: pointer;\\n  transition: all 0.2s ease;\\n\\n  &:hover {\\n    border-color: #667eea;\\n    background: \",\";\\n  }\\n\\n  &:disabled {\\n    opacity: 0.5;\\n    cursor: not-allowed;\\n  }\\n\\n  @media (max-width: 480px) {\\n    padding: 5px 10px;\\n    font-size: 0.75rem;\\n  }\\n\"])),props=>props.selected?\"#667eea\":\"#e2e8f0\",props=>props.selected?\"#667eea\":\"white\",props=>props.selected?\"white\":\"#4a5568\",props=>props.selected?\"#667eea\":\"#f7fafc\");const Button=styled.button(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  padding: 12px 20px;\\n  background: \",\";\\n  color: white;\\n  border: none;\\n  border-radius: 8px;\\n  font-size: 0.95rem;\\n  font-weight: 600;\\n  cursor: \",\";\\n  transition: all 0.3s ease;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 8px;\\n\\n  &:hover {\\n    transform: \",\";\\n    box-shadow: \",\";\\n  }\\n\\n  @media (max-width: 480px) {\\n    padding: 14px 20px;\\n    font-size: 0.9rem;\\n  }\\n\"])),props=>props.disabled?\"#cbd5e0\":\"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",props=>props.disabled?\"not-allowed\":\"pointer\",props=>props.disabled?\"none\":\"translateY(-2px)\",props=>props.disabled?\"none\":\"0 4px 15px rgba(102, 126, 234, 0.4)\");const StockInfo=styled.div(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  gap: 6px;\\n  margin-bottom: 10px;\\n  font-size: 0.85rem;\\n  color: \",\";\\n  font-weight: 500;\\n\\n  @media (max-width: 480px) {\\n    font-size: 0.8rem;\\n  }\\n\"])),props=>props.inStock?\"#38a169\":\"#e53e3e\");const CategoryTag=styled.span(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  background: #edf2f7;\\n  color: #4a5568;\\n  padding: 4px 8px;\\n  border-radius: 6px;\\n  font-size: 0.75rem;\\n  font-weight: 500;\\n  margin-bottom: 8px;\\n  display: inline-block;\\n\\n  @media (max-width: 480px) {\\n    font-size: 0.7rem;\\n    padding: 3px 6px;\\n  }\\n\"])));const QuickViewOverlay=styled.div(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background: rgba(0, 0, 0, 0.7);\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  opacity: 0;\\n  transition: opacity 0.3s ease;\\n  border-radius: 10px;\\n\\n  \",\":hover & {\\n    opacity: 1;\\n  }\\n\\n  @media (max-width: 768px) {\\n    opacity: 1;\\n    background: rgba(0, 0, 0, 0.5);\\n  }\\n\"])),Container);const QuickViewButton=styled.button(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  background: white;\\n  color: #2d3748;\\n  border: none;\\n  padding: 10px 20px;\\n  border-radius: 25px;\\n  font-weight: 600;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n\\n  &:hover {\\n    background: #667eea;\\n    color: white;\\n    transform: translateY(-2px);\\n  }\\n\\n  @media (max-width: 480px) {\\n    padding: 8px 16px;\\n    font-size: 0.9rem;\\n  }\\n\"])));const LoadingSkeleton=styled.div(_templateObject18||(_templateObject18=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 250px;\\n  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\\n  background-size: 200% 100%;\\n  animation: loading 1.5s infinite;\\n  border-radius: 10px;\\n  margin-bottom: 15px;\\n\\n  @keyframes loading {\\n    0% {\\n      background-position: 200% 0;\\n    }\\n    100% {\\n      background-position: -200% 0;\\n    }\\n  }\\n\\n  @media (max-width: 768px) {\\n    height: 200px;\\n  }\\n\\n  @media (max-width: 480px) {\\n    height: 180px;\\n  }\\n\"])));const Product=_ref=>{let{product,loading}=_ref;const navigate=useNavigate();const{addToCart:addToCartContext}=useCart();const[selectedColor,setSelectedColor]=useState(\"\");const[selectedSize,setSelectedSize]=useState(\"\");const[currentImage,setCurrentImage]=useState(\"\");const[currentSizes,setCurrentSizes]=useState([]);const[isAddingToCart,setIsAddingToCart]=useState(false);// Initialize product data\nuseEffect(()=>{if(product){// Set default color\nconst defaultColor=product.color&&product.color.length>0?product.color[0]:\"\";setSelectedColor(defaultColor);// Set default image\nconst displayImage=product.colorImages&&product.colorImages[defaultColor]?product.colorImages[defaultColor]:product.img;setCurrentImage(displayImage);// Set available sizes\nconst sizes=getAvailableSizes(product,defaultColor);setCurrentSizes(sizes);// Set default size\nif(sizes.length>0){setSelectedSize(sizes[0]);}}},[product]);// Get available sizes for selected color\nconst getAvailableSizes=(productData,color)=>{if(!productData.inventory||!productData.size){return productData.size||[];}// Filter sizes that have quantity > 0 for the selected color\nreturn productData.size.filter(size=>{var _productData$inventor;const inventoryItem=(_productData$inventor=productData.inventory[color])===null||_productData$inventor===void 0?void 0:_productData$inventor[size];return inventoryItem&&inventoryItem.quantity>0;});};// Get current price based on color and size\nconst getCurrentPrice=()=>{var _product$inventory$se;if(!selectedColor||!selectedSize||!product.inventory){return product.price||0;}const inventoryItem=(_product$inventory$se=product.inventory[selectedColor])===null||_product$inventory$se===void 0?void 0:_product$inventory$se[selectedSize];return(inventoryItem===null||inventoryItem===void 0?void 0:inventoryItem.price)||product.price||0;};// Handle color selection\nconst handleColorSelect=color=>{setSelectedColor(color);// Update image\nif(product.colorImages&&product.colorImages[color]){setCurrentImage(product.colorImages[color]);}// Update available sizes\nconst sizes=getAvailableSizes(product,color);setCurrentSizes(sizes);// Reset or set size\nif(sizes.length>0&&!sizes.includes(selectedSize)){setSelectedSize(sizes[0]);}else if(sizes.length===0){setSelectedSize(\"\");}};// Handle size selection\nconst handleSizeSelect=size=>{setSelectedSize(size);};// Handle product click for quick view\nconst handleProductClick=()=>{navigate(\"/product/\".concat(product.id));};// Handle add to cart\nconst addToCart=async()=>{if(!selectedColor||product.size&&product.size.length>0&&!selectedSize){alert(\"Please select color and size options\");return;}const token=localStorage.getItem('token');if(!token){alert('Please login to add items to cart');navigate('/login');return;}setIsAddingToCart(true);try{const base64Payload=token.split('.')[1];const payload=JSON.parse(atob(base64Payload));const userId=payload.userId;const cartItem={productId:product.id,quantity:1,price:getCurrentPrice(),title:product.title,img:currentImage,size:selectedSize||'One Size',color:selectedColor||'Default'};await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/cart/\").concat(userId),cartItem,{headers:{Authorization:\"Bearer \".concat(token)}});// Update local cart context\naddToCartContext(cartItem);// Show success feedback\nalert('Product added to cart successfully!');}catch(error){console.error('Error adding to cart:',error);alert('Failed to add product to cart');}finally{setIsAddingToCart(false);}};// Check if product is in stock\nconst isInStock=()=>{if(!product.inventory)return true;// Assume in stock if no inventory data\nif(selectedColor&&selectedSize){var _product$inventory$se2;const inventoryItem=(_product$inventory$se2=product.inventory[selectedColor])===null||_product$inventory$se2===void 0?void 0:_product$inventory$se2[selectedSize];return inventoryItem&&inventoryItem.quantity>0;}// Check if any combination is in stock\nif(product.color&&product.color.length>0){return product.color.some(color=>{const sizes=getAvailableSizes(product,color);return sizes.length>0;});}return true;};// Calculate discount percentage\nconst getDiscountPercentage=()=>{const currentPrice=getCurrentPrice();const originalPrice=product.price;if(currentPrice<originalPrice){return Math.round((originalPrice-currentPrice)/originalPrice*100);}return 0;};if(loading){return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(LoadingSkeleton,{}),/*#__PURE__*/_jsxs(InfoContainer,{children:[/*#__PURE__*/_jsx(\"div\",{style:{height:'20px',background:'#f0f0f0',borderRadius:'4px',marginBottom:'10px'}}),/*#__PURE__*/_jsx(\"div\",{style:{height:'16px',background:'#f0f0f0',borderRadius:'4px',marginBottom:'10px',width:'80%'}}),/*#__PURE__*/_jsx(\"div\",{style:{height:'20px',background:'#f0f0f0',borderRadius:'4px',marginBottom:'15px',width:'60%'}}),/*#__PURE__*/_jsx(\"div\",{style:{height:'40px',background:'#f0f0f0',borderRadius:'8px'}})]})]});}if(!product){return null;}const discountPercentage=getDiscountPercentage();const inStock=isInStock();return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(ImageContainer,{onClick:handleProductClick,children:[/*#__PURE__*/_jsx(Image,{src:currentImage||product.img,alt:product.title,onError:e=>{e.target.src=\"https://via.placeholder.com/300x300/667eea/FFFFFF?text=\".concat(encodeURIComponent(product.title));}}),/*#__PURE__*/_jsx(QuickViewOverlay,{children:/*#__PURE__*/_jsx(QuickViewButton,{onClick:handleProductClick,children:\"Quick View\"})})]}),/*#__PURE__*/_jsxs(InfoContainer,{children:[product.categories&&product.categories.length>0&&/*#__PURE__*/_jsx(CategoryTag,{children:product.categories[0]}),/*#__PURE__*/_jsx(Title,{children:product.title}),/*#__PURE__*/_jsx(Description,{children:product.description||product.desc||\"No description available\"}),/*#__PURE__*/_jsxs(PriceContainer,{children:[/*#__PURE__*/_jsxs(Price,{children:[\"$\",getCurrentPrice().toFixed(2)]}),discountPercentage>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(OriginalPrice,{children:[\"$\",product.price.toFixed(2)]}),/*#__PURE__*/_jsxs(DiscountBadge,{children:[\"-\",discountPercentage,\"%\"]})]})]}),/*#__PURE__*/_jsxs(StockInfo,{inStock:inStock,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat(inStock?'fa-check-circle':'fa-times-circle')}),inStock?'In Stock':'Out of Stock']}),product.color&&product.color.length>0&&/*#__PURE__*/_jsx(ColorOptions,{children:product.color.map(color=>/*#__PURE__*/_jsx(ColorOption,{color:color,selected:selectedColor===color,onClick:()=>handleColorSelect(color),title:color},color))}),currentSizes&&currentSizes.length>0&&/*#__PURE__*/_jsx(SizeOptions,{children:currentSizes.map(size=>/*#__PURE__*/_jsx(SizeOption,{selected:selectedSize===size,onClick:()=>handleSizeSelect(size),children:size},size))}),/*#__PURE__*/_jsx(Button,{onClick:addToCart,disabled:!inStock||isAddingToCart||product.size&&product.size.length>0&&!selectedSize||product.color&&product.color.length>0&&!selectedColor,children:isAddingToCart?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin\"}),\"Adding...\"]}):!inStock?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"}),\"Out of Stock\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shopping-cart\"}),\"Add to Cart\"]})})]})]});};export default Product;","map":{"version":3,"names":["React","useState","useEffect","styled","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Container","div","_templateObject","_taggedTemplateLiteral","ImageContainer","_templateObject2","Image","img","_templateObject3","InfoContainer","_templateObject4","Title","h3","_templateObject5","Description","p","_templateObject6","PriceContainer","_templateObject7","Price","span","_templateObject8","OriginalPrice","_templateObject9","DiscountBadge","_templateObject0","ColorOptions","_templateObject1","ColorOption","_templateObject10","props","color","selected","SizeOptions","_templateObject11","SizeOption","button","_templateObject12","Button","_templateObject13","disabled","StockInfo","_templateObject14","inStock","CategoryTag","_templateObject15","QuickViewOverlay","_templateObject16","QuickViewButton","_templateObject17","LoadingSkeleton","_templateObject18","Product","_ref","product","loading","navigate","addToCart","addToCartContext","useCart","selectedColor","setSelectedColor","selectedSize","setSelectedSize","currentImage","setCurrentImage","currentSizes","setCurrentSizes","isAddingToCart","setIsAddingToCart","defaultColor","length","displayImage","colorImages","sizes","getAvailableSizes","productData","inventory","size","filter","_productData$inventor","inventoryItem","quantity","getCurrentPrice","_product$inventory$se","price","handleColorSelect","includes","handleSizeSelect","handleProductClick","concat","id","alert","token","localStorage","getItem","base64Payload","split","payload","JSON","parse","atob","userId","cartItem","productId","title","post","process","env","REACT_APP_API_URL","headers","Authorization","error","console","isInStock","_product$inventory$se2","some","getDiscountPercentage","currentPrice","originalPrice","Math","round","children","style","height","background","borderRadius","marginBottom","width","discountPercentage","onClick","src","alt","onError","e","target","encodeURIComponent","categories","description","desc","toFixed","className","map"],"sources":["D:/raju new 1/front-end/src/components/Product.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  padding: 20px;\r\n  background: white;\r\n  border-radius: 15px;\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s ease;\r\n  height: 100%;\r\n  position: relative;\r\n\r\n  &:hover {\r\n    transform: translateY(-5px);\r\n    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15);\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    padding: 15px;\r\n    margin: 10px;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    padding: 12px;\r\n    margin: 8px;\r\n  }\r\n`;\r\n\r\nconst ImageContainer = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n  height: 250px;\r\n  overflow: hidden;\r\n  border-radius: 10px;\r\n  margin-bottom: 15px;\r\n  cursor: pointer;\r\n\r\n  @media (max-width: 768px) {\r\n    height: 200px;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    height: 180px;\r\n  }\r\n`;\r\n\r\nconst Image = styled.img`\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  transition: transform 0.3s ease;\r\n\r\n  ${Container}:hover & {\r\n    transform: scale(1.05);\r\n  }\r\n`;\r\n\r\nconst InfoContainer = styled.div`\r\n  width: 100%;\r\n  padding: 0 10px;\r\n`;\r\n\r\nconst Title = styled.h3`\r\n  font-size: 1.2rem;\r\n  font-weight: 600;\r\n  color: #2d3748;\r\n  margin-bottom: 10px;\r\n  line-height: 1.3;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n  min-height: 2.6em;\r\n\r\n  @media (max-width: 768px) {\r\n    font-size: 1.1rem;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 1rem;\r\n    min-height: 2.4em;\r\n  }\r\n`;\r\n\r\nconst Description = styled.p`\r\n  color: #718096;\r\n  font-size: 0.9rem;\r\n  line-height: 1.4;\r\n  margin-bottom: 12px;\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n  min-height: 2.8em;\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 0.85rem;\r\n    min-height: 2.6em;\r\n  }\r\n`;\r\n\r\nconst PriceContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  margin-bottom: 12px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst Price = styled.span`\r\n  font-size: 1.3rem;\r\n  font-weight: 700;\r\n  color: #2d3748;\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 1.2rem;\r\n  }\r\n`;\r\n\r\nconst OriginalPrice = styled.span`\r\n  font-size: 1rem;\r\n  color: #a0aec0;\r\n  text-decoration: line-through;\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 0.9rem;\r\n  }\r\n`;\r\n\r\nconst DiscountBadge = styled.span`\r\n  background: linear-gradient(135deg, #ff6b6b, #ee5a52);\r\n  color: white;\r\n  padding: 4px 8px;\r\n  border-radius: 12px;\r\n  font-size: 0.8rem;\r\n  font-weight: 600;\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 0.75rem;\r\n    padding: 3px 6px;\r\n  }\r\n`;\r\n\r\nconst ColorOptions = styled.div`\r\n  display: flex;\r\n  gap: 6px;\r\n  margin-bottom: 12px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst ColorOption = styled.div`\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 50%;\r\n  background-color: ${(props) => props.color};\r\n  border: 2px solid ${(props) => (props.selected ? \"#667eea\" : \"transparent\")};\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n\r\n  &:hover {\r\n    transform: scale(1.1);\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    width: 18px;\r\n    height: 18px;\r\n  }\r\n`;\r\n\r\nconst SizeOptions = styled.div`\r\n  display: flex;\r\n  gap: 6px;\r\n  margin-bottom: 15px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst SizeOption = styled.button`\r\n  padding: 6px 12px;\r\n  border: 1px solid ${(props) => (props.selected ? \"#667eea\" : \"#e2e8f0\")};\r\n  background: ${(props) => (props.selected ? \"#667eea\" : \"white\")};\r\n  color: ${(props) => (props.selected ? \"white\" : \"#4a5568\")};\r\n  border-radius: 6px;\r\n  font-size: 0.8rem;\r\n  font-weight: 500;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease;\r\n\r\n  &:hover {\r\n    border-color: #667eea;\r\n    background: ${(props) => (props.selected ? \"#667eea\" : \"#f7fafc\")};\r\n  }\r\n\r\n  &:disabled {\r\n    opacity: 0.5;\r\n    cursor: not-allowed;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    padding: 5px 10px;\r\n    font-size: 0.75rem;\r\n  }\r\n`;\r\n\r\nconst Button = styled.button`\r\n  width: 100%;\r\n  padding: 12px 20px;\r\n  background: ${(props) => \r\n    props.disabled ? \"#cbd5e0\" : \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\"};\r\n  color: white;\r\n  border: none;\r\n  border-radius: 8px;\r\n  font-size: 0.95rem;\r\n  font-weight: 600;\r\n  cursor: ${(props) => (props.disabled ? \"not-allowed\" : \"pointer\")};\r\n  transition: all 0.3s ease;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  gap: 8px;\r\n\r\n  &:hover {\r\n    transform: ${(props) => (props.disabled ? \"none\" : \"translateY(-2px)\")};\r\n    box-shadow: ${(props) => \r\n      props.disabled ? \"none\" : \"0 4px 15px rgba(102, 126, 234, 0.4)\"};\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    padding: 14px 20px;\r\n    font-size: 0.9rem;\r\n  }\r\n`;\r\n\r\nconst StockInfo = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 6px;\r\n  margin-bottom: 10px;\r\n  font-size: 0.85rem;\r\n  color: ${(props) => (props.inStock ? \"#38a169\" : \"#e53e3e\")};\r\n  font-weight: 500;\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 0.8rem;\r\n  }\r\n`;\r\n\r\nconst CategoryTag = styled.span`\r\n  background: #edf2f7;\r\n  color: #4a5568;\r\n  padding: 4px 8px;\r\n  border-radius: 6px;\r\n  font-size: 0.75rem;\r\n  font-weight: 500;\r\n  margin-bottom: 8px;\r\n  display: inline-block;\r\n\r\n  @media (max-width: 480px) {\r\n    font-size: 0.7rem;\r\n    padding: 3px 6px;\r\n  }\r\n`;\r\n\r\nconst QuickViewOverlay = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background: rgba(0, 0, 0, 0.7);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  opacity: 0;\r\n  transition: opacity 0.3s ease;\r\n  border-radius: 10px;\r\n\r\n  ${Container}:hover & {\r\n    opacity: 1;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    opacity: 1;\r\n    background: rgba(0, 0, 0, 0.5);\r\n  }\r\n`;\r\n\r\nconst QuickViewButton = styled.button`\r\n  background: white;\r\n  color: #2d3748;\r\n  border: none;\r\n  padding: 10px 20px;\r\n  border-radius: 25px;\r\n  font-weight: 600;\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n\r\n  &:hover {\r\n    background: #667eea;\r\n    color: white;\r\n    transform: translateY(-2px);\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    padding: 8px 16px;\r\n    font-size: 0.9rem;\r\n  }\r\n`;\r\n\r\nconst LoadingSkeleton = styled.div`\r\n  width: 100%;\r\n  height: 250px;\r\n  background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n  background-size: 200% 100%;\r\n  animation: loading 1.5s infinite;\r\n  border-radius: 10px;\r\n  margin-bottom: 15px;\r\n\r\n  @keyframes loading {\r\n    0% {\r\n      background-position: 200% 0;\r\n    }\r\n    100% {\r\n      background-position: -200% 0;\r\n    }\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    height: 200px;\r\n  }\r\n\r\n  @media (max-width: 480px) {\r\n    height: 180px;\r\n  }\r\n`;\r\n\r\nconst Product = ({ product, loading }) => {\r\n  const navigate = useNavigate();\r\n  const { addToCart: addToCartContext } = useCart();\r\n  const [selectedColor, setSelectedColor] = useState(\"\");\r\n  const [selectedSize, setSelectedSize] = useState(\"\");\r\n  const [currentImage, setCurrentImage] = useState(\"\");\r\n  const [currentSizes, setCurrentSizes] = useState([]);\r\n  const [isAddingToCart, setIsAddingToCart] = useState(false);\r\n\r\n  // Initialize product data\r\n  useEffect(() => {\r\n    if (product) {\r\n      // Set default color\r\n      const defaultColor = product.color && product.color.length > 0 ? product.color[0] : \"\";\r\n      setSelectedColor(defaultColor);\r\n      \r\n      // Set default image\r\n      const displayImage = product.colorImages && product.colorImages[defaultColor] \r\n        ? product.colorImages[defaultColor] \r\n        : product.img;\r\n      setCurrentImage(displayImage);\r\n      \r\n      // Set available sizes\r\n      const sizes = getAvailableSizes(product, defaultColor);\r\n      setCurrentSizes(sizes);\r\n      \r\n      // Set default size\r\n      if (sizes.length > 0) {\r\n        setSelectedSize(sizes[0]);\r\n      }\r\n    }\r\n  }, [product]);\r\n\r\n  // Get available sizes for selected color\r\n  const getAvailableSizes = (productData, color) => {\r\n    if (!productData.inventory || !productData.size) {\r\n      return productData.size || [];\r\n    }\r\n\r\n    // Filter sizes that have quantity > 0 for the selected color\r\n    return productData.size.filter(size => {\r\n      const inventoryItem = productData.inventory[color]?.[size];\r\n      return inventoryItem && inventoryItem.quantity > 0;\r\n    });\r\n  };\r\n\r\n  // Get current price based on color and size\r\n  const getCurrentPrice = () => {\r\n    if (!selectedColor || !selectedSize || !product.inventory) {\r\n      return product.price || 0;\r\n    }\r\n\r\n    const inventoryItem = product.inventory[selectedColor]?.[selectedSize];\r\n    return inventoryItem?.price || product.price || 0;\r\n  };\r\n\r\n  // Handle color selection\r\n  const handleColorSelect = (color) => {\r\n    setSelectedColor(color);\r\n    \r\n    // Update image\r\n    if (product.colorImages && product.colorImages[color]) {\r\n      setCurrentImage(product.colorImages[color]);\r\n    }\r\n    \r\n    // Update available sizes\r\n    const sizes = getAvailableSizes(product, color);\r\n    setCurrentSizes(sizes);\r\n    \r\n    // Reset or set size\r\n    if (sizes.length > 0 && !sizes.includes(selectedSize)) {\r\n      setSelectedSize(sizes[0]);\r\n    } else if (sizes.length === 0) {\r\n      setSelectedSize(\"\");\r\n    }\r\n  };\r\n\r\n  // Handle size selection\r\n  const handleSizeSelect = (size) => {\r\n    setSelectedSize(size);\r\n  };\r\n\r\n  // Handle product click for quick view\r\n  const handleProductClick = () => {\r\n    navigate(`/product/${product.id}`);\r\n  };\r\n\r\n  // Handle add to cart\r\n  const addToCart = async () => {\r\n    if (!selectedColor || (product.size && product.size.length > 0 && !selectedSize)) {\r\n      alert(\"Please select color and size options\");\r\n      return;\r\n    }\r\n\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      alert('Please login to add items to cart');\r\n      navigate('/login');\r\n      return;\r\n    }\r\n\r\n    setIsAddingToCart(true);\r\n\r\n    try {\r\n      const base64Payload = token.split('.')[1];\r\n      const payload = JSON.parse(atob(base64Payload));\r\n      const userId = payload.userId;\r\n\r\n      const cartItem = {\r\n        productId: product.id,\r\n        quantity: 1,\r\n        price: getCurrentPrice(),\r\n        title: product.title,\r\n        img: currentImage,\r\n        size: selectedSize || 'One Size',\r\n        color: selectedColor || 'Default'\r\n      };\r\n\r\n      await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/cart/${userId}`,\r\n        cartItem,\r\n        { \r\n          headers: { \r\n            Authorization: `Bearer ${token}` \r\n          } \r\n        }\r\n      );\r\n\r\n      // Update local cart context\r\n      addToCartContext(cartItem);\r\n\r\n      // Show success feedback\r\n      alert('Product added to cart successfully!');\r\n      \r\n    } catch (error) {\r\n      console.error('Error adding to cart:', error);\r\n      alert('Failed to add product to cart');\r\n    } finally {\r\n      setIsAddingToCart(false);\r\n    }\r\n  };\r\n\r\n  // Check if product is in stock\r\n  const isInStock = () => {\r\n    if (!product.inventory) return true; // Assume in stock if no inventory data\r\n    \r\n    if (selectedColor && selectedSize) {\r\n      const inventoryItem = product.inventory[selectedColor]?.[selectedSize];\r\n      return inventoryItem && inventoryItem.quantity > 0;\r\n    }\r\n    \r\n    // Check if any combination is in stock\r\n    if (product.color && product.color.length > 0) {\r\n      return product.color.some(color => {\r\n        const sizes = getAvailableSizes(product, color);\r\n        return sizes.length > 0;\r\n      });\r\n    }\r\n    \r\n    return true;\r\n  };\r\n\r\n  // Calculate discount percentage\r\n  const getDiscountPercentage = () => {\r\n    const currentPrice = getCurrentPrice();\r\n    const originalPrice = product.price;\r\n    \r\n    if (currentPrice < originalPrice) {\r\n      return Math.round(((originalPrice - currentPrice) / originalPrice) * 100);\r\n    }\r\n    return 0;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container>\r\n        <LoadingSkeleton />\r\n        <InfoContainer>\r\n          <div style={{ height: '20px', background: '#f0f0f0', borderRadius: '4px', marginBottom: '10px' }}></div>\r\n          <div style={{ height: '16px', background: '#f0f0f0', borderRadius: '4px', marginBottom: '10px', width: '80%' }}></div>\r\n          <div style={{ height: '20px', background: '#f0f0f0', borderRadius: '4px', marginBottom: '15px', width: '60%' }}></div>\r\n          <div style={{ height: '40px', background: '#f0f0f0', borderRadius: '8px' }}></div>\r\n        </InfoContainer>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (!product) {\r\n    return null;\r\n  }\r\n\r\n  const discountPercentage = getDiscountPercentage();\r\n  const inStock = isInStock();\r\n\r\n  return (\r\n    <Container>\r\n      <ImageContainer onClick={handleProductClick}>\r\n        <Image \r\n          src={currentImage || product.img} \r\n          alt={product.title}\r\n          onError={(e) => {\r\n            e.target.src = `https://via.placeholder.com/300x300/667eea/FFFFFF?text=${encodeURIComponent(product.title)}`;\r\n          }}\r\n        />\r\n        <QuickViewOverlay>\r\n          <QuickViewButton onClick={handleProductClick}>\r\n            Quick View\r\n          </QuickViewButton>\r\n        </QuickViewOverlay>\r\n      </ImageContainer>\r\n\r\n      <InfoContainer>\r\n        {product.categories && product.categories.length > 0 && (\r\n          <CategoryTag>{product.categories[0]}</CategoryTag>\r\n        )}\r\n        \r\n        <Title>{product.title}</Title>\r\n        \r\n        <Description>{product.description || product.desc || \"No description available\"}</Description>\r\n\r\n        <PriceContainer>\r\n          <Price>${getCurrentPrice().toFixed(2)}</Price>\r\n          {discountPercentage > 0 && (\r\n            <>\r\n              <OriginalPrice>${product.price.toFixed(2)}</OriginalPrice>\r\n              <DiscountBadge>-{discountPercentage}%</DiscountBadge>\r\n            </>\r\n          )}\r\n        </PriceContainer>\r\n\r\n        <StockInfo inStock={inStock}>\r\n          <i className={`fas ${inStock ? 'fa-check-circle' : 'fa-times-circle'}`}></i>\r\n          {inStock ? 'In Stock' : 'Out of Stock'}\r\n        </StockInfo>\r\n\r\n        {product.color && product.color.length > 0 && (\r\n          <ColorOptions>\r\n            {product.color.map((color) => (\r\n              <ColorOption\r\n                key={color}\r\n                color={color}\r\n                selected={selectedColor === color}\r\n                onClick={() => handleColorSelect(color)}\r\n                title={color}\r\n              />\r\n            ))}\r\n          </ColorOptions>\r\n        )}\r\n\r\n        {currentSizes && currentSizes.length > 0 && (\r\n          <SizeOptions>\r\n            {currentSizes.map((size) => (\r\n              <SizeOption\r\n                key={size}\r\n                selected={selectedSize === size}\r\n                onClick={() => handleSizeSelect(size)}\r\n              >\r\n                {size}\r\n              </SizeOption>\r\n            ))}\r\n          </SizeOptions>\r\n        )}\r\n\r\n        <Button \r\n          onClick={addToCart}\r\n          disabled={!inStock || isAddingToCart || (product.size && product.size.length > 0 && !selectedSize) || (product.color && product.color.length > 0 && !selectedColor)}\r\n        >\r\n          {isAddingToCart ? (\r\n            <>\r\n              <i className=\"fas fa-spinner fa-spin\"></i>\r\n              Adding...\r\n            </>\r\n          ) : !inStock ? (\r\n            <>\r\n              <i className=\"fas fa-times\"></i>\r\n              Out of Stock\r\n            </>\r\n          ) : (\r\n            <>\r\n              <i className=\"fas fa-shopping-cart\"></i>\r\n              Add to Cart\r\n            </>\r\n          )}\r\n        </Button>\r\n      </InfoContainer>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Product;"],"mappings":"6dAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE1B,KAAM,CAAAC,SAAS,CAAGT,MAAM,CAACU,GAAG,CAAAC,eAAA,GAAAA,eAAA,CAAAC,sBAAA,mgBA0B3B,CAED,KAAM,CAAAC,cAAc,CAAGb,MAAM,CAACU,GAAG,CAAAI,gBAAA,GAAAA,gBAAA,CAAAF,sBAAA,gRAgBhC,CAED,KAAM,CAAAG,KAAK,CAAGf,MAAM,CAACgB,GAAG,CAAAC,gBAAA,GAAAA,gBAAA,CAAAL,sBAAA,0JAMpBH,SAAS,CAGZ,CAED,KAAM,CAAAS,aAAa,CAAGlB,MAAM,CAACU,GAAG,CAAAS,gBAAA,GAAAA,gBAAA,CAAAP,sBAAA,8CAG/B,CAED,KAAM,CAAAQ,KAAK,CAAGpB,MAAM,CAACqB,EAAE,CAAAC,gBAAA,GAAAA,gBAAA,CAAAV,sBAAA,sYAoBtB,CAED,KAAM,CAAAW,WAAW,CAAGvB,MAAM,CAACwB,CAAC,CAAAC,gBAAA,GAAAA,gBAAA,CAAAb,sBAAA,sTAe3B,CAED,KAAM,CAAAc,cAAc,CAAG1B,MAAM,CAACU,GAAG,CAAAiB,gBAAA,GAAAA,gBAAA,CAAAf,sBAAA,6GAMhC,CAED,KAAM,CAAAgB,KAAK,CAAG5B,MAAM,CAAC6B,IAAI,CAAAC,gBAAA,GAAAA,gBAAA,CAAAlB,sBAAA,sIAQxB,CAED,KAAM,CAAAmB,aAAa,CAAG/B,MAAM,CAAC6B,IAAI,CAAAG,gBAAA,GAAAA,gBAAA,CAAApB,sBAAA,iJAQhC,CAED,KAAM,CAAAqB,aAAa,CAAGjC,MAAM,CAAC6B,IAAI,CAAAK,gBAAA,GAAAA,gBAAA,CAAAtB,sBAAA,mQAYhC,CAED,KAAM,CAAAuB,YAAY,CAAGnC,MAAM,CAACU,GAAG,CAAA0B,gBAAA,GAAAA,gBAAA,CAAAxB,sBAAA,qFAK9B,CAED,KAAM,CAAAyB,WAAW,CAAGrC,MAAM,CAACU,GAAG,CAAA4B,iBAAA,GAAAA,iBAAA,CAAA1B,sBAAA,mSAIP2B,KAAK,EAAKA,KAAK,CAACC,KAAK,CACrBD,KAAK,EAAMA,KAAK,CAACE,QAAQ,CAAG,SAAS,CAAG,aAAc,CAY5E,CAED,KAAM,CAAAC,WAAW,CAAG1C,MAAM,CAACU,GAAG,CAAAiC,iBAAA,GAAAA,iBAAA,CAAA/B,sBAAA,qFAK7B,CAED,KAAM,CAAAgC,UAAU,CAAG5C,MAAM,CAAC6C,MAAM,CAAAC,iBAAA,GAAAA,iBAAA,CAAAlC,sBAAA,kbAET2B,KAAK,EAAMA,KAAK,CAACE,QAAQ,CAAG,SAAS,CAAG,SAAU,CACxDF,KAAK,EAAMA,KAAK,CAACE,QAAQ,CAAG,SAAS,CAAG,OAAQ,CACrDF,KAAK,EAAMA,KAAK,CAACE,QAAQ,CAAG,OAAO,CAAG,SAAU,CASzCF,KAAK,EAAMA,KAAK,CAACE,QAAQ,CAAG,SAAS,CAAG,SAAU,CAYpE,CAED,KAAM,CAAAM,MAAM,CAAG/C,MAAM,CAAC6C,MAAM,CAAAG,iBAAA,GAAAA,iBAAA,CAAApC,sBAAA,icAGX2B,KAAK,EAClBA,KAAK,CAACU,QAAQ,CAAG,SAAS,CAAG,mDAAmD,CAMvEV,KAAK,EAAMA,KAAK,CAACU,QAAQ,CAAG,aAAa,CAAG,SAAU,CAQjDV,KAAK,EAAMA,KAAK,CAACU,QAAQ,CAAG,MAAM,CAAG,kBAAmB,CACvDV,KAAK,EAClBA,KAAK,CAACU,QAAQ,CAAG,MAAM,CAAG,qCAAqC,CAOpE,CAED,KAAM,CAAAC,SAAS,CAAGlD,MAAM,CAACU,GAAG,CAAAyC,iBAAA,GAAAA,iBAAA,CAAAvC,sBAAA,kNAMhB2B,KAAK,EAAMA,KAAK,CAACa,OAAO,CAAG,SAAS,CAAG,SAAU,CAM5D,CAED,KAAM,CAAAC,WAAW,CAAGrD,MAAM,CAAC6B,IAAI,CAAAyB,iBAAA,GAAAA,iBAAA,CAAA1C,sBAAA,mRAc9B,CAED,KAAM,CAAA2C,gBAAgB,CAAGvD,MAAM,CAACU,GAAG,CAAA8C,iBAAA,GAAAA,iBAAA,CAAA5C,sBAAA,0YAc/BH,SAAS,CAQZ,CAED,KAAM,CAAAgD,eAAe,CAAGzD,MAAM,CAAC6C,MAAM,CAAAa,iBAAA,GAAAA,iBAAA,CAAA9C,sBAAA,mXAoBpC,CAED,KAAM,CAAA+C,eAAe,CAAG3D,MAAM,CAACU,GAAG,CAAAkD,iBAAA,GAAAA,iBAAA,CAAAhD,sBAAA,8eAyBjC,CAED,KAAM,CAAAiD,OAAO,CAAGC,IAAA,EAA0B,IAAzB,CAAEC,OAAO,CAAEC,OAAQ,CAAC,CAAAF,IAAA,CACnC,KAAM,CAAAG,QAAQ,CAAGhE,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAEiE,SAAS,CAAEC,gBAAiB,CAAC,CAAGC,OAAO,CAAC,CAAC,CACjD,KAAM,CAACC,aAAa,CAAEC,gBAAgB,CAAC,CAAGxE,QAAQ,CAAC,EAAE,CAAC,CACtD,KAAM,CAACyE,YAAY,CAAEC,eAAe,CAAC,CAAG1E,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAC2E,YAAY,CAAEC,eAAe,CAAC,CAAG5E,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAC6E,YAAY,CAAEC,eAAe,CAAC,CAAG9E,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAC+E,cAAc,CAAEC,iBAAiB,CAAC,CAAGhF,QAAQ,CAAC,KAAK,CAAC,CAE3D;AACAC,SAAS,CAAC,IAAM,CACd,GAAIgE,OAAO,CAAE,CACX;AACA,KAAM,CAAAgB,YAAY,CAAGhB,OAAO,CAACvB,KAAK,EAAIuB,OAAO,CAACvB,KAAK,CAACwC,MAAM,CAAG,CAAC,CAAGjB,OAAO,CAACvB,KAAK,CAAC,CAAC,CAAC,CAAG,EAAE,CACtF8B,gBAAgB,CAACS,YAAY,CAAC,CAE9B;AACA,KAAM,CAAAE,YAAY,CAAGlB,OAAO,CAACmB,WAAW,EAAInB,OAAO,CAACmB,WAAW,CAACH,YAAY,CAAC,CACzEhB,OAAO,CAACmB,WAAW,CAACH,YAAY,CAAC,CACjChB,OAAO,CAAC/C,GAAG,CACf0D,eAAe,CAACO,YAAY,CAAC,CAE7B;AACA,KAAM,CAAAE,KAAK,CAAGC,iBAAiB,CAACrB,OAAO,CAAEgB,YAAY,CAAC,CACtDH,eAAe,CAACO,KAAK,CAAC,CAEtB;AACA,GAAIA,KAAK,CAACH,MAAM,CAAG,CAAC,CAAE,CACpBR,eAAe,CAACW,KAAK,CAAC,CAAC,CAAC,CAAC,CAC3B,CACF,CACF,CAAC,CAAE,CAACpB,OAAO,CAAC,CAAC,CAEb;AACA,KAAM,CAAAqB,iBAAiB,CAAGA,CAACC,WAAW,CAAE7C,KAAK,GAAK,CAChD,GAAI,CAAC6C,WAAW,CAACC,SAAS,EAAI,CAACD,WAAW,CAACE,IAAI,CAAE,CAC/C,MAAO,CAAAF,WAAW,CAACE,IAAI,EAAI,EAAE,CAC/B,CAEA;AACA,MAAO,CAAAF,WAAW,CAACE,IAAI,CAACC,MAAM,CAACD,IAAI,EAAI,KAAAE,qBAAA,CACrC,KAAM,CAAAC,aAAa,EAAAD,qBAAA,CAAGJ,WAAW,CAACC,SAAS,CAAC9C,KAAK,CAAC,UAAAiD,qBAAA,iBAA5BA,qBAAA,CAA+BF,IAAI,CAAC,CAC1D,MAAO,CAAAG,aAAa,EAAIA,aAAa,CAACC,QAAQ,CAAG,CAAC,CACpD,CAAC,CAAC,CACJ,CAAC,CAED;AACA,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,KAAAC,qBAAA,CAC5B,GAAI,CAACxB,aAAa,EAAI,CAACE,YAAY,EAAI,CAACR,OAAO,CAACuB,SAAS,CAAE,CACzD,MAAO,CAAAvB,OAAO,CAAC+B,KAAK,EAAI,CAAC,CAC3B,CAEA,KAAM,CAAAJ,aAAa,EAAAG,qBAAA,CAAG9B,OAAO,CAACuB,SAAS,CAACjB,aAAa,CAAC,UAAAwB,qBAAA,iBAAhCA,qBAAA,CAAmCtB,YAAY,CAAC,CACtE,MAAO,CAAAmB,aAAa,SAAbA,aAAa,iBAAbA,aAAa,CAAEI,KAAK,GAAI/B,OAAO,CAAC+B,KAAK,EAAI,CAAC,CACnD,CAAC,CAED;AACA,KAAM,CAAAC,iBAAiB,CAAIvD,KAAK,EAAK,CACnC8B,gBAAgB,CAAC9B,KAAK,CAAC,CAEvB;AACA,GAAIuB,OAAO,CAACmB,WAAW,EAAInB,OAAO,CAACmB,WAAW,CAAC1C,KAAK,CAAC,CAAE,CACrDkC,eAAe,CAACX,OAAO,CAACmB,WAAW,CAAC1C,KAAK,CAAC,CAAC,CAC7C,CAEA;AACA,KAAM,CAAA2C,KAAK,CAAGC,iBAAiB,CAACrB,OAAO,CAAEvB,KAAK,CAAC,CAC/CoC,eAAe,CAACO,KAAK,CAAC,CAEtB;AACA,GAAIA,KAAK,CAACH,MAAM,CAAG,CAAC,EAAI,CAACG,KAAK,CAACa,QAAQ,CAACzB,YAAY,CAAC,CAAE,CACrDC,eAAe,CAACW,KAAK,CAAC,CAAC,CAAC,CAAC,CAC3B,CAAC,IAAM,IAAIA,KAAK,CAACH,MAAM,GAAK,CAAC,CAAE,CAC7BR,eAAe,CAAC,EAAE,CAAC,CACrB,CACF,CAAC,CAED;AACA,KAAM,CAAAyB,gBAAgB,CAAIV,IAAI,EAAK,CACjCf,eAAe,CAACe,IAAI,CAAC,CACvB,CAAC,CAED;AACA,KAAM,CAAAW,kBAAkB,CAAGA,CAAA,GAAM,CAC/BjC,QAAQ,aAAAkC,MAAA,CAAapC,OAAO,CAACqC,EAAE,CAAE,CAAC,CACpC,CAAC,CAED;AACA,KAAM,CAAAlC,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CAACG,aAAa,EAAKN,OAAO,CAACwB,IAAI,EAAIxB,OAAO,CAACwB,IAAI,CAACP,MAAM,CAAG,CAAC,EAAI,CAACT,YAAa,CAAE,CAChF8B,KAAK,CAAC,sCAAsC,CAAC,CAC7C,OACF,CAEA,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,CACVD,KAAK,CAAC,mCAAmC,CAAC,CAC1CpC,QAAQ,CAAC,QAAQ,CAAC,CAClB,OACF,CAEAa,iBAAiB,CAAC,IAAI,CAAC,CAEvB,GAAI,CACF,KAAM,CAAA2B,aAAa,CAAGH,KAAK,CAACI,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CACzC,KAAM,CAAAC,OAAO,CAAGC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACL,aAAa,CAAC,CAAC,CAC/C,KAAM,CAAAM,MAAM,CAAGJ,OAAO,CAACI,MAAM,CAE7B,KAAM,CAAAC,QAAQ,CAAG,CACfC,SAAS,CAAElD,OAAO,CAACqC,EAAE,CACrBT,QAAQ,CAAE,CAAC,CACXG,KAAK,CAAEF,eAAe,CAAC,CAAC,CACxBsB,KAAK,CAAEnD,OAAO,CAACmD,KAAK,CACpBlG,GAAG,CAAEyD,YAAY,CACjBc,IAAI,CAAEhB,YAAY,EAAI,UAAU,CAChC/B,KAAK,CAAE6B,aAAa,EAAI,SAC1B,CAAC,CAED,KAAM,CAAAnE,KAAK,CAACiH,IAAI,IAAAhB,MAAA,CACXiB,OAAO,CAACC,GAAG,CAACC,iBAAiB,eAAAnB,MAAA,CAAaY,MAAM,EACnDC,QAAQ,CACR,CACEO,OAAO,CAAE,CACPC,aAAa,WAAArB,MAAA,CAAYG,KAAK,CAChC,CACF,CACF,CAAC,CAED;AACAnC,gBAAgB,CAAC6C,QAAQ,CAAC,CAE1B;AACAX,KAAK,CAAC,qCAAqC,CAAC,CAE9C,CAAE,MAAOoB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7CpB,KAAK,CAAC,+BAA+B,CAAC,CACxC,CAAC,OAAS,CACRvB,iBAAiB,CAAC,KAAK,CAAC,CAC1B,CACF,CAAC,CAED;AACA,KAAM,CAAA6C,SAAS,CAAGA,CAAA,GAAM,CACtB,GAAI,CAAC5D,OAAO,CAACuB,SAAS,CAAE,MAAO,KAAI,CAAE;AAErC,GAAIjB,aAAa,EAAIE,YAAY,CAAE,KAAAqD,sBAAA,CACjC,KAAM,CAAAlC,aAAa,EAAAkC,sBAAA,CAAG7D,OAAO,CAACuB,SAAS,CAACjB,aAAa,CAAC,UAAAuD,sBAAA,iBAAhCA,sBAAA,CAAmCrD,YAAY,CAAC,CACtE,MAAO,CAAAmB,aAAa,EAAIA,aAAa,CAACC,QAAQ,CAAG,CAAC,CACpD,CAEA;AACA,GAAI5B,OAAO,CAACvB,KAAK,EAAIuB,OAAO,CAACvB,KAAK,CAACwC,MAAM,CAAG,CAAC,CAAE,CAC7C,MAAO,CAAAjB,OAAO,CAACvB,KAAK,CAACqF,IAAI,CAACrF,KAAK,EAAI,CACjC,KAAM,CAAA2C,KAAK,CAAGC,iBAAiB,CAACrB,OAAO,CAAEvB,KAAK,CAAC,CAC/C,MAAO,CAAA2C,KAAK,CAACH,MAAM,CAAG,CAAC,CACzB,CAAC,CAAC,CACJ,CAEA,MAAO,KAAI,CACb,CAAC,CAED;AACA,KAAM,CAAA8C,qBAAqB,CAAGA,CAAA,GAAM,CAClC,KAAM,CAAAC,YAAY,CAAGnC,eAAe,CAAC,CAAC,CACtC,KAAM,CAAAoC,aAAa,CAAGjE,OAAO,CAAC+B,KAAK,CAEnC,GAAIiC,YAAY,CAAGC,aAAa,CAAE,CAChC,MAAO,CAAAC,IAAI,CAACC,KAAK,CAAE,CAACF,aAAa,CAAGD,YAAY,EAAIC,aAAa,CAAI,GAAG,CAAC,CAC3E,CACA,MAAO,EAAC,CACV,CAAC,CAED,GAAIhE,OAAO,CAAE,CACX,mBACE1D,KAAA,CAACG,SAAS,EAAA0H,QAAA,eACR/H,IAAA,CAACuD,eAAe,GAAE,CAAC,cACnBrD,KAAA,CAACY,aAAa,EAAAiH,QAAA,eACZ/H,IAAA,QAAKgI,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAM,CAAEC,UAAU,CAAE,SAAS,CAAEC,YAAY,CAAE,KAAK,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAM,CAAC,cACxGpI,IAAA,QAAKgI,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAM,CAAEC,UAAU,CAAE,SAAS,CAAEC,YAAY,CAAE,KAAK,CAAEC,YAAY,CAAE,MAAM,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAM,CAAC,cACtHrI,IAAA,QAAKgI,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAM,CAAEC,UAAU,CAAE,SAAS,CAAEC,YAAY,CAAE,KAAK,CAAEC,YAAY,CAAE,MAAM,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAM,CAAC,cACtHrI,IAAA,QAAKgI,KAAK,CAAE,CAAEC,MAAM,CAAE,MAAM,CAAEC,UAAU,CAAE,SAAS,CAAEC,YAAY,CAAE,KAAM,CAAE,CAAM,CAAC,EACrE,CAAC,EACP,CAAC,CAEhB,CAEA,GAAI,CAACxE,OAAO,CAAE,CACZ,MAAO,KAAI,CACb,CAEA,KAAM,CAAA2E,kBAAkB,CAAGZ,qBAAqB,CAAC,CAAC,CAClD,KAAM,CAAA1E,OAAO,CAAGuE,SAAS,CAAC,CAAC,CAE3B,mBACErH,KAAA,CAACG,SAAS,EAAA0H,QAAA,eACR7H,KAAA,CAACO,cAAc,EAAC8H,OAAO,CAAEzC,kBAAmB,CAAAiC,QAAA,eAC1C/H,IAAA,CAACW,KAAK,EACJ6H,GAAG,CAAEnE,YAAY,EAAIV,OAAO,CAAC/C,GAAI,CACjC6H,GAAG,CAAE9E,OAAO,CAACmD,KAAM,CACnB4B,OAAO,CAAGC,CAAC,EAAK,CACdA,CAAC,CAACC,MAAM,CAACJ,GAAG,2DAAAzC,MAAA,CAA6D8C,kBAAkB,CAAClF,OAAO,CAACmD,KAAK,CAAC,CAAE,CAC9G,CAAE,CACH,CAAC,cACF9G,IAAA,CAACmD,gBAAgB,EAAA4E,QAAA,cACf/H,IAAA,CAACqD,eAAe,EAACkF,OAAO,CAAEzC,kBAAmB,CAAAiC,QAAA,CAAC,YAE9C,CAAiB,CAAC,CACF,CAAC,EACL,CAAC,cAEjB7H,KAAA,CAACY,aAAa,EAAAiH,QAAA,EACXpE,OAAO,CAACmF,UAAU,EAAInF,OAAO,CAACmF,UAAU,CAAClE,MAAM,CAAG,CAAC,eAClD5E,IAAA,CAACiD,WAAW,EAAA8E,QAAA,CAAEpE,OAAO,CAACmF,UAAU,CAAC,CAAC,CAAC,CAAc,CAClD,cAED9I,IAAA,CAACgB,KAAK,EAAA+G,QAAA,CAAEpE,OAAO,CAACmD,KAAK,CAAQ,CAAC,cAE9B9G,IAAA,CAACmB,WAAW,EAAA4G,QAAA,CAAEpE,OAAO,CAACoF,WAAW,EAAIpF,OAAO,CAACqF,IAAI,EAAI,0BAA0B,CAAc,CAAC,cAE9F9I,KAAA,CAACoB,cAAc,EAAAyG,QAAA,eACb7H,KAAA,CAACsB,KAAK,EAAAuG,QAAA,EAAC,GAAC,CAACvC,eAAe,CAAC,CAAC,CAACyD,OAAO,CAAC,CAAC,CAAC,EAAQ,CAAC,CAC7CX,kBAAkB,CAAG,CAAC,eACrBpI,KAAA,CAAAE,SAAA,EAAA2H,QAAA,eACE7H,KAAA,CAACyB,aAAa,EAAAoG,QAAA,EAAC,GAAC,CAACpE,OAAO,CAAC+B,KAAK,CAACuD,OAAO,CAAC,CAAC,CAAC,EAAgB,CAAC,cAC1D/I,KAAA,CAAC2B,aAAa,EAAAkG,QAAA,EAAC,GAAC,CAACO,kBAAkB,CAAC,GAAC,EAAe,CAAC,EACrD,CACH,EACa,CAAC,cAEjBpI,KAAA,CAAC4C,SAAS,EAACE,OAAO,CAAEA,OAAQ,CAAA+E,QAAA,eAC1B/H,IAAA,MAAGkJ,SAAS,QAAAnD,MAAA,CAAS/C,OAAO,CAAG,iBAAiB,CAAG,iBAAiB,CAAG,CAAI,CAAC,CAC3EA,OAAO,CAAG,UAAU,CAAG,cAAc,EAC7B,CAAC,CAEXW,OAAO,CAACvB,KAAK,EAAIuB,OAAO,CAACvB,KAAK,CAACwC,MAAM,CAAG,CAAC,eACxC5E,IAAA,CAAC+B,YAAY,EAAAgG,QAAA,CACVpE,OAAO,CAACvB,KAAK,CAAC+G,GAAG,CAAE/G,KAAK,eACvBpC,IAAA,CAACiC,WAAW,EAEVG,KAAK,CAAEA,KAAM,CACbC,QAAQ,CAAE4B,aAAa,GAAK7B,KAAM,CAClCmG,OAAO,CAAEA,CAAA,GAAM5C,iBAAiB,CAACvD,KAAK,CAAE,CACxC0E,KAAK,CAAE1E,KAAM,EAJRA,KAKN,CACF,CAAC,CACU,CACf,CAEAmC,YAAY,EAAIA,YAAY,CAACK,MAAM,CAAG,CAAC,eACtC5E,IAAA,CAACsC,WAAW,EAAAyF,QAAA,CACTxD,YAAY,CAAC4E,GAAG,CAAEhE,IAAI,eACrBnF,IAAA,CAACwC,UAAU,EAETH,QAAQ,CAAE8B,YAAY,GAAKgB,IAAK,CAChCoD,OAAO,CAAEA,CAAA,GAAM1C,gBAAgB,CAACV,IAAI,CAAE,CAAA4C,QAAA,CAErC5C,IAAI,EAJAA,IAKK,CACb,CAAC,CACS,CACd,cAEDnF,IAAA,CAAC2C,MAAM,EACL4F,OAAO,CAAEzE,SAAU,CACnBjB,QAAQ,CAAE,CAACG,OAAO,EAAIyB,cAAc,EAAKd,OAAO,CAACwB,IAAI,EAAIxB,OAAO,CAACwB,IAAI,CAACP,MAAM,CAAG,CAAC,EAAI,CAACT,YAAa,EAAKR,OAAO,CAACvB,KAAK,EAAIuB,OAAO,CAACvB,KAAK,CAACwC,MAAM,CAAG,CAAC,EAAI,CAACX,aAAe,CAAA8D,QAAA,CAEnKtD,cAAc,cACbvE,KAAA,CAAAE,SAAA,EAAA2H,QAAA,eACE/H,IAAA,MAAGkJ,SAAS,CAAC,wBAAwB,CAAI,CAAC,YAE5C,EAAE,CAAC,CACD,CAAClG,OAAO,cACV9C,KAAA,CAAAE,SAAA,EAAA2H,QAAA,eACE/H,IAAA,MAAGkJ,SAAS,CAAC,cAAc,CAAI,CAAC,eAElC,EAAE,CAAC,cAEHhJ,KAAA,CAAAE,SAAA,EAAA2H,QAAA,eACE/H,IAAA,MAAGkJ,SAAS,CAAC,sBAAsB,CAAI,CAAC,cAE1C,EAAE,CACH,CACK,CAAC,EACI,CAAC,EACP,CAAC,CAEhB,CAAC,CAED,cAAe,CAAAzF,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}