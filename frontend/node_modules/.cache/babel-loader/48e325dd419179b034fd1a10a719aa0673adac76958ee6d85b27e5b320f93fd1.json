{"ast":null,"code":"import _objectSpread from\"D:/raju new 1/quickcart/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _taggedTemplateLiteral from\"D:/raju new 1/quickcart/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject0,_templateObject1,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18,_templateObject19,_templateObject20,_templateObject21,_templateObject22,_templateObject23,_templateObject24,_templateObject25,_templateObject26,_templateObject27,_templateObject28,_templateObject29,_templateObject30,_templateObject31,_templateObject32,_templateObject33,_templateObject34;import React,{useState,useEffect}from\"react\";import styled from\"styled-components\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 20px;\\n  max-width: 1200px;\\n  margin: 0 auto;\\n  \\n  @media (max-width: 768px) {\\n    padding: 15px 10px;\\n  }\\n\"])));const Title=styled.h1(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  font-weight: 300;\\n  text-align: center;\\n  margin-bottom: 30px;\\n  font-size: 1.75rem;\\n  \\n  @media (min-width: 768px) {\\n    font-size: 2.5rem;\\n  }\\n  \\n  @media (max-width: 480px) {\\n    font-size: 1.5rem;\\n    margin-bottom: 20px;\\n  }\\n\"])));const OrderCard=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  border: 1px solid #e0e0e0;\\n  border-radius: 10px;\\n  padding: 20px;\\n  margin-bottom: 20px;\\n  background: white;\\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\\n  \\n  @media (max-width: 480px) {\\n    padding: 15px;\\n    margin-bottom: 15px;\\n  }\\n\"])));const OrderHeader=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: flex-start;\\n  margin-bottom: 15px;\\n  padding-bottom: 15px;\\n  border-bottom: 1px solid #eee;\\n  flex-direction: column;\\n  gap: 10px;\\n  \\n  @media (min-width: 768px) {\\n    flex-direction: row;\\n    align-items: center;\\n  }\\n\"])));const OrderId=styled.span(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  font-weight: 600;\\n  color: #333;\\n  font-size: 14px;\\n  \\n  @media (min-width: 768px) {\\n    font-size: 16px;\\n  }\\n\"])));const OrderDate=styled.span(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  color: #666;\\n  font-size: 12px;\\n  \\n  @media (min-width: 768px) {\\n    font-size: 14px;\\n  }\\n\"])));const OrderStatus=styled.span(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  padding: 4px 12px;\\n  border-radius: 20px;\\n  font-size: 12px;\\n  font-weight: 600;\\n  background-color: \",\";\\n  color: \",\";\\n\"])),props=>{switch(props.status){case'confirmed':return'#e3f2fd';case'shipped':return'#fff3e0';case'delivered':return'#e8f5e8';case'cancelled':return'#ffebee';case'pending':return'#fff3e0';default:return'#f5f5f5';}},props=>{switch(props.status){case'confirmed':return'#1976d2';case'shipped':return'#f57c00';case'delivered':return'#388e3c';case'cancelled':return'#d32f2f';case'pending':return'#ff9800';default:return'#757575';}});const PaymentStatus=styled.span(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  padding: 4px 12px;\\n  border-radius: 20px;\\n  font-size: 12px;\\n  font-weight: 600;\\n  background-color: \",\";\\n  color: \",\";\\n\"])),props=>{switch(props.status){case'paid':return'#e8f5e8';case'failed':return'#ffebee';case'refunded':return'#fff3e0';case'pending':return'#fff3e0';default:return'#f5f5f5';}},props=>{switch(props.status){case'paid':return'#388e3c';case'failed':return'#d32f2f';case'refunded':return'#f57c00';case'pending':return'#ff9800';default:return'#757575';}});const ProductItem=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  margin-bottom: 15px;\\n  padding: 10px;\\n  background: #f9f9f9;\\n  border-radius: 8px;\\n  \\n  @media (max-width: 768px) {\\n    flex-direction: column;\\n    text-align: center;\\n    gap: 10px;\\n  }\\n\"])));const ProductImage=styled.img(_templateObject0||(_templateObject0=_taggedTemplateLiteral([\"\\n  width: 60px;\\n  height: 60px;\\n  object-fit: cover;\\n  border-radius: 4px;\\n  margin-right: 15px;\\n  \\n  @media (max-width: 768px) {\\n    margin-right: 0;\\n    margin-bottom: 10px;\\n  }\\n\"])));const ProductDetails=styled.div(_templateObject1||(_templateObject1=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  \\n  @media (max-width: 768px) {\\n    text-align: center;\\n  }\\n\"])));const ProductName=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  font-weight: 500;\\n  margin-bottom: 5px;\\n\"])));const ProductPrice=styled.div(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  color: #666;\\n  font-size: 14px;\\n\"])));const AddressSection=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  margin-top: 15px;\\n  padding: 15px;\\n  background: #f8f9fa;\\n  border-radius: 8px;\\n\"])));const AddressTitle=styled.h4(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  margin-bottom: 10px;\\n  color: #333;\\n\"])));const AddressText=styled.p(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\\n  margin: 5px 0;\\n  color: #666;\\n  font-size: 14px;\\n\"])));const OrderTotal=styled.div(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  margin-top: 15px;\\n  padding-top: 15px;\\n  border-top: 1px solid #eee;\\n  font-weight: 600;\\n  font-size: 18px;\\n\"])));const Loading=styled.div(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  padding: 50px;\\n  font-size: 18px;\\n  color: #666;\\n\"])));const EmptyOrders=styled.div(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  text-align: center;\\n  padding: 50px;\\n  color: #666;\\n\"])));const Button=styled.button(_templateObject18||(_templateObject18=_taggedTemplateLiteral([\"\\n  padding: 12px 24px;\\n  background-color: black;\\n  color: white;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  font-weight: 600;\\n  margin-top: 20px;\\n  min-height: 44px;\\n  \\n  @media (max-width: 480px) {\\n    padding: 10px 20px;\\n    font-size: 14px;\\n  }\\n\"])));const StatusRow=styled.div(_templateObject19||(_templateObject19=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 10px;\\n  margin-top: 10px;\\n  flex-wrap: wrap;\\n  \\n  @media (min-width: 768px) {\\n    margin-top: 0;\\n  }\\n\"])));const CancelButton=styled.button(_templateObject20||(_templateObject20=_taggedTemplateLiteral([\"\\n  padding: 10px 20px;\\n  background-color: #f44336;\\n  color: white;\\n  border: none;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  font-weight: 600;\\n  margin-top: 10px;\\n  min-height: 44px;\\n  \\n  &:hover {\\n    background-color: #d32f2f;\\n  }\\n  \\n  &:disabled {\\n    background-color: #cccccc;\\n    cursor: not-allowed;\\n  }\\n  \\n  @media (max-width: 480px) {\\n    padding: 8px 16px;\\n    font-size: 14px;\\n    width: 100%;\\n  }\\n\"])));const TrackingSection=styled.div(_templateObject21||(_templateObject21=_taggedTemplateLiteral([\"\\n  margin-top: 20px;\\n  padding: 20px;\\n  background: #f8f9fa;\\n  border-radius: 8px;\\n  border-left: 4px solid #4CAF50;\\n  \\n  @media (max-width: 480px) {\\n    padding: 15px;\\n  }\\n\"])));const TrackingTitle=styled.h3(_templateObject22||(_templateObject22=_taggedTemplateLiteral([\"\\n  margin-bottom: 15px;\\n  color: #333;\\n\"])));const TrackingSteps=styled.div(_templateObject23||(_templateObject23=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  position: relative;\\n  margin: 20px 0;\\n  \\n  &::before {\\n    content: '';\\n    position: absolute;\\n    top: 15px;\\n    left: 0;\\n    right: 0;\\n    height: 2px;\\n    background: #e0e0e0;\\n    z-index: 1;\\n  }\\n  \\n  @media (max-width: 768px) {\\n    flex-direction: column;\\n    gap: 20px;\\n    \\n    &::before {\\n      display: none;\\n    }\\n  }\\n\"])));const TrackingStep=styled.div(_templateObject24||(_templateObject24=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  position: relative;\\n  z-index: 2;\\n  flex: 1;\\n  \\n  @media (max-width: 768px) {\\n    flex-direction: row;\\n    gap: 15px;\\n  }\\n\"])));const StepCircle=styled.div(_templateObject25||(_templateObject25=_taggedTemplateLiteral([\"\\n  width: 30px;\\n  height: 30px;\\n  border-radius: 50%;\\n  background-color: \",\";\\n  color: white;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  font-weight: bold;\\n  margin-bottom: 8px;\\n  border: 2px solid \",\";\\n  \\n  @media (max-width: 768px) {\\n    margin-bottom: 0;\\n  }\\n\"])),props=>props.active?'#4CAF50':'#e0e0e0',props=>props.active?'#4CAF50':'#e0e0e0');const StepLabel=styled.span(_templateObject26||(_templateObject26=_taggedTemplateLiteral([\"\\n  font-size: 12px;\\n  text-align: center;\\n  color: \",\";\\n  font-weight: \",\";\\n\"])),props=>props.active?'#4CAF50':'#666',props=>props.active?'600':'400');const TrackingInfo=styled.div(_templateObject27||(_templateObject27=_taggedTemplateLiteral([\"\\n  margin-top: 15px;\\n  padding: 15px;\\n  background: white;\\n  border-radius: 6px;\\n  border: 1px solid #e0e0e0;\\n\"])));const TrackingItem=styled.div(_templateObject28||(_templateObject28=_taggedTemplateLiteral([\"\\n  display: flex;\\n  justify-content: space-between;\\n  margin-bottom: 8px;\\n  padding-bottom: 8px;\\n  border-bottom: 1px solid #f0f0f0;\\n  \\n  &:last-child {\\n    margin-bottom: 0;\\n    padding-bottom: 0;\\n    border-bottom: none;\\n  }\\n  \\n  @media (max-width: 480px) {\\n    flex-direction: column;\\n    gap: 5px;\\n  }\\n\"])));const TrackingLabel=styled.span(_templateObject29||(_templateObject29=_taggedTemplateLiteral([\"\\n  font-weight: 600;\\n  color: #333;\\n\"])));const TrackingValue=styled.span(_templateObject30||(_templateObject30=_taggedTemplateLiteral([\"\\n  color: #666;\\n\"])));const ActionButtons=styled.div(_templateObject31||(_templateObject31=_taggedTemplateLiteral([\"\\n  display: flex;\\n  gap: 10px;\\n  margin-top: 15px;\\n  flex-wrap: wrap;\\n\"])));const CancelledMessage=styled.div(_templateObject32||(_templateObject32=_taggedTemplateLiteral([\"\\n  padding: 15px;\\n  margin: 15px 0;\\n  background-color: #fff3e0;\\n  border: 1px solid #ffb74d;\\n  border-radius: 6px;\\n  text-align: center;\\n  color: #e65100;\\n  font-weight: 600;\\n\"])));const SuccessMessage=styled.div(_templateObject33||(_templateObject33=_taggedTemplateLiteral([\"\\n  background: #d4edda;\\n  color: #155724;\\n  padding: 12px;\\n  border-radius: 6px;\\n  margin-bottom: 20px;\\n  border: 1px solid #c3e6cb;\\n\"])));const ErrorMessage=styled.div(_templateObject34||(_templateObject34=_taggedTemplateLiteral([\"\\n  background: #f8d7da;\\n  color: #721c24;\\n  padding: 12px;\\n  border-radius: 6px;\\n  margin-bottom: 20px;\\n  border: 1px solid #f5c6cb;\\n\"])));const Orders=()=>{const[orders,setOrders]=useState([]);const[loading,setLoading]=useState(true);const[cancellingOrder,setCancellingOrder]=useState(null);const[message,setMessage]=useState('');const[error,setError]=useState('');const navigate=useNavigate();const getAuthHeader=()=>{const token=localStorage.getItem('token');return token?{Authorization:\"Bearer \".concat(token)}:{};};// Function to send cancellation email\nconst sendCancellationEmail=async order=>{try{console.log('📧 Sending cancellation email for order:',order.id);const user=JSON.parse(localStorage.getItem('user'));const userEmail=(user===null||user===void 0?void 0:user.email)||order.userEmail;if(!userEmail){console.warn('No email found for cancellation notification');return false;}const emailData={orderData:{id:order.id,products:order.products||order.items||[],address:order.address||order.shippingAddress,totalAmount:order.amount||order.totalAmount,shipping:order.shipping||0,tax:order.tax||0,createdAt:order.createdAt},userEmail:userEmail};const response=await axios.post(\"\".concat(process.env.REACT_APP_API_URL,\"/api/email/order-cancellation\"),emailData,{headers:getAuthHeader()});console.log('✅ Cancellation email sent successfully:',response.data);return true;}catch(emailError){console.error('❌ Failed to send cancellation email:',emailError);return false;}};const fetchOrders=async()=>{try{setLoading(true);const response=await axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/orders\"),{headers:getAuthHeader()});setOrders(response.data.orders||[]);}catch(error){console.error('Error fetching orders:',error);setOrders([]);}finally{setLoading(false);}};useEffect(()=>{const token=localStorage.getItem('token');if(!token){navigate('/login');return;}fetchOrders();},[navigate]);const cancelOrder=async orderId=>{if(!window.confirm('Are you sure you want to cancel this order? Refund will be processed within 5-7 business days.')){return;}setCancellingOrder(orderId);setMessage('');setError('');try{const orderToCancel=orders.find(order=>order.id===orderId);if(!orderToCancel){throw new Error('Order not found');}// Step 1: Update order status to 'cancelled'\nawait axios.put(\"\".concat(process.env.REACT_APP_API_URL,\"/api/orders/\").concat(orderId,\"/status\"),{status:'cancelled'},{headers:getAuthHeader()});// Step 2: If payment was paid, update payment status to 'refunded'\nif(orderToCancel.paymentStatus==='paid'){await axios.put(\"\".concat(process.env.REACT_APP_API_URL,\"/api/orders/\").concat(orderId,\"/payment-status\"),{paymentStatus:'refunded'},{headers:getAuthHeader()});}// ✅ SEND CANCELLATION EMAIL\nconst emailSent=await sendCancellationEmail(orderToCancel);// Update the order status locally immediately\nsetOrders(prevOrders=>prevOrders.map(order=>order.id===orderId?_objectSpread(_objectSpread({},order),{},{status:'cancelled',paymentStatus:order.paymentStatus==='paid'?'refunded':order.paymentStatus}):order));setMessage(\"Order cancelled successfully\".concat(emailSent?' and confirmation email sent':''));// Refresh orders from server after 2 seconds to confirm\nsetTimeout(()=>{fetchOrders();},2000);}catch(error){var _error$response,_error$response$data;console.error('Error cancelling order:',error);const errorMessage=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to cancel order. Please try again.';setError(errorMessage);}finally{setCancellingOrder(null);}};const getTrackingStatus=order=>{if(!['confirmed','shipped','delivered','processing'].includes(order.status)){return null;}const steps=[{id:'confirmed',label:'Order Confirmed',description:'Your order has been confirmed'},{id:'processing',label:'Processing',description:'Preparing your order for shipment'},{id:'shipped',label:'Shipped',description:'Your order is on the way'},{id:'delivered',label:'Delivered',description:'Order delivered successfully'}];let activeStep=0;switch(order.status){case'confirmed':activeStep=0;break;case'processing':activeStep=1;break;case'shipped':activeStep=2;break;case'delivered':activeStep=3;break;default:activeStep=0;}const trackingNumber=\"TRK\".concat(order.id.slice(-8).toUpperCase());const orderDate=new Date(order.createdAt);const estimatedDelivery=new Date(orderDate);estimatedDelivery.setDate(orderDate.getDate()+Math.floor(Math.random()*5)+3);return{steps,activeStep,trackingNumber,estimatedDelivery:estimatedDelivery.toLocaleDateString('en-US',{weekday:'long',year:'numeric',month:'long',day:'numeric'}),carrier:'QuickCart Express',currentLocation:getCurrentLocation(order.status)};};const getCurrentLocation=status=>{switch(status){case'confirmed':return'Processing Center';case'processing':return'Warehouse';case'shipped':return'In Transit';case'delivered':return'Delivered';default:return'Processing Center';}};const canCancelOrder=order=>{return order.status==='confirmed'||order.status==='pending';};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('en-US',{year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'});};const handleContinueShopping=()=>{navigate('/');};const clearMessages=()=>{setMessage('');setError('');};if(loading){return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Title,{children:\"MY ORDERS\"}),/*#__PURE__*/_jsx(Loading,{children:\"Loading your orders...\"})]});}return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Title,{children:\"MY ORDERS\"}),message&&/*#__PURE__*/_jsxs(SuccessMessage,{children:[\"\\u2705 \",message,/*#__PURE__*/_jsx(\"button\",{onClick:clearMessages,style:{marginLeft:'10px',background:'none',border:'none',color:'#155724',cursor:'pointer'},children:\"\\xD7\"})]}),error&&/*#__PURE__*/_jsxs(ErrorMessage,{children:[\"\\u274C \",error,/*#__PURE__*/_jsx(\"button\",{onClick:clearMessages,style:{marginLeft:'10px',background:'none',border:'none',color:'#721c24',cursor:'pointer'},children:\"\\xD7\"})]}),orders.length===0?/*#__PURE__*/_jsxs(EmptyOrders,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"No orders found\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You haven't placed any orders yet.\"}),/*#__PURE__*/_jsx(Button,{onClick:handleContinueShopping,children:\"START SHOPPING\"})]}):orders.map(order=>{const tracking=getTrackingStatus(order);const showCancelButton=canCancelOrder(order);const isCancelled=order.status==='cancelled';return/*#__PURE__*/_jsxs(OrderCard,{children:[/*#__PURE__*/_jsxs(OrderHeader,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(OrderId,{children:[\"Order #: \",order.id]}),/*#__PURE__*/_jsx(OrderDate,{children:formatDate(order.createdAt)})]}),/*#__PURE__*/_jsxs(StatusRow,{children:[/*#__PURE__*/_jsx(OrderStatus,{status:order.status,children:order.status.toUpperCase()}),/*#__PURE__*/_jsx(PaymentStatus,{status:order.paymentStatus,children:order.paymentStatus.toUpperCase()})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Products:\"}),order.products.map((product,index)=>/*#__PURE__*/_jsxs(ProductItem,{children:[/*#__PURE__*/_jsx(ProductImage,{src:product.img||'https://via.placeholder.com/60x60?text=No+Image',alt:product.title}),/*#__PURE__*/_jsxs(ProductDetails,{children:[/*#__PURE__*/_jsx(ProductName,{children:product.title}),/*#__PURE__*/_jsxs(ProductPrice,{children:[\"$\",parseFloat(product.price).toFixed(2),\" \\xD7 \",product.quantity]}),product.size&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Size: \",product.size]}),product.color&&/*#__PURE__*/_jsxs(\"div\",{children:[\"Color: \",product.color]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"$\",(parseFloat(product.price)*product.quantity).toFixed(2)]})]},index))]}),/*#__PURE__*/_jsxs(AddressSection,{children:[/*#__PURE__*/_jsx(AddressTitle,{children:\"Shipping Address\"}),/*#__PURE__*/_jsx(AddressText,{children:order.address.street}),/*#__PURE__*/_jsxs(AddressText,{children:[order.address.city,\", \",order.address.state,\" \",order.address.zipCode]}),/*#__PURE__*/_jsx(AddressText,{children:order.address.country})]}),isCancelled&&/*#__PURE__*/_jsxs(CancelledMessage,{children:[\"\\u274C This order has been cancelled.\",order.paymentStatus==='refunded'&&' Refund has been processed.']}),tracking&&!isCancelled&&/*#__PURE__*/_jsxs(TrackingSection,{children:[/*#__PURE__*/_jsx(TrackingTitle,{children:\"Order Tracking\"}),/*#__PURE__*/_jsx(TrackingSteps,{children:tracking.steps.map((step,index)=>/*#__PURE__*/_jsxs(TrackingStep,{children:[/*#__PURE__*/_jsx(StepCircle,{active:index<=tracking.activeStep,children:index+1}),/*#__PURE__*/_jsx(StepLabel,{active:index<=tracking.activeStep,children:step.label})]},step.id))}),/*#__PURE__*/_jsxs(TrackingInfo,{children:[/*#__PURE__*/_jsxs(TrackingItem,{children:[/*#__PURE__*/_jsx(TrackingLabel,{children:\"Tracking Number:\"}),/*#__PURE__*/_jsx(TrackingValue,{children:tracking.trackingNumber})]}),/*#__PURE__*/_jsxs(TrackingItem,{children:[/*#__PURE__*/_jsx(TrackingLabel,{children:\"Carrier:\"}),/*#__PURE__*/_jsx(TrackingValue,{children:tracking.carrier})]}),/*#__PURE__*/_jsxs(TrackingItem,{children:[/*#__PURE__*/_jsx(TrackingLabel,{children:\"Current Status:\"}),/*#__PURE__*/_jsx(TrackingValue,{children:tracking.steps[tracking.activeStep].description})]}),/*#__PURE__*/_jsxs(TrackingItem,{children:[/*#__PURE__*/_jsx(TrackingLabel,{children:\"Estimated Delivery:\"}),/*#__PURE__*/_jsx(TrackingValue,{children:tracking.estimatedDelivery})]}),/*#__PURE__*/_jsxs(TrackingItem,{children:[/*#__PURE__*/_jsx(TrackingLabel,{children:\"Current Location:\"}),/*#__PURE__*/_jsx(TrackingValue,{children:tracking.currentLocation})]})]})]}),/*#__PURE__*/_jsxs(OrderTotal,{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total Amount:\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",parseFloat(order.amount).toFixed(2)]})]}),showCancelButton&&/*#__PURE__*/_jsx(ActionButtons,{children:/*#__PURE__*/_jsx(CancelButton,{onClick:()=>cancelOrder(order.id),disabled:cancellingOrder===order.id,children:cancellingOrder===order.id?'Cancelling...':'Cancel Order'})})]},order.id);})]});};export default Orders;","map":{"version":3,"names":["React","useState","useEffect","styled","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Container","div","_templateObject","_taggedTemplateLiteral","Title","h1","_templateObject2","OrderCard","_templateObject3","OrderHeader","_templateObject4","OrderId","span","_templateObject5","OrderDate","_templateObject6","OrderStatus","_templateObject7","props","status","PaymentStatus","_templateObject8","ProductItem","_templateObject9","ProductImage","img","_templateObject0","ProductDetails","_templateObject1","ProductName","_templateObject10","ProductPrice","_templateObject11","AddressSection","_templateObject12","AddressTitle","h4","_templateObject13","AddressText","p","_templateObject14","OrderTotal","_templateObject15","Loading","_templateObject16","EmptyOrders","_templateObject17","Button","button","_templateObject18","StatusRow","_templateObject19","CancelButton","_templateObject20","TrackingSection","_templateObject21","TrackingTitle","h3","_templateObject22","TrackingSteps","_templateObject23","TrackingStep","_templateObject24","StepCircle","_templateObject25","active","StepLabel","_templateObject26","TrackingInfo","_templateObject27","TrackingItem","_templateObject28","TrackingLabel","_templateObject29","TrackingValue","_templateObject30","ActionButtons","_templateObject31","CancelledMessage","_templateObject32","SuccessMessage","_templateObject33","ErrorMessage","_templateObject34","Orders","orders","setOrders","loading","setLoading","cancellingOrder","setCancellingOrder","message","setMessage","error","setError","navigate","getAuthHeader","token","localStorage","getItem","Authorization","concat","sendCancellationEmail","order","console","log","id","user","JSON","parse","userEmail","email","warn","emailData","orderData","products","items","address","shippingAddress","totalAmount","amount","shipping","tax","createdAt","response","post","process","env","REACT_APP_API_URL","headers","data","emailError","fetchOrders","get","cancelOrder","orderId","window","confirm","orderToCancel","find","Error","put","paymentStatus","emailSent","prevOrders","map","_objectSpread","setTimeout","_error$response","_error$response$data","errorMessage","getTrackingStatus","includes","steps","label","description","activeStep","trackingNumber","slice","toUpperCase","orderDate","Date","estimatedDelivery","setDate","getDate","Math","floor","random","toLocaleDateString","weekday","year","month","day","carrier","currentLocation","getCurrentLocation","canCancelOrder","formatDate","dateString","hour","minute","handleContinueShopping","clearMessages","children","onClick","style","marginLeft","background","border","color","cursor","length","tracking","showCancelButton","isCancelled","product","index","src","alt","title","parseFloat","price","toFixed","quantity","size","street","city","state","zipCode","country","step","disabled"],"sources":["D:/raju new 1/quickcart/frontend/src/pages/Orders.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Container = styled.div`\r\n  padding: 20px;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  \r\n  @media (max-width: 768px) {\r\n    padding: 15px 10px;\r\n  }\r\n`;\r\n\r\nconst Title = styled.h1`\r\n  font-weight: 300;\r\n  text-align: center;\r\n  margin-bottom: 30px;\r\n  font-size: 1.75rem;\r\n  \r\n  @media (min-width: 768px) {\r\n    font-size: 2.5rem;\r\n  }\r\n  \r\n  @media (max-width: 480px) {\r\n    font-size: 1.5rem;\r\n    margin-bottom: 20px;\r\n  }\r\n`;\r\n\r\nconst OrderCard = styled.div`\r\n  border: 1px solid #e0e0e0;\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n  background: white;\r\n  box-shadow: 0 2px 4px rgba(0,0,0,0.1);\r\n  \r\n  @media (max-width: 480px) {\r\n    padding: 15px;\r\n    margin-bottom: 15px;\r\n  }\r\n`;\r\n\r\nconst OrderHeader = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 15px;\r\n  padding-bottom: 15px;\r\n  border-bottom: 1px solid #eee;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  \r\n  @media (min-width: 768px) {\r\n    flex-direction: row;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nconst OrderId = styled.span`\r\n  font-weight: 600;\r\n  color: #333;\r\n  font-size: 14px;\r\n  \r\n  @media (min-width: 768px) {\r\n    font-size: 16px;\r\n  }\r\n`;\r\n\r\nconst OrderDate = styled.span`\r\n  color: #666;\r\n  font-size: 12px;\r\n  \r\n  @media (min-width: 768px) {\r\n    font-size: 14px;\r\n  }\r\n`;\r\n\r\nconst OrderStatus = styled.span`\r\n  padding: 4px 12px;\r\n  border-radius: 20px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  background-color: ${props => {\r\n    switch(props.status) {\r\n      case 'confirmed': return '#e3f2fd';\r\n      case 'shipped': return '#fff3e0';\r\n      case 'delivered': return '#e8f5e8';\r\n      case 'cancelled': return '#ffebee';\r\n      case 'pending': return '#fff3e0';\r\n      default: return '#f5f5f5';\r\n    }\r\n  }};\r\n  color: ${props => {\r\n    switch(props.status) {\r\n      case 'confirmed': return '#1976d2';\r\n      case 'shipped': return '#f57c00';\r\n      case 'delivered': return '#388e3c';\r\n      case 'cancelled': return '#d32f2f';\r\n      case 'pending': return '#ff9800';\r\n      default: return '#757575';\r\n    }\r\n  }};\r\n`;\r\n\r\nconst PaymentStatus = styled.span`\r\n  padding: 4px 12px;\r\n  border-radius: 20px;\r\n  font-size: 12px;\r\n  font-weight: 600;\r\n  background-color: ${props => {\r\n    switch(props.status) {\r\n      case 'paid': return '#e8f5e8';\r\n      case 'failed': return '#ffebee';\r\n      case 'refunded': return '#fff3e0';\r\n      case 'pending': return '#fff3e0';\r\n      default: return '#f5f5f5';\r\n    }\r\n  }};\r\n  color: ${props => {\r\n    switch(props.status) {\r\n      case 'paid': return '#388e3c';\r\n      case 'failed': return '#d32f2f';\r\n      case 'refunded': return '#f57c00';\r\n      case 'pending': return '#ff9800';\r\n      default: return '#757575';\r\n    }\r\n  }};\r\n`;\r\n\r\nconst ProductItem = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 15px;\r\n  padding: 10px;\r\n  background: #f9f9f9;\r\n  border-radius: 8px;\r\n  \r\n  @media (max-width: 768px) {\r\n    flex-direction: column;\r\n    text-align: center;\r\n    gap: 10px;\r\n  }\r\n`;\r\n\r\nconst ProductImage = styled.img`\r\n  width: 60px;\r\n  height: 60px;\r\n  object-fit: cover;\r\n  border-radius: 4px;\r\n  margin-right: 15px;\r\n  \r\n  @media (max-width: 768px) {\r\n    margin-right: 0;\r\n    margin-bottom: 10px;\r\n  }\r\n`;\r\n\r\nconst ProductDetails = styled.div`\r\n  flex: 1;\r\n  \r\n  @media (max-width: 768px) {\r\n    text-align: center;\r\n  }\r\n`;\r\n\r\nconst ProductName = styled.div`\r\n  font-weight: 500;\r\n  margin-bottom: 5px;\r\n`;\r\n\r\nconst ProductPrice = styled.div`\r\n  color: #666;\r\n  font-size: 14px;\r\n`;\r\n\r\nconst AddressSection = styled.div`\r\n  margin-top: 15px;\r\n  padding: 15px;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n`;\r\n\r\nconst AddressTitle = styled.h4`\r\n  margin-bottom: 10px;\r\n  color: #333;\r\n`;\r\n\r\nconst AddressText = styled.p`\r\n  margin: 5px 0;\r\n  color: #666;\r\n  font-size: 14px;\r\n`;\r\n\r\nconst OrderTotal = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-top: 15px;\r\n  padding-top: 15px;\r\n  border-top: 1px solid #eee;\r\n  font-weight: 600;\r\n  font-size: 18px;\r\n`;\r\n\r\nconst Loading = styled.div`\r\n  text-align: center;\r\n  padding: 50px;\r\n  font-size: 18px;\r\n  color: #666;\r\n`;\r\n\r\nconst EmptyOrders = styled.div`\r\n  text-align: center;\r\n  padding: 50px;\r\n  color: #666;\r\n`;\r\n\r\nconst Button = styled.button`\r\n  padding: 12px 24px;\r\n  background-color: black;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  margin-top: 20px;\r\n  min-height: 44px;\r\n  \r\n  @media (max-width: 480px) {\r\n    padding: 10px 20px;\r\n    font-size: 14px;\r\n  }\r\n`;\r\n\r\nconst StatusRow = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 10px;\r\n  flex-wrap: wrap;\r\n  \r\n  @media (min-width: 768px) {\r\n    margin-top: 0;\r\n  }\r\n`;\r\n\r\nconst CancelButton = styled.button`\r\n  padding: 10px 20px;\r\n  background-color: #f44336;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  margin-top: 10px;\r\n  min-height: 44px;\r\n  \r\n  &:hover {\r\n    background-color: #d32f2f;\r\n  }\r\n  \r\n  &:disabled {\r\n    background-color: #cccccc;\r\n    cursor: not-allowed;\r\n  }\r\n  \r\n  @media (max-width: 480px) {\r\n    padding: 8px 16px;\r\n    font-size: 14px;\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst TrackingSection = styled.div`\r\n  margin-top: 20px;\r\n  padding: 20px;\r\n  background: #f8f9fa;\r\n  border-radius: 8px;\r\n  border-left: 4px solid #4CAF50;\r\n  \r\n  @media (max-width: 480px) {\r\n    padding: 15px;\r\n  }\r\n`;\r\n\r\nconst TrackingTitle = styled.h3`\r\n  margin-bottom: 15px;\r\n  color: #333;\r\n`;\r\n\r\nconst TrackingSteps = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  position: relative;\r\n  margin: 20px 0;\r\n  \r\n  &::before {\r\n    content: '';\r\n    position: absolute;\r\n    top: 15px;\r\n    left: 0;\r\n    right: 0;\r\n    height: 2px;\r\n    background: #e0e0e0;\r\n    z-index: 1;\r\n  }\r\n  \r\n  @media (max-width: 768px) {\r\n    flex-direction: column;\r\n    gap: 20px;\r\n    \r\n    &::before {\r\n      display: none;\r\n    }\r\n  }\r\n`;\r\n\r\nconst TrackingStep = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  position: relative;\r\n  z-index: 2;\r\n  flex: 1;\r\n  \r\n  @media (max-width: 768px) {\r\n    flex-direction: row;\r\n    gap: 15px;\r\n  }\r\n`;\r\n\r\nconst StepCircle = styled.div`\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 50%;\r\n  background-color: ${props => props.active ? '#4CAF50' : '#e0e0e0'};\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: bold;\r\n  margin-bottom: 8px;\r\n  border: 2px solid ${props => props.active ? '#4CAF50' : '#e0e0e0'};\r\n  \r\n  @media (max-width: 768px) {\r\n    margin-bottom: 0;\r\n  }\r\n`;\r\n\r\nconst StepLabel = styled.span`\r\n  font-size: 12px;\r\n  text-align: center;\r\n  color: ${props => props.active ? '#4CAF50' : '#666'};\r\n  font-weight: ${props => props.active ? '600' : '400'};\r\n`;\r\n\r\nconst TrackingInfo = styled.div`\r\n  margin-top: 15px;\r\n  padding: 15px;\r\n  background: white;\r\n  border-radius: 6px;\r\n  border: 1px solid #e0e0e0;\r\n`;\r\n\r\nconst TrackingItem = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 8px;\r\n  padding-bottom: 8px;\r\n  border-bottom: 1px solid #f0f0f0;\r\n  \r\n  &:last-child {\r\n    margin-bottom: 0;\r\n    padding-bottom: 0;\r\n    border-bottom: none;\r\n  }\r\n  \r\n  @media (max-width: 480px) {\r\n    flex-direction: column;\r\n    gap: 5px;\r\n  }\r\n`;\r\n\r\nconst TrackingLabel = styled.span`\r\n  font-weight: 600;\r\n  color: #333;\r\n`;\r\n\r\nconst TrackingValue = styled.span`\r\n  color: #666;\r\n`;\r\n\r\nconst ActionButtons = styled.div`\r\n  display: flex;\r\n  gap: 10px;\r\n  margin-top: 15px;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst CancelledMessage = styled.div`\r\n  padding: 15px;\r\n  margin: 15px 0;\r\n  background-color: #fff3e0;\r\n  border: 1px solid #ffb74d;\r\n  border-radius: 6px;\r\n  text-align: center;\r\n  color: #e65100;\r\n  font-weight: 600;\r\n`;\r\n\r\nconst SuccessMessage = styled.div`\r\n  background: #d4edda;\r\n  color: #155724;\r\n  padding: 12px;\r\n  border-radius: 6px;\r\n  margin-bottom: 20px;\r\n  border: 1px solid #c3e6cb;\r\n`;\r\n\r\nconst ErrorMessage = styled.div`\r\n  background: #f8d7da;\r\n  color: #721c24;\r\n  padding: 12px;\r\n  border-radius: 6px;\r\n  margin-bottom: 20px;\r\n  border: 1px solid #f5c6cb;\r\n`;\r\n\r\nconst Orders = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [cancellingOrder, setCancellingOrder] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const getAuthHeader = () => {\r\n    const token = localStorage.getItem('token');\r\n    return token ? { Authorization: `Bearer ${token}` } : {};\r\n  };\r\n\r\n  // Function to send cancellation email\r\n  const sendCancellationEmail = async (order) => {\r\n    try {\r\n      console.log('📧 Sending cancellation email for order:', order.id);\r\n      \r\n      const user = JSON.parse(localStorage.getItem('user'));\r\n      const userEmail = user?.email || order.userEmail;\r\n\r\n      if (!userEmail) {\r\n        console.warn('No email found for cancellation notification');\r\n        return false;\r\n      }\r\n\r\n      const emailData = {\r\n        orderData: {\r\n          id: order.id,\r\n          products: order.products || order.items || [],\r\n          address: order.address || order.shippingAddress,\r\n          totalAmount: order.amount || order.totalAmount,\r\n          shipping: order.shipping || 0,\r\n          tax: order.tax || 0,\r\n          createdAt: order.createdAt\r\n        },\r\n        userEmail: userEmail\r\n      };\r\n\r\n      const response = await axios.post(\r\n        `${process.env.REACT_APP_API_URL}/api/email/order-cancellation`,\r\n        emailData,\r\n        { headers: getAuthHeader() }\r\n      );\r\n\r\n      console.log('✅ Cancellation email sent successfully:', response.data);\r\n      return true;\r\n    } catch (emailError) {\r\n      console.error('❌ Failed to send cancellation email:', emailError);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const fetchOrders = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.get(\r\n        `${process.env.REACT_APP_API_URL}/api/orders`,\r\n        { headers: getAuthHeader() }\r\n      );\r\n      setOrders(response.data.orders || []);\r\n    } catch (error) {\r\n      console.error('Error fetching orders:', error);\r\n      setOrders([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      navigate('/login');\r\n      return;\r\n    }\r\n    fetchOrders();\r\n  }, [navigate]);\r\n\r\n  const cancelOrder = async (orderId) => {\r\n    if (!window.confirm('Are you sure you want to cancel this order? Refund will be processed within 5-7 business days.')) {\r\n      return;\r\n    }\r\n\r\n    setCancellingOrder(orderId);\r\n    setMessage('');\r\n    setError('');\r\n\r\n    try {\r\n      const orderToCancel = orders.find(order => order.id === orderId);\r\n      \r\n      if (!orderToCancel) {\r\n        throw new Error('Order not found');\r\n      }\r\n\r\n      // Step 1: Update order status to 'cancelled'\r\n      await axios.put(\r\n        `${process.env.REACT_APP_API_URL}/api/orders/${orderId}/status`,\r\n        { status: 'cancelled' },\r\n        { headers: getAuthHeader() }\r\n      );\r\n\r\n      // Step 2: If payment was paid, update payment status to 'refunded'\r\n      if (orderToCancel.paymentStatus === 'paid') {\r\n        await axios.put(\r\n          `${process.env.REACT_APP_API_URL}/api/orders/${orderId}/payment-status`,\r\n          { paymentStatus: 'refunded' },\r\n          { headers: getAuthHeader() }\r\n        );\r\n      }\r\n\r\n      // ✅ SEND CANCELLATION EMAIL\r\n      const emailSent = await sendCancellationEmail(orderToCancel);\r\n      \r\n      // Update the order status locally immediately\r\n      setOrders(prevOrders => \r\n        prevOrders.map(order => \r\n          order.id === orderId \r\n            ? { \r\n                ...order, \r\n                status: 'cancelled',\r\n                paymentStatus: order.paymentStatus === 'paid' ? 'refunded' : order.paymentStatus\r\n              }\r\n            : order\r\n        )\r\n      );\r\n\r\n      setMessage(`Order cancelled successfully${emailSent ? ' and confirmation email sent' : ''}`);\r\n      \r\n      // Refresh orders from server after 2 seconds to confirm\r\n      setTimeout(() => {\r\n        fetchOrders();\r\n      }, 2000);\r\n\r\n    } catch (error) {\r\n      console.error('Error cancelling order:', error);\r\n      const errorMessage = error.response?.data?.error || 'Failed to cancel order. Please try again.';\r\n      setError(errorMessage);\r\n    } finally {\r\n      setCancellingOrder(null);\r\n    }\r\n  };\r\n\r\n  const getTrackingStatus = (order) => {\r\n    if (!['confirmed', 'shipped', 'delivered', 'processing'].includes(order.status)) {\r\n      return null;\r\n    }\r\n\r\n    const steps = [\r\n      { id: 'confirmed', label: 'Order Confirmed', description: 'Your order has been confirmed' },\r\n      { id: 'processing', label: 'Processing', description: 'Preparing your order for shipment' },\r\n      { id: 'shipped', label: 'Shipped', description: 'Your order is on the way' },\r\n      { id: 'delivered', label: 'Delivered', description: 'Order delivered successfully' }\r\n    ];\r\n\r\n    let activeStep = 0;\r\n    \r\n    switch (order.status) {\r\n      case 'confirmed':\r\n        activeStep = 0;\r\n        break;\r\n      case 'processing':\r\n        activeStep = 1;\r\n        break;\r\n      case 'shipped':\r\n        activeStep = 2;\r\n        break;\r\n      case 'delivered':\r\n        activeStep = 3;\r\n        break;\r\n      default:\r\n        activeStep = 0;\r\n    }\r\n\r\n    const trackingNumber = `TRK${order.id.slice(-8).toUpperCase()}`;\r\n    \r\n    const orderDate = new Date(order.createdAt);\r\n    const estimatedDelivery = new Date(orderDate);\r\n    estimatedDelivery.setDate(orderDate.getDate() + Math.floor(Math.random() * 5) + 3);\r\n\r\n    return {\r\n      steps,\r\n      activeStep,\r\n      trackingNumber,\r\n      estimatedDelivery: estimatedDelivery.toLocaleDateString('en-US', {\r\n        weekday: 'long',\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric'\r\n      }),\r\n      carrier: 'QuickCart Express',\r\n      currentLocation: getCurrentLocation(order.status)\r\n    };\r\n  };\r\n\r\n  const getCurrentLocation = (status) => {\r\n    switch (status) {\r\n      case 'confirmed':\r\n        return 'Processing Center';\r\n      case 'processing':\r\n        return 'Warehouse';\r\n      case 'shipped':\r\n        return 'In Transit';\r\n      case 'delivered':\r\n        return 'Delivered';\r\n      default:\r\n        return 'Processing Center';\r\n    }\r\n  };\r\n\r\n  const canCancelOrder = (order) => {\r\n    return order.status === 'confirmed' || order.status === 'pending';\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  const handleContinueShopping = () => {\r\n    navigate('/');\r\n  };\r\n\r\n  const clearMessages = () => {\r\n    setMessage('');\r\n    setError('');\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container>\r\n        <Title>MY ORDERS</Title>\r\n        <Loading>Loading your orders...</Loading>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Title>MY ORDERS</Title>\r\n      \r\n      {message && (\r\n        <SuccessMessage>\r\n          ✅ {message}\r\n          <button onClick={clearMessages} style={{ marginLeft: '10px', background: 'none', border: 'none', color: '#155724', cursor: 'pointer' }}>\r\n            ×\r\n          </button>\r\n        </SuccessMessage>\r\n      )}\r\n\r\n      {error && (\r\n        <ErrorMessage>\r\n          ❌ {error}\r\n          <button onClick={clearMessages} style={{ marginLeft: '10px', background: 'none', border: 'none', color: '#721c24', cursor: 'pointer' }}>\r\n            ×\r\n          </button>\r\n        </ErrorMessage>\r\n      )}\r\n      \r\n      {orders.length === 0 ? (\r\n        <EmptyOrders>\r\n          <h3>No orders found</h3>\r\n          <p>You haven't placed any orders yet.</p>\r\n          <Button onClick={handleContinueShopping}>START SHOPPING</Button>\r\n        </EmptyOrders>\r\n      ) : (\r\n        orders.map((order) => {\r\n          const tracking = getTrackingStatus(order);\r\n          const showCancelButton = canCancelOrder(order);\r\n          const isCancelled = order.status === 'cancelled';\r\n\r\n          return (\r\n            <OrderCard key={order.id}>\r\n              <OrderHeader>\r\n                <div>\r\n                  <OrderId>Order #: {order.id}</OrderId>\r\n                  <OrderDate>{formatDate(order.createdAt)}</OrderDate>\r\n                </div>\r\n                <StatusRow>\r\n                  <OrderStatus status={order.status}>\r\n                    {order.status.toUpperCase()}\r\n                  </OrderStatus>\r\n                  <PaymentStatus status={order.paymentStatus}>\r\n                    {order.paymentStatus.toUpperCase()}\r\n                  </PaymentStatus>\r\n                </StatusRow>\r\n              </OrderHeader>\r\n\r\n              <div>\r\n                <h4>Products:</h4>\r\n                {order.products.map((product, index) => (\r\n                  <ProductItem key={index}>\r\n                    <ProductImage \r\n                      src={product.img || 'https://via.placeholder.com/60x60?text=No+Image'} \r\n                      alt={product.title}\r\n                    />\r\n                    <ProductDetails>\r\n                      <ProductName>{product.title}</ProductName>\r\n                      <ProductPrice>\r\n                        ${parseFloat(product.price).toFixed(2)} × {product.quantity}\r\n                      </ProductPrice>\r\n                      {product.size && <div>Size: {product.size}</div>}\r\n                      {product.color && <div>Color: {product.color}</div>}\r\n                    </ProductDetails>\r\n                    <div>\r\n                      ${(parseFloat(product.price) * product.quantity).toFixed(2)}\r\n                    </div>\r\n                  </ProductItem>\r\n                ))}\r\n              </div>\r\n\r\n              <AddressSection>\r\n                <AddressTitle>Shipping Address</AddressTitle>\r\n                <AddressText>{order.address.street}</AddressText>\r\n                <AddressText>\r\n                  {order.address.city}, {order.address.state} {order.address.zipCode}\r\n                </AddressText>\r\n                <AddressText>{order.address.country}</AddressText>\r\n              </AddressSection>\r\n\r\n              {isCancelled && (\r\n                <CancelledMessage>\r\n                  ❌ This order has been cancelled. \r\n                  {order.paymentStatus === 'refunded' && ' Refund has been processed.'}\r\n                </CancelledMessage>\r\n              )}\r\n\r\n              {tracking && !isCancelled && (\r\n                <TrackingSection>\r\n                  <TrackingTitle>Order Tracking</TrackingTitle>\r\n                  \r\n                  <TrackingSteps>\r\n                    {tracking.steps.map((step, index) => (\r\n                      <TrackingStep key={step.id}>\r\n                        <StepCircle active={index <= tracking.activeStep}>\r\n                          {index + 1}\r\n                        </StepCircle>\r\n                        <StepLabel active={index <= tracking.activeStep}>\r\n                          {step.label}\r\n                        </StepLabel>\r\n                      </TrackingStep>\r\n                    ))}\r\n                  </TrackingSteps>\r\n\r\n                  <TrackingInfo>\r\n                    <TrackingItem>\r\n                      <TrackingLabel>Tracking Number:</TrackingLabel>\r\n                      <TrackingValue>{tracking.trackingNumber}</TrackingValue>\r\n                    </TrackingItem>\r\n                    <TrackingItem>\r\n                      <TrackingLabel>Carrier:</TrackingLabel>\r\n                      <TrackingValue>{tracking.carrier}</TrackingValue>\r\n                    </TrackingItem>\r\n                    <TrackingItem>\r\n                      <TrackingLabel>Current Status:</TrackingLabel>\r\n                      <TrackingValue>{tracking.steps[tracking.activeStep].description}</TrackingValue>\r\n                    </TrackingItem>\r\n                    <TrackingItem>\r\n                      <TrackingLabel>Estimated Delivery:</TrackingLabel>\r\n                      <TrackingValue>{tracking.estimatedDelivery}</TrackingValue>\r\n                    </TrackingItem>\r\n                    <TrackingItem>\r\n                      <TrackingLabel>Current Location:</TrackingLabel>\r\n                      <TrackingValue>{tracking.currentLocation}</TrackingValue>\r\n                    </TrackingItem>\r\n                  </TrackingInfo>\r\n                </TrackingSection>\r\n              )}\r\n\r\n              <OrderTotal>\r\n                <span>Total Amount:</span>\r\n                <span>${parseFloat(order.amount).toFixed(2)}</span>\r\n              </OrderTotal>\r\n\r\n              {showCancelButton && (\r\n                <ActionButtons>\r\n                  <CancelButton \r\n                    onClick={() => cancelOrder(order.id)}\r\n                    disabled={cancellingOrder === order.id}\r\n                  >\r\n                    {cancellingOrder === order.id ? 'Cancelling...' : 'Cancel Order'}\r\n                  </CancelButton>\r\n                </ActionButtons>\r\n              )}\r\n            </OrderCard>\r\n          );\r\n        })\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Orders;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}